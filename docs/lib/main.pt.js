(function(){'use strict';var kh=Math.PI,wh=Math.acos,jh=Math.asin,Sh=Math.atan,Th=Math.atan2,Ch=Math.sin,Ah=Math.cos,Eh=Math.round,Oh=Math.sqrt,Nh=Math.min,Ph=Math.abs,Mh=Math.pow,Ih=Math.LN10,Rh=Math.log,Uh=Math.max,zh=Math.floor,Bh=Math.ceil;function e(){for(var e=0,o=arguments.length,n={},d;e<o;++e){if(!(d=arguments[e]+"")||d in n)throw new Error("illegal type: "+d);n[d]=[]}return new a(n)}function a(e){this._=e}function o(e,n){return e.trim().split(/^|\s+/).map(function(e){var a="",o=e.indexOf(".");if(0<=o&&(a=e.slice(o+1),e=e.slice(0,o)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:a}})}function d(e,t){for(var a=0,o=e.length,n;a<o;++a)if((n=e[a]).name===t)return n.value}function r(e,t,a){for(var o=0,d=e.length;o<d;++o)if(e[o].name===t){e[o]=Dh,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=a&&e.push({name:t,value:a}),e}function l(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function s(e,t){var n=l(e);return function(a,o){return t(n(a),o,e)}}function f(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var a in e)a in t||n.push(t[a]=a)}),n}function p(e,t){var n=e+"",a=n.length;return a<t?Array(t-a+1).join(0)+n:n}function u(e){return 0>e?"-"+p(-e,6):9999<e?"+"+p(e,6):p(e,4)}function h(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),a=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":u(e.getUTCFullYear(),4)+"-"+p(e.getUTCMonth()+1,2)+"-"+p(e.getUTCDate(),2)+(o?"T"+p(t,2)+":"+p(n,2)+":"+p(a,2)+"."+p(o,3)+"Z":a?"T"+p(t,2)+":"+p(n,2)+":"+p(a,2)+"Z":n||t?"T"+p(t,2)+":"+p(n,2)+"Z":"")}function b(e){function t(e,a){function o(){if(f)return Lh;if(p)return p=!1,Wh;var t=s,n,a;if(34===e.charCodeAt(t)){for(;s++<l&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(n=s)>=l?f=!0:10===(a=e.charCodeAt(s++))?p=!0:13===a&&(p=!0,10===e.charCodeAt(s)&&++s),e.slice(t+1,n-1).replace(/""/g,"\"")}for(;s<l;){if((a=e.charCodeAt(n=s++))===10)p=!0;else if(a===13)p=!0,10===e.charCodeAt(s)&&++s;else if(a!==r)continue;return e.slice(t,n)}return f=!0,e.slice(t,l)}var d=[],l=e.length,s=0,i=0,f=0>=l,p=!1,u;for(10===e.charCodeAt(l-1)&&--l,13===e.charCodeAt(l-1)&&--l;(u=o())!==Lh;){for(var c=[];u!==Wh&&u!==Lh;)c.push(u),u=o();a&&null==(c=a(c,i++))||d.push(c)}return d}function n(t,n){return t.map(function(t){return n.map(function(e){return o(t[e])}).join(e)})}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?h(e):d.test(e+="")?"\""+e.replace(/"/g,"\"\"")+"\"":e}var d=new RegExp("[\""+e+"\n\r]"),r=e.charCodeAt(0);return{parse:function(e,n){var a=t(e,function(e,t){return o?o(e,t-1):void(d=e,o=n?s(e,n):l(e))}),o,d;return a.columns=d||[],a},parseRows:t,format:function(t,a){return null==a&&(a=f(t)),[a.map(o).join(e)].concat(n(t,a)).join("\n")},formatBody:function(e,t){return null==t&&(t=f(e)),n(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")}}}function g(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function _(e,t){return fetch(e,t).then(g)}function m(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.json()}function v(e,t){return fetch(e,t).then(m)}function k(e){var t=Jh.call(e,eb),n=e[eb];try{e[eb]=void 0;var a=!0}catch(t){}var o=Qh.call(e);return a&&(t?e[eb]=n:delete e[eb]),o}function w(e){return nb.call(e)}function j(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ab&&ab in Object(e)?k(e):w(e)}function S(e){return null!=e&&"object"==typeof e}function T(e){return"symbol"==typeof e||S(e)&&j(e)=="[object Symbol]"}function O(e){return"number"==typeof e?e:T(e)?ob:+e}function N(e,t){for(var n=-1,a=null==e?0:e.length,o=Array(a);++n<a;)o[n]=t(e[n],n,e);return o}function P(e){if("string"==typeof e)return e;if(db(e))return N(e,P)+"";if(T(e))return cb?cb.call(e):"";var t=e+"";return"0"==t&&1/e==-ib?"-0":t}function M(e,t){return function(n,a){var o;if(void 0===n&&void 0===a)return t;if(void 0!==n&&(o=n),void 0!==a){if(void 0===o)return a;"string"==typeof n||"string"==typeof a?(n=P(n),a=P(a)):(n=O(n),a=O(a)),o=e(n,a)}return o}}function I(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function R(e){if("number"==typeof e)return e;if(T(e))return sb;if(I(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=I(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(fb,"");var n=ub.test(e);return n||hb.test(e)?bb(e.slice(2),n?2:8):pb.test(e)?sb:+e}function U(e){if(!e)return 0===e?e:0;if(e=R(e),e===gb||e===-gb){var t=0>e?-1:1;return 1.7976931348623157e+308*t}return e===e?e:0}function z(e){var t=U(e),n=t%1;return t===t?n?t-n:t:0}function W(e){return e}function L(e){if(!I(e))return!1;var t=j(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"}function Y(e){return!!_b&&_b in e}function F(e){if(null!=e){try{return xb.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function q(e){if(!I(e)||Y(e))return!1;var t=L(e)?Cb:kb;return t.test(F(e))}function H(e,t){return null==e?void 0:e[t]}function V(e,t){var n=H(e,t);return q(n)?n:void 0}function X(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);}var n=Pb(e.prototype),a=e.apply(n,t);return I(a)?a:n}}function G(e,t,n){function a(){var t=this&&this!==Zh&&this instanceof a?d:e;return t.apply(o?n:this,arguments)}var o=t&1,d=X(e);return a}function Z(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);}return e.apply(t,n)}function $(e,t,n,a){for(var o=-1,d=e.length,i=n.length,r=-1,c=t.length,l=Mb(d-i,0),s=Array(c+l),f=!a;++r<c;)s[r]=t[r];for(;++o<i;)(f||o<d)&&(s[n[o]]=e[o]);for(;l--;)s[r++]=e[o++];return s}function J(e,t,n,a){for(var o=-1,d=e.length,i=-1,r=n.length,c=-1,l=t.length,s=Ib(d-r,0),f=Array(s+l),p=!a;++o<s;)f[o]=e[o];for(var u=o;++c<l;)f[u+c]=t[c];for(;++i<r;)(p||o<d)&&(f[u+n[i]]=e[o++]);return f}function Q(e,t){for(var n=e.length,a=0;n--;)e[n]===t&&++a;return a}function ee(){}function te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function ne(){}function ae(e){for(var t=e.name+"",n=Ub[t],a=Bb.call(Ub,t)?n.length:0;a--;){var o=n[a],d=o.func;if(null==d||d==e)return o.name}return t}function oe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function de(e,t){var n=-1,a=e.length;for(t||(t=Array(a));++n<a;)t[n]=e[n];return t}function ie(e){if(e instanceof te)return e.clone();var t=new oe(e.__wrapped__,e.__chain__);return t.__actions__=de(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ce(e){if(S(e)&&!db(e)&&!(e instanceof te)){if(e instanceof oe)return e;if(Wb.call(e,"__wrapped__"))return ie(e)}return new oe(e)}function le(e){var t=ae(e),n=ce[t];if("function"!=typeof n||!(t in te.prototype))return!1;if(e===n)return!0;var a=Rb(n);return!!a&&e===a[0]}function se(e){var t=0,n=0;return function(){var a=Lb(),o=16-(a-n);if(n=a,!(0<o))t=0;else if(800<=++t)return arguments[0];return e.apply(void 0,arguments)}}function fe(e){var t=e.match(Fb);return t?t[1].split(qb):[]}function pe(e,t){var n=t.length;if(!n)return e;var a=n-1;return t[a]=(1<n?"& ":"")+t[a],t=t.join(2<n?", ":" "),e.replace(Hb,"{\n/* [wrapped with "+t+"] */\n")}function ue(e){return function(){return e}}function he(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!(!1===t(e[n],n,e)););return e}function be(e,t,n,a){for(var o=e.length,d=n+(a?1:-1);a?d--:++d<o;)if(t(e[d],d,e))return d;return-1}function ge(e){return e!==e}function ye(e,t,n){for(var a=n-1,o=e.length;++a<o;)if(e[a]===t)return a;return-1}function _e(e,t,n){return t===t?ye(e,t,n):be(e,ge,n)}function me(e,t){var n=null==e?0:e.length;return!!n&&-1<_e(e,t,0)}function xe(e,t){return he(Zb,function(n){var a="_."+n[0];t&n[1]&&!me(e,a)&&e.push(a)}),e.sort()}function ve(e,t,n){var a=t+"";return Gb(e,pe(a,xe(fe(a),n)))}function ke(e,t,n,a,o,d,i,r,c,l){var s=8&t,f=s?i:void 0,p=s?void 0:i,u=s?d:void 0,h=s?void 0:d;t|=s?32:64,t&=~(s?64:32),4&t||(t&=-4);var b=[e,t,o,u,f,h,p,r,c,l],g=n.apply(void 0,b);return le(e)&&Yb(g,b),g.placeholder=a,ve(g,e,t)}function we(e){return e.placeholder}function je(e,t){var n=typeof e;return t=null==t?9007199254740991:t,!!t&&("number"==n||"symbol"!=n&&$b.test(e))&&-1<e&&0==e%1&&e<t}function Se(e,t){for(var n=e.length,a=Kb(t.length,n),o=de(e);a--;){var d=t[a];e[a]=je(d,n)?o[d]:void 0}return e}function Te(e,t){for(var n=-1,a=e.length,o=0,d=[];++n<a;){var i=e[n];(i===t||i==="__lodash_placeholder__")&&(e[n]="__lodash_placeholder__",d[o++]=n)}return d}function Ce(e,t,n,a,o,d,i,r,c,l){function s(){for(var y=arguments.length,_=Array(y),m=y;m--;)_[m]=arguments[m];if(h)var x=we(s),v=Q(_,x);if(a&&(_=$(_,a,o,h)),d&&(_=J(_,d,i,h)),y-=v,h&&y<l){var k=Te(_,x);return ke(e,t,Ce,s.placeholder,n,_,k,r,c,l-y)}var w=p?n:this,j=u?w[e]:e;return y=_.length,r?_=Se(_,r):b&&1<y&&_.reverse(),f&&c<y&&(_.length=c),this&&this!==Zh&&this instanceof s&&(j=g||X(j)),j.apply(w,_)}var f=t&128,p=t&1,u=t&2,h=t&24,b=t&512,g=u?void 0:X(e);return s}function Ae(e,t,n){function a(){for(var d=arguments.length,i=Array(d),r=d,c=we(a);r--;)i[r]=arguments[r];var l=3>d&&i[0]!==c&&i[d-1]!==c?[]:Te(i,c);if(d-=l.length,d<n)return ke(e,t,Ce,a.placeholder,void 0,i,l,void 0,void 0,n-d);var s=this&&this!==Zh&&this instanceof a?o:e;return Z(s,this,i)}var o=X(e);return a}function Ee(e,t,n,a){function o(){for(var t=-1,r=arguments.length,c=-1,l=a.length,s=Array(l+r),f=this&&this!==Zh&&this instanceof o?i:e;++c<l;)s[c]=a[c];for(;r--;)s[c++]=arguments[++t];return Z(f,d?n:this,s)}var d=t&1,i=X(e);return o}function Oe(e,t){var n=e[1],a=t[1],o=n|a,d=131>o,i=128==a&&8==n||128==a&&256==n&&e[7].length<=t[8]||384==a&&t[7].length<=t[8]&&8==n;if(!(d||i))return e;1&a&&(e[2]=t[2],o|=1&n?0:4);var r=t[3];if(r){var c=e[3];e[3]=c?$(c,r,t[4]):r,e[4]=c?Te(e[3],"__lodash_placeholder__"):t[4]}return r=t[5],r&&(c=e[5],e[5]=c?J(c,r,t[6]):r,e[6]=c?Te(e[5],"__lodash_placeholder__"):t[6]),r=t[7],r&&(e[7]=r),128&a&&(e[8]=null==e[8]?t[8]:Jb(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Ne(e,t,n,a,o,d,i,r){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var l=a?a.length:0;if(l||(t&=-97,a=o=void 0),i=void 0===i?i:Qb(z(i),0),r=void 0===r?r:z(r),l-=o?o.length:0,64&t){var s=a,f=o;a=o=void 0}var p=c?void 0:Rb(e),u=[e,t,n,a,o,s,f,d,i,r];if(p&&Oe(u,p),e=u[0],t=u[1],n=u[2],a=u[3],o=u[4],r=u[9]=void 0===u[9]?c?0:e.length:Qb(u[9]-l,0),!r&&24&t&&(t&=-25),!t||1==t)var h=G(e,t,n);else h=8==t||16==t?Ae(e,t,r):32!=t&&33!=t||o.length?Ce.apply(void 0,u):Ee(e,t,n,a);var b=p?Ob:Yb;return ve(b(h,u),e,t)}function Pe(e,t,a){return t=a?void 0:t,t=e&&null==t?e.length:t,Ne(e,128,void 0,void 0,void 0,void 0,t)}function Me(e,t,n){"__proto__"==t&&Vb?Vb(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ie(e,t){return e===t||e!==e&&t!==t}function t(e,t,n){var a=e[t];tg.call(e,t)&&Ie(a,n)&&(n!==void 0||t in e)||Me(e,t,n)}function n(e,n,a,o){var d=!a;a||(a={});for(var i=-1,r=n.length;++i<r;){var c=n[i],l=o?o(a[c],e[c],c,a,e):void 0;l===void 0&&(l=e[c]),d?Me(a,c,l):t(a,c,l)}return a}function i(e,t,n){return t=ng(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,d=ng(a.length-t,0),i=Array(d);++o<d;)i[o]=a[t+o];o=-1;for(var r=Array(t+1);++o<t;)r[o]=a[o];return r[t]=n(i),Z(e,this,r)}}function Re(e,t){return Gb(i(e,t,W),e+"")}function Ue(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function ze(e){return null!=e&&Ue(e.length)&&!L(e)}function Be(e,t,n){if(!I(n))return!1;var a=typeof t;return!("number"==a?!(ze(n)&&je(t,n.length)):!("string"==a&&t in n))&&Ie(n[t],e)}function De(e){return Re(function(t,n){var a=-1,o=n.length,d=1<o?n[o-1]:void 0,i=2<o?n[2]:void 0;for(d=3<e.length&&"function"==typeof d?(o--,d):void 0,i&&Be(n[0],n[1],i)&&(d=3>o?void 0:d,o=1),t=Object(t);++a<o;){var r=n[a];r&&e(t,r,a,d)}return t})}function We(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ag;return e===n}function Le(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function Ye(e){return S(e)&&j(e)=="[object Arguments]"}function Fe(){return!1}function qe(e){return function(t){return e(t)}}function He(e,t){var n=db(e),a=!n&&rg(e),o=!n&&!a&&ug(e),d=!n&&!a&&!o&&vg(e),i=n||a||o||d,r=i?Le(e.length,String):[],c=r.length;for(var l in e)(t||wg.call(e,l))&&!(i&&("length"==l||o&&("offset"==l||"parent"==l)||d&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||je(l,c)))&&r.push(l);return r}function Ve(e,t){return function(n){return e(t(n))}}function Xe(e){if(!We(e))return jg(e);var t=[];for(var n in Object(e))Tg.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ge(e){return ze(e)?He(e):Xe(e)}function Ze(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function $e(e){if(!I(e))return Ze(e);var t=We(e),n=[];for(var a in e)("constructor"!=a||!t&&Ng.call(e,a))&&n.push(a);return n}function Ke(e){return ze(e)?He(e,!0):$e(e)}function Je(e,t){if(db(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||T(e))||Ug.test(e)||!Rg.test(e)||null!=t&&e in Object(t)}function Qe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function et(e,t){for(var n=e.length;n--;)if(Ie(e[n][0],t))return n;return-1}function tt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function nt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ot(e,t){var n=e.__data__;return nt(t)?n["string"==typeof t?"string":"hash"]:n.map}function dt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function it(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var a=arguments,o=t?t.apply(this,a):a[0],d=n.cache;if(d.has(o))return d.get(o);var i=e.apply(this,a);return n.cache=d.set(o,i)||d,i};return n.cache=new(it.Cache||dt),n}function rt(e){return null==e?"":P(e)}function ct(e,t){return db(e)?e:Je(e,t)?[e]:Xg(rt(e))}function st(e){if("string"==typeof e||T(e))return e;var t=e+"";return"0"==t&&1/e==-Gg?"-0":t}function ft(e,t){t=ct(t,e);for(var n=0,a=t.length;null!=e&&n<a;)e=e[st(t[n++])];return n&&n==a?e:void 0}function pt(e,t,n){var a=null==e?void 0:ft(e,t);return a===void 0?n:a}function ut(e,t){for(var n=-1,a=t.length,o=Array(a);++n<a;)o[n]=null==e?void 0:pt(e,t[n]);return o}function ht(e,t){for(var n=-1,a=t.length,o=e.length;++n<a;)e[o+n]=t[n];return e}function bt(e){return db(e)||rg(e)||!!(Zg&&e&&e[Zg])}function yt(e,t,n,a,o){var d=-1,i=e.length;for(n||(n=bt),o||(o=[]);++d<i;){var r=e[d];0<t&&n(r)?1<t?yt(r,t-1,n,a,o):ht(o,r):!a&&(o[o.length]=r)}return o}function _t(e){var t=null==e?0:e.length;return t?yt(e,1):[]}function mt(e){return Gb(i(e,void 0,_t),e+"")}function xt(e){if(!S(e)||j(e)!="[object Object]")return!1;var t=at(e);if(null===t)return!0;var n=ey.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Qg.call(n)==ty}function vt(e){if(!S(e))return!1;var t=j(e);return t=="[object Error]"||t=="[object DOMException]"||"string"==typeof e.message&&"string"==typeof e.name&&!xt(e)}function kt(e,t){var a;if("function"!=typeof t)throw new TypeError("Expected a function");return e=z(e),function(){return 0<--e&&(a=t.apply(this,arguments)),1>=e&&(t=void 0),a}}function wt(e,t,n){var a=-1,o=e.length;0>t&&(t=-t>o?0:o+t),n=n>o?o:n,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var d=Array(o);++a<o;)d[a]=e[a+t];return d}function jt(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:wt(e,t,n)}function St(e){return iy.test(e)}function Tt(e){return e.split("")}function Ct(e){return e.match(yy)||[]}function At(e){return St(e)?Ct(e):Tt(e)}function Et(e){return function(t){t=rt(t);var n=St(t)?At(t):void 0,a=n?n[0]:t.charAt(0),o=n?jt(n,1).join(""):t.slice(1);return a[e]()+o}}function Ot(e){return _y(rt(e).toLowerCase())}function Nt(e,t,n,a){var o=-1,d=null==e?0:e.length;for(a&&d&&(n=e[++o]);++o<d;)n=t(n,e[o],o,e);return n}function Pt(e){return function(t){return null==e?void 0:e[t]}}function Mt(e){return e=rt(e),e&&e.replace(xy,my).replace(vy,"")}function It(e){return e.match(ky)||[]}function Rt(e){return wy.test(e)}function Ut(e){return e.match(qy)||[]}function zt(e,t,n){return e=rt(e),t=n?void 0:t,void 0===t?Rt(e)?Ut(e):It(e):e.match(t)||[]}function Bt(e){return function(t){return Nt(zt(Mt(t).replace(Hy,"")),e,"")}}function Dt(e){var t=Math[e];return function(e,n){if(e=R(e),n=null==n?0:Xy(z(n),292),n){var a=(rt(e)+"e").split("e"),o=t(a[0]+"e"+(+a[1]+n));return a=(rt(o)+"e").split("e"),+(a[0]+"e"+(+a[1]-n))}return t(e)}}function Wt(e){var t=ce(e);return t.__chain__=!0,t}function Lt(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Yt(e){var t=this.__data__=new tt(e);this.size=t.size}function Ft(e,t){return e&&n(t,Ge(t),e)}function qt(e,t){return e&&n(t,Ke(t),e)}function Ht(e,t){if(t)return e.slice();var n=e.length,a=Qy?Qy(n):new e.constructor(n);return e.copy(a),a}function Vt(e,t){for(var n=-1,a=null==e?0:e.length,o=0,d=[];++n<a;){var i=e[n];t(i,n,e)&&(d[o++]=i)}return d}function Xt(){return[]}function Gt(e,t){return n(e,a_(e),t)}function Zt(e,t){return n(e,d_(e),t)}function $t(e,t,n){var a=t(e);return db(e)?a:ht(a,n(e))}function Kt(e){return $t(e,Ge,a_)}function Jt(e){return $t(e,Ke,d_)}function Qt(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&k_.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function en(e){var t=new e.constructor(e.byteLength);return new w_(t).set(new w_(e)),t}function tn(e,t){var n=t?en(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function nn(e){var t=new e.constructor(e.source,j_.exec(e));return t.lastIndex=e.lastIndex,t}function an(e){return T_?Object(T_.call(e)):{}}function on(e,t){var n=t?en(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function dn(e,t,n){var a=e.constructor;return"[object ArrayBuffer]"===t?en(e):"[object Boolean]"===t||"[object Date]"===t?new a(+e):"[object DataView]"===t?tn(e,n):"[object Float32Array]"===t||"[object Float64Array]"===t||"[object Int8Array]"===t||"[object Int16Array]"===t||"[object Int32Array]"===t||"[object Uint8Array]"===t||"[object Uint8ClampedArray]"===t||"[object Uint16Array]"===t||"[object Uint32Array]"===t?on(e,n):"[object Map]"===t?new a:"[object Number]"===t||"[object String]"===t?new a(e):"[object RegExp]"===t?nn(e):"[object Set]"===t?new a:"[object Symbol]"===t?an(e):void 0}function rn(e){return"function"!=typeof e.constructor||We(e)?{}:Pb(at(e))}function cn(e,n,a,o,d,i){var r=1&n,c=2&n,l;if(a&&(l=d?a(e,o,d,i):a(e)),void 0!==l)return l;if(!I(e))return e;var s=db(e);if(!s){var f=x_(e),p="[object Function]"==f||"[object GeneratorFunction]"==f;if(ug(e))return Ht(e,r);if("[object Object]"!=f&&"[object Arguments]"!=f&&(!p||d)){if(!N_[f])return d?e:{};l=dn(e,f,r)}else if(l=c||p?{}:rn(e),!r)return c?Zt(e,qt(l,e)):Gt(e,Ft(l,e))}else if(l=Qt(e),!r)return de(e,l);i||(i=new Yt);var u=i.get(e);if(u)return u;if(i.set(e,l),O_(e))return e.forEach(function(t){l.add(cn(t,n,a,t,e,i))}),l;if(A_(e))return e.forEach(function(t,o){l.set(o,cn(t,n,a,o,e,i))}),l;var h=4&n?c?Jt:Kt:c?keysIn:Ge,b=s?void 0:h(e);return he(b||e,function(o,d){b&&(d=o,o=e[d]),t(l,d,cn(o,n,a,d,e,i))}),l}function ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new dt;++t<n;)this.add(e[t])}function sn(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function fn(e,t){return e.has(t)}function pn(e,t,n,a,o,d){var i=1&n,r=e.length,c=t.length;if(r!=c&&!(i&&c>r))return!1;var l=d.get(e);if(l&&d.get(t))return l==t;var s=-1,f=!0,p=2&n?new ln:void 0;for(d.set(e,t),d.set(t,e);++s<r;){var u=e[s],h=t[s];if(a)var b=i?a(h,u,s,t,e,d):a(u,h,s,e,t,d);if(void 0!==b){if(b)continue;f=!1;break}if(p){if(!sn(t,function(e,t){if(!fn(p,t)&&(u===e||o(u,e,n,a,d)))return p.push(t)})){f=!1;break}}else if(!(u===h||o(u,h,n,a,d))){f=!1;break}}return d["delete"](e),d["delete"](t),f}function un(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function bn(e,t,n,a,o,d,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!!(e.byteLength==t.byteLength&&d(new w_(e),new w_(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ie(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var r=un;case"[object Set]":var c=1&a;if(r||(r=hn),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;a|=2,i.set(e,t);var s=pn(r(e),r(t),a,o,d,i);return i["delete"](e),s;case"[object Symbol]":if(M_)return M_.call(e)==M_.call(t);}return!1}function gn(e,t,n,a,o,d){var i=1&n,r=Kt(e),c=r.length,l=Kt(t),s=l.length;if(c!=s&&!i)return!1;for(var f=c,p;f--;)if(p=r[f],i?!(p in t):!R_.call(t,p))return!1;var u=d.get(e);if(u&&d.get(t))return u==t;var h=!0;d.set(e,t),d.set(t,e);for(var b=i;++f<c;){p=r[f];var g=e[p],y=t[p];if(a)var _=i?a(y,g,p,t,e,d):a(g,y,p,e,t,d);if(void 0===_?!(g===y||o(g,y,n,a,d)):!_){h=!1;break}b||(b="constructor"==p)}if(h&&!b){var m=e.constructor,x=t.constructor;m!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x)&&(h=!1)}return d["delete"](e),d["delete"](t),h}function yn(e,t,n,a,o,d){var i=db(e),r=db(t),c=i?"[object Array]":x_(e),l=r?"[object Array]":x_(t);c="[object Arguments]"==c?"[object Object]":c,l="[object Arguments]"==l?"[object Object]":l;var s="[object Object]"==c,f="[object Object]"==l,p=c==l;if(p&&ug(e)){if(!ug(t))return!1;i=!0,s=!1}if(p&&!s)return d||(d=new Yt),i||vg(e)?pn(e,t,n,a,o,d):bn(e,t,c,n,a,o,d);if(!(1&n)){var u=s&&z_.call(e,"__wrapped__"),h=f&&z_.call(t,"__wrapped__");if(u||h){var b=u?e.value():e,g=h?t.value():t;return d||(d=new Yt),o(b,g,n,a,d)}}return!!p&&(d||(d=new Yt),gn(e,t,n,a,o,d))}function _n(e,t,n,a,o){return!(e!==t)||(null!=e&&null!=t&&(S(e)||S(t))?yn(e,t,n,a,_n,o):e!==e&&t!==t)}function mn(e,t,n,a){var o=n.length,d=o,i=!a;if(null==e)return!d;for(e=Object(e);o--;){var r=n[o];if(i&&r[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1}for(;++o<d;){r=n[o];var c=r[0],l=e[c],s=r[1];if(!(i&&r[2])){var f=new Yt;if(a)var p=a(l,s,c,e,t,f);if(void 0===p?!_n(s,l,3,a,f):!p)return!1}else if(void 0===l&&!(c in e))return!1}return!0}function xn(e){return e===e&&!I(e)}function vn(e){for(var t=Ge(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,xn(o)]}return t}function kn(e,t){return function(n){return null!=n&&n[e]===t&&(t!==void 0||e in Object(n))}}function wn(e){var t=vn(e);return 1==t.length&&t[0][2]?kn(t[0][0],t[0][1]):function(n){return n===e||mn(n,e,t)}}function jn(e,t){return null!=e&&t in Object(e)}function Sn(e,t,n){t=ct(t,e);for(var a=-1,o=t.length,d=!1,i;++a<o&&(i=st(t[a]),!!(d=null!=e&&n(e,i)));)e=e[i];return d||++a!=o?d:(o=null==e?0:e.length,!!o&&Ue(o)&&je(i,o)&&(db(e)||rg(e)))}function Tn(e,t){return null!=e&&Sn(e,t,jn)}function Cn(e,t){return Je(e)&&xn(t)?kn(st(e),t):function(n){var a=pt(n,e);return a===void 0&&a===t?Tn(n,e):_n(t,a,3)}}function An(e){return function(t){return null==t?void 0:t[e]}}function En(e){return function(t){return ft(t,e)}}function On(e){return Je(e)?An(st(e)):En(e)}function Nn(e){return"function"==typeof e?e:null==e?W:"object"==typeof e?db(e)?Cn(e[0],e[1]):wn(e):On(e)}function Pn(e,t,n){var a=n.length;if(null==e)return!a;for(e=Object(e);a--;){var o=n[a],d=t[o],i=e[o];if(i===void 0&&!(o in e)||!d(i))return!1}return!0}function Mn(e){var t=Ge(e);return function(n){return Pn(n,e,t)}}function In(e,t,n,a){for(var o=-1,d=null==e?0:e.length;++o<d;){var i=e[o];t(a,i,n(i),e)}return a}function Rn(e){return function(t,n,a){for(var o=-1,d=Object(t),i=a(t),r=i.length;r--;){var c=i[e?r:++o];if(!1===n(d[c],c,d))break}return t}}function Un(e,t){return e&&B_(e,t,Ge)}function zn(e,t){return function(n,a){if(null==n)return n;if(!ze(n))return e(n,a);for(var o=n.length,d=t?o:-1,i=Object(n);(t?d--:++d<o)&&!(!1===a(i[d],d,i)););return n}}function Bn(e,t,n,a){return D_(e,function(e,o,d){t(a,e,n(e),d)}),a}function Dn(e,t){return function(n,a){var o=db(n)?In:Bn,d=t?t():{};return o(n,e,Nn(a,2),d)}}function Wn(e,t,n){t=n?void 0:t;var a=Ne(e,8,void 0,void 0,void 0,void 0,void 0,t);return a.placeholder=Wn.placeholder,a}function Ln(e,t,n){t=n?void 0:t;var a=Ne(e,16,void 0,void 0,void 0,void 0,void 0,t);return a.placeholder=Ln.placeholder,a}function Yn(e,t,n){function a(t){var n=g,a=y;return g=y=void 0,p=t,m=e.apply(a,n),m}function o(e){return p=e,x=setTimeout(r,t),u?a(e):m}function d(e){var n=e-v,a=e-p,o=t-n;return h?H_(o,_-a):o}function i(e){var n=e-v,a=e-p;return void 0===v||n>=t||0>n||h&&a>=_}function r(){var e=F_();return i(e)?c(e):void(x=setTimeout(r,d(e)))}function c(e){return(x=void 0,b&&g)?a(e):(g=y=void 0,m)}function l(){void 0!==x&&clearTimeout(x),p=0,g=v=y=x=void 0}function s(){return void 0===x?m:c(F_())}function f(){var e=F_(),n=i(e);if(g=arguments,y=this,v=e,n){if(void 0===x)return o(v);if(h)return x=setTimeout(r,t),a(v)}return void 0===x&&(x=setTimeout(r,t)),m}var p=0,u=!1,h=!1,b=!0,g,y,_,m,x,v;if("function"!=typeof e)throw new TypeError("Expected a function");return t=R(t)||0,I(n)&&(u=!!n.leading,h="maxWait"in n,_=h?q_(R(n.maxWait)||0,t):_,b="trailing"in n?!!n.trailing:b),f.cancel=l,f.flush=s,f}function Fn(e,t,n){(n===void 0||Ie(e[t],n))&&(n!==void 0||t in e)||Me(e,t,n)}function qn(e){return S(e)&&ze(e)}function Hn(e,t){return"__proto__"==t?void 0:e[t]}function Vn(e){return n(e,Ke(e))}function Gn(e,t,n,a,o,d,i){var r=Hn(e,n),c=Hn(t,n),l=i.get(c);if(l)return void Fn(e,n,l);var s=d?d(r,c,n+"",e,t,i):void 0,f=s===void 0;if(f){var p=db(c),u=!p&&ug(c),h=!p&&!u&&vg(c);s=c,p||u||h?db(r)?s=r:qn(r)?s=de(r):u?(f=!1,s=Ht(c,!0)):h?(f=!1,s=on(c,!0)):s=[]:xt(c)||rg(c)?(s=r,rg(r)?s=Vn(r):(!I(r)||L(r))&&(s=rn(c))):f=!1}f&&(i.set(c,s),o(s,c,a,d,i),i["delete"](c)),Fn(e,n,s)}function $n(e,t,n,a,o){e===t||B_(t,function(d,i){if(I(d))o||(o=new Yt),Gn(e,t,i,n,$n,a,o);else{var r=a?a(Hn(e,i),d,i+"",e,t,o):void 0;r===void 0&&(r=d),Fn(e,i,r)}},Ke)}function Kn(e,t,n,a,o,d){return I(e)&&I(t)&&(d.set(t,e),$n(e,t,void 0,Kn,d),d["delete"](t)),e}function Jn(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout(function(){e.apply(void 0,n)},t)}function Qn(e,t,n){for(var a=-1,o=null==e?0:e.length;++a<o;)if(n(t,e[a]))return!0;return!1}function ea(e,t,n,a){var o=-1,d=me,i=!0,r=e.length,c=[],l=t.length;if(!r)return c;n&&(t=N(t,qe(n))),a?(d=Qn,i=!1):t.length>=200&&(d=fn,i=!1,t=new ln(t));outer:for(;++o<r;){var s=e[o],f=null==n?s:n(s);if(s=a||0!==s?s:0,i&&f===f){for(var p=l;p--;)if(t[p]===f)continue outer;c.push(s)}else d(t,f,a)||c.push(s)}return c}function ta(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function na(e,t,n,a){for(var o=e.length,d=a?o:-1;(a?d--:++d<o)&&t(e[d],d,e););return n?wt(e,a?0:d,a?d+1:o):wt(e,a?d+1:0,a?o:d)}function aa(e){return"function"==typeof e?e:W}function oa(e,t){var n=db(e)?he:D_;return n(e,aa(t))}function da(e,t){for(var n=null==e?0:e.length;n--&&!(!1===t(e[n],n,e)););return e}function ia(e,t){return e&&am(e,t,Ge)}function ra(e,t){var n=db(e)?da:om;return n(e,aa(t))}function ca(e,t){return N(t,function(t){return[t,e[t]]})}function la(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function sa(e){return function(t){var n=x_(t);return"[object Map]"==n?un(t):"[object Set]"==n?la(t):ca(t,e(t))}}function fa(e){return e=rt(e),e&&lm.test(e)?e.replace(cm,rm):e}function pa(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(!t(e[n],n,e))return!1;return!0}function ua(e,t){var n=!0;return D_(e,function(e,a,o){return n=!!t(e,a,o),n}),n}function ha(e){return e?Lt(z(e),0,4294967295):0}function ba(e,t,n,a){var o=e.length;for(n=z(n),0>n&&(n=-n>o?0:o+n),a=void 0===a||a>o?o:z(a),0>a&&(a+=o),a=n>a?0:ha(a);n<a;)e[n++]=t;return e}function ga(e,t){var n=[];return D_(e,function(e,a,o){t(e,a,o)&&n.push(e)}),n}function ya(e){return function(t,n,a){var o=Object(t);if(!ze(t)){var d=Nn(n,3);t=Ge(t),n=function(e){return d(o[e],e,o)}}var i=e(t,n,a);return-1<i?o[d?t[i]:i]:void 0}}function _a(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var o=null==n?0:z(n);return 0>o&&(o=pm(a+o,0)),be(e,Nn(t,3),o)}function ma(e,t,n){var a;return n(e,function(e,n,o){if(t(e,n,o))return a=n,!1}),a}function xa(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var o=a-1;return void 0!==n&&(o=z(n),o=0>n?hm(a+o,0):bm(o,a-1)),be(e,Nn(t,3),o,!0)}function va(e){return e&&e.length?e[0]:void 0}function ka(e,t){var n=-1,a=ze(e)?Array(e.length):[];return D_(e,function(e,o,d){a[++n]=t(e,o,d)}),a}function wa(e,t){var n=db(e)?N:ka;return n(e,Nn(t,3))}function ja(e){return mt(function(t){var n=t.length,a=n,o=oe.prototype.thru;for(e&&t.reverse();a--;){var d=t[a];if("function"!=typeof d)throw new TypeError("Expected a function");if(o&&!i&&"wrapper"==ae(d))var i=new oe([],!0)}for(a=i?a:n;++a<n;){d=t[a];var r=ae(d),c="wrapper"==r?Rb(d):void 0;i=c&&le(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?i[ae(c[0])].apply(i,c[3]):1==d.length&&le(d)?i[r]():i.thru(d)}return function(){var e=arguments,a=e[0];if(i&&1==e.length&&db(a))return i.plant(a).value();for(var o=0,d=n?t[o].apply(this,e):a;++o<n;)d=t[o].call(this,d);return d}})}function Sa(e,t){return Vt(t,function(t){return L(e[t])})}function Ta(e,t){return e>t}function Ca(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=R(t),n=R(n)),e(t,n)}}function Aa(e,t){return null!=e&&Sm.call(e,t)}function Ea(e,t,n){return e>=Cm(t,n)&&e<Tm(t,n)}function Oa(e){return"string"==typeof e||!db(e)&&S(e)&&j(e)=="[object String]"}function Na(e,t){return N(t,function(t){return e[t]})}function Pa(e){return null==e?[]:Na(e,Ge(e))}function Ma(e,t,n){for(var a=n?Qn:me,o=e[0].length,d=e.length,i=d,r=Array(d),c=1/0,l=[];i--;){var s=e[i];i&&t&&(s=N(s,qe(t))),c=Am(s.length,c),r[i]=!n&&(t||120<=o&&120<=s.length)?new ln(i&&s):void 0}s=e[0];var f=-1,p=r[0];outer:for(;++f<o&&l.length<c;){var u=s[f],h=t?t(u):u;if(u=n||0!==u?u:0,p?!fn(p,h):!a(l,h,n)){for(i=d;--i;){var b=r[i];if(b?!fn(b,h):!a(e[i],h,n))continue outer}p&&p.push(h),l.push(u)}}return l}function Ia(e){return qn(e)?e:[]}function Ra(e,t,n,a){return Un(e,function(e,o,d){t(a,n(e),o,d)}),a}function Ua(e,t){return function(n,a){return Ra(n,e,t(a),{})}}function za(e,t){return 2>t.length?e:ft(e,wt(t,0,-1))}function Ba(e,t,n){t=ct(t,e),e=za(e,t);var a=null==e?e:e[st(ta(t))];return null==a?void 0:Z(a,e,n)}function Da(e){return"number"==typeof e&&e==z(e)}function Wa(e){return"number"==typeof e||S(e)&&j(e)=="[object Number]"}function La(e,t,n){for(var a=n+1;a--;)if(e[a]===t)return a;return a}function Ya(e,t){return e<t}function Fa(e,t,n){for(var a=-1,o=e.length;++a<o;){var d=e[a],i=t(d);if(null!=i&&(r===void 0?i===i&&!T(i):n(i,r)))var r=i,c=d}return c}function qa(e,t){for(var n=-1,a=e.length,o;++n<a;){var d=t(e[n]);d!==void 0&&(o=o===void 0?d:o+d)}return o}function Ha(e,t){var n=null==e?0:e.length;return n?qa(e,t)/n:ox}function Va(e,t,n){var a=Ge(t),o=Sa(t,a),d=!(I(n)&&"chain"in n)||!!n.chain,i=L(e);return he(o,function(n){var a=t[n];e[n]=a,i&&(e.prototype[n]=function(){var t=this.__chain__;if(d||t){var n=e(this.__wrapped__),o=n.__actions__=de(this.__actions__);return o.push({func:a,args:arguments,thisArg:e}),n.__chain__=t,n}return a.apply(e,ht([this.value()],arguments))})}),e}function Xa(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2]);}return!e.apply(this,t)}}function Ga(e){for(var t=[],n;!(n=e.next()).done;)t.push(n.value);return t}function Za(e){if(!e)return[];if(ze(e))return Oa(e)?At(e):de(e);if(lx&&e[lx])return Ga(e[lx]());var t=x_(e),n=t=="[object Map]"?un:t=="[object Set]"?hn:Pa;return n(e)}function $a(e,t){var a=e.length;if(a)return t+=0>t?a:0,je(t,a)?e[t]:void 0}function Ka(e,t){return t=ct(t,e),e=za(e,t),null==e||delete e[st(ta(t))]}function Ja(e){return xt(e)?void 0:e}function Qa(e,n,a,o){if(!I(e))return e;n=ct(n,e);for(var d=-1,i=n.length,r=e;null!=r&&++d<i;){var c=st(n[d]),l=a;if(d!=i-1){var s=r[c];l=o?o(s,c,r):void 0,l===void 0&&(l=I(s)?s:je(n[d+1])?[]:{})}t(r,c,l),r=r[c]}return e}function eo(e,t,n){for(var a=-1,o=t.length,d={};++a<o;){var i=t[a],r=ft(e,i);n(r,i)&&Qa(d,ct(i,e),r)}return d}function to(e,t){if(null==e)return{};var n=N(Jt(e),function(e){return[e]});return t=Nn(t),eo(e,n,function(e,n){return t(e,n[0])})}function no(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function ao(e,t){if(e!==t){var n=e!==void 0,a=null===e,o=e===e,d=T(e),i=t!==void 0,r=null===t,c=t===t,l=T(t);if(!r&&!l&&!d&&e>t||d&&i&&c&&!r&&!l||a&&i&&c||!n&&c||!o)return 1;if(!a&&!d&&!l&&e<t||l&&n&&o&&!a&&!d||r&&n&&o||!i&&o||!c)return-1}return 0}function oo(e,t,n){for(var a=-1,o=e.criteria,d=t.criteria,i=o.length,r=n.length;++a<i;){var c=ao(o[a],d[a]);if(c){if(a>=r)return c;var l=n[a];return c*("desc"==l?-1:1)}}return e.index-t.index}function io(e,t,n){var a=-1;t=N(t.length?t:[W],qe(Nn));var o=ka(e,function(e){var n=N(t,function(t){return t(e)});return{criteria:n,index:++a,value:e}});return no(o,function(e,t){return oo(e,t,n)})}function ro(e){return mt(function(t){return t=N(t,qe(Nn)),Re(function(n){var a=this;return e(t,function(e){return Z(e,a,n)})})})}function co(e,t){var a="";if(!e||1>t||t>9007199254740991)return a;do t%2&&(a+=e),t=bx(t/2),t&&(e+=e);while(t);return a}function lo(e){for(var t=Cx.lastIndex=0;Cx.test(e);)++t;return t}function so(e){return St(e)?lo(e):gx(e)}function fo(e,t){t=t===void 0?" ":P(t);var n=t.length;if(2>n)return n?co(t,e):t;var a=co(t,Ax(e/so(t)));return St(t)?jt(At(a),0,e).join(""):a.slice(0,e)}function po(e,t){return eo(e,t,function(t,n){return Tn(e,n)})}function uo(e,t,n,a){for(var o=n-1,d=e.length;++o<d;)if(a(e[o],t))return o;return-1}function ho(e,t,n,a){var o=a?uo:_e,d=-1,i=t.length,r=e;for(e===t&&(t=de(t)),n&&(r=N(e,qe(n)));++d<i;)for(var c=0,l=t[d],s=n?n(l):l;-1<(c=o(r,s,c,a));)r!==e&&Ux.call(r,c,1),Ux.call(e,c,1);return e}function bo(e,t){return e&&e.length&&t&&t.length?ho(e,t):e}function go(e,t){for(var n=e?t.length:0,a=n-1;n--;){var o=t[n];if(n==a||o!==d){var d=o;je(o)?Dx.call(e,o,1):Ka(e,o)}}return e}function yo(e,t){return e+Lx(Yx()*(t-e+1))}function _o(e,t,n,a){for(var o=-1,d=Vx(Hx((t-e)/(n||1)),0),i=Array(d);d--;)i[a?d:++o]=e,e+=n;return i}function mo(e){return function(t,n,a){return a&&"number"!=typeof a&&Be(t,n,a)&&(n=a=void 0),t=U(t),void 0===n?(n=t,t=0):n=U(n),a=void 0===a?t<n?1:-1:U(a),_o(t,n,a,e)}}function xo(e,t,n,a,o){return o(e,function(e,o,d){n=a?(a=!1,e):t(n,e,o,d)}),n}function vo(e,t,n,a){var o=null==e?0:e.length;for(a&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function ko(e){return null==e?e:Kx.call(e)}function wo(e){var t=e.length;return t?e[yo(0,t-1)]:void 0}function jo(e){return wo(Pa(e))}function So(e,t){var n=-1,a=e.length;for(t=void 0===t?a:t;++n<t;){var o=yo(n,a-1),d=e[o];e[o]=e[n],e[n]=d}return e.length=t,e}function To(e,t){return So(de(e),Lt(t,0,e.length))}function Co(e,t){var n=Pa(e);return So(n,Lt(t,0,n.length))}function Ao(e){return So(de(e))}function Eo(e){return So(Pa(e))}function Oo(e,t){var n;return D_(e,function(e,a,o){return n=t(e,a,o),!n}),!!n}function No(e,t,n,a){t=n(t);for(var o=0,d=null==e?0:e.length,i=t!==t,r=null===t,c=T(t),l=void 0===t;o<d;){var s=tv((o+d)/2),f=n(e[s]),p=f!==void 0,u=null===f,h=f===f,b=T(f);if(i)var g=a||h;else g=l?h&&(a||p):r?h&&p&&(a||!u):c?h&&p&&!u&&(a||!b):!(u||b)&&(a?f<=t:f<t);g?o=s+1:d=s}return nv(d,4294967294)}function Po(e,t,n){var a=0,o=null==e?a:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;a<o;){var d=a+o>>>1,i=e[d];null!==i&&!T(i)&&(n?i<=t:i<t)?a=d+1:o=d}return o}return No(e,t,W,n)}function Mo(e,t){for(var n=-1,a=e.length,o=0,d=[];++n<a;){var i=e[n],r=t?t(i):i;if(!n||!Ie(r,c)){var c=r;d[o++]=0===i?0:i}}return d}function Io(e,t,n,a){return void 0===e||Ie(e,dv[n])&&!iv.call(a,n)?t:e}function Ro(e){return"\\"+rv[e]}function Uo(e,t,n){var a=fv.imports._.templateSettings||fv;n&&Be(e,t,n)&&(t=void 0),e=rt(e),t=Mg({},t,a,Io);var o=Mg({},t.imports,a.imports,Io),d=Ge(o),i=Na(o,d),r=0,c=t.interpolate||gv,l="__p += '",s=RegExp((t.escape||gv).source+"|"+c.source+"|"+(c===cv?bv:gv).source+"|"+(t.evaluate||gv).source+"|$","g"),f="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"",p,u;e.replace(s,function(t,n,a,o,d,i){return a||(a=o),l+=e.slice(r,i).replace(yv,Ro),n&&(p=!0,l+="' +\n__e("+n+") +\n'"),d&&(u=!0,l+="';\n"+d+";\n__p += '"),a&&(l+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),r=i+t.length,t}),l+="';\n";var h=t.variable;h||(l="with (obj) {\n"+l+"\n}\n"),l=(u?l.replace(pv,""):l).replace(uv,"$1").replace(hv,"$1;"),l="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(p?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var b=ny(function(){return Function(d,f+"return "+l).apply(void 0,i)});if(b.source=l,vt(b))throw b;return b}function zo(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return I(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),Yn(e,t,{leading:a,maxWait:t,trailing:o})}function Bo(e,t){return t(e)}function Do(e,t){var n=e;return n instanceof te&&(n=n.value()),Nt(t,function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))},n)}function Wo(){return Do(this.__wrapped__,this.__actions__)}function Lo(e,t){for(var n=e.length;n--&&-1<_e(t,e[n],0););return n}function Yo(e,t){for(var n=-1,a=e.length;++n<a&&-1<_e(t,e[n],0););return n}function Fo(e,t){var n=30,a="...";if(I(t)){var o="separator"in t?t.separator:o;n="length"in t?z(t.length):n,a="omission"in t?P(t.omission):a}e=rt(e);var d=e.length;if(St(e)){var i=At(e);d=i.length}if(n>=d)return e;var r=n-so(a);if(1>r)return a;var c=i?jt(i,0,r).join(""):e.slice(0,r);if(void 0===o)return c+a;if(i&&(r+=c.length-r),$m(o)){if(e.slice(r).search(o)){var l=c,s;for(o.global||(o=RegExp(o.source,rt(vv.exec(o))+"g")),o.lastIndex=0;s=o.exec(l);)var f=s.index;c=c.slice(0,void 0===f?r:f)}}else if(e.indexOf(P(o),r)!=r){var p=c.lastIndexOf(o);-1<p&&(c=c.slice(0,p))}return c+a}function qo(e,t,n){var a=-1,o=me,d=e.length,i=!0,r=[],c=r;if(n)i=!1,o=Qn;else if(d>=200){var l=t?null:Sv(e);if(l)return hn(l);i=!1,o=fn,c=new ln}else c=t?[]:r;outer:for(;++a<d;){var s=e[a],f=t?t(s):s;if(s=n||0!==s?s:0,i&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue outer;t&&c.push(f),r.push(s)}else o(c,f,n)||(c!==r&&c.push(f),r.push(s))}return r}function Ho(e){var t=++Ev;return rt(e)+t}function Vo(e){if(!(e&&e.length))return[];var t=0;return e=Vt(e,function(e){if(qn(e))return t=Ov(e.length,t),!0}),Le(t,function(t){return N(e,An(t))})}function Xo(e,t){if(!(e&&e.length))return[];var n=Vo(e);return null==t?n:N(n,function(e){return Z(t,void 0,e)})}function Go(e,t,n,a){return Qa(e,t,n(ft(e,t)),a)}function Zo(e,t,n){var a=e.length;if(2>a)return a?qo(e[0]):[];for(var o=-1,d=Array(a);++o<a;)for(var i=e[o],r=-1;++r<a;)r!=o&&(d[o]=ea(d[o]||i,e[r],t,n));return qo(yt(d,1),t,n)}function $o(e,t,n){for(var a=-1,o=e.length,d=t.length,i={};++a<o;){var r=a<d?t[a]:void 0;n(i,e[a],r)}return i}function Ko(e,t,n){for(var a=-1,o=n.length;++a<o;){var d=n[a],i=d.size;switch(d.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=$v(t,e+i);break;case"takeRight":e=Zv(e,t-i);}}return{start:e,end:t}}function Jo(e){return e}function Qo(e){if(null==e)return Jo;var t=e.scale[0],a=e.scale[1],o=e.translate[0],d=e.translate[1],r,c;return function(e,l){l||(r=c=0);var i=2,s=e.length,n=Array(s);for(n[0]=(r+=e[0])*t+o,n[1]=(c+=e[1])*a+d;i<s;)n[i]=e[i],++i;return n}}function ed(e,a){for(var n=e.length,o=n-a,d;o<--n;)d=e[o],e[o++]=e[n],e[n]=d}function td(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return nd(e,t)})}:nd(e,t)}function nd(e,t){var n=t.id,a=t.bbox,o=null==t.properties?{}:t.properties,d=ad(e,t);return null==n&&null==a?{type:"Feature",properties:o,geometry:d}:null==a?{type:"Feature",id:n,properties:o,geometry:d}:{type:"Feature",id:n,bbox:a,properties:o,geometry:d}}function ad(e,t){function a(e,t){t.length&&t.pop();for(var o=f[0>e?~e:e],a=0,d=o.length;a<d;++a)t.push(s(o[a],a));0>e&&ed(t,d)}function d(e){return s(e)}function i(e){for(var t=[],o=0,d=e.length;o<d;++o)a(e[o],t);return 2>t.length&&t.push(t[0]),t}function r(e){for(var t=i(e);4>t.length;)t.push(t[0]);return t}function c(e){return e.map(r)}function l(e){var t=e.type,n;switch(t){case"GeometryCollection":return{type:t,geometries:e.geometries.map(l)};case"Point":n=d(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(d);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=c(e.arcs);break;case"MultiPolygon":n=e.arcs.map(c);break;default:return null;}return{type:t,coordinates:n}}var s=Qo(e.transform),f=e.arcs;return l(t)}function od(){return new dd}function dd(){this.reset()}function rd(e,t,n){var a=e.s=t+n,o=a-t;e.t=t-(a-o)+(n-o)}function cd(){}function ld(e,t){e&&lk.hasOwnProperty(e.type)&&lk[e.type](e,t)}function sd(e,t,a){var o=-1,d=e.length-a,n;for(t.lineStart();++o<d;)n=e[o],t.point(n[0],n[1],n[2]);t.lineEnd()}function fd(e,t){var a=-1,o=e.length;for(t.polygonStart();++a<o;)sd(e[a],t,1);t.polygonEnd()}function pd(e,t){e&&ck.hasOwnProperty(e.type)?ck[e.type](e,t):ld(e,t)}function ud(){var e=[],t;return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:cd,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function hd(e,t){return ik(e[0]-t[0])<dk&&ik(e[1]-t[1])<dk}function bd(e,t,n,a){this.x=e,this.z=t,this.o=n,this.e=a,this.v=!1,this.n=this.p=null}function gd(e,t,a,o,d){var r=[],c=[],l,s;if(e.forEach(function(e){if(!(0>=(o=e.length-1))){var t=e[0],a=e[o],o,i;if(hd(t,a)){for(d.lineStart(),l=0;l<o;++l)d.point((t=e[l])[0],t[1]);return void d.lineEnd()}r.push(i=new bd(t,e,null,!0)),c.push(i.o=new bd(t,null,i,!1)),r.push(i=new bd(a,e,null,!1)),c.push(i.o=new bd(a,null,i,!0))}}),!!r.length){for(c.sort(t),yd(r),yd(c),(l=0,s=c.length);l<s;++l)c[l].e=a=!a;for(var f=r[0],p,u;;){for(var h=f,b=!0;h.v;)if((h=h.n)===f)return;p=h.z,d.lineStart();do{if(h.v=h.o.v=!0,h.e){if(b)for(l=0,s=p.length;l<s;++l)d.point((u=p[l])[0],u[1]);else o(h.x,h.n.x,1,d);h=h.n}else{if(b)for(p=h.p.z,l=p.length-1;0<=l;--l)d.point((u=p[l])[0],u[1]);else o(h.x,h.p.x,-1,d);h=h.p}h=h.o,p=h.z,b=!b}while(!h.v);d.lineEnd()}}}function yd(e){if(d=e.length){for(var t=0,o=e[0],d,r;++t<d;)o.n=r=e[t],r.p=o,o=r;o.n=r=e[0],r.p=o}}function _d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function md(e){return function(t,n){return _d(e(t),n)}}function xd(e,t,a){var o=-1,d,r,c,l;if(t=+t,e=+e,a=+a,e===t&&0<a)return[e];if((d=t<e)&&(r=e,e=t,t=r),0===(l=vd(e,t,a))||!isFinite(l))return[];if(0<l)for(e=Bh(e/l),t=zh(t/l),c=Array(r=Bh(t-e+1));++o<r;)c[o]=(e+o)*l;else for(e=zh(e*l),t=Bh(t*l),c=Array(r=Bh(e-t+1));++o<r;)c[o]=(e-o)/l;return d&&c.reverse(),c}function vd(e,t,n){var a=(t-e)/Uh(0,n),o=zh(Rh(a)/Ih),d=a/Mh(10,o);return 0<=o?(d>=gk?10:d>=yk?5:d>=_k?2:1)*Mh(10,o):-Mh(10,-o)/(d>=gk?10:d>=yk?5:d>=_k?2:1)}function kd(e,t,n){var a=Ph(t-e)/Uh(0,n),o=Mh(10,zh(Rh(a)/Ih)),d=a/o;return d>=gk?o*=10:d>=yk?o*=5:d>=_k&&(o*=2),t<e?-o:o}function wd(e){for(var t=e.length,a=-1,o=0,d,r,c;++a<t;)o+=e[a].length;for(r=Array(o);0<=--t;)for(c=e[t],d=c.length;0<=--d;)r[--o]=c[d];return r}function jd(e,t,n,a,o,d){var i=e[0],c=e[1],l=t[0],s=t[1],f=0,p=1,u=l-i,h=s-c,b;if(b=n-i,u||!(0<b)){if(b/=u,0>u){if(b<f)return;b<p&&(p=b)}else if(0<u){if(b>p)return;b>f&&(f=b)}if(b=o-i,u||!(0>b)){if(b/=u,0>u){if(b>p)return;b>f&&(f=b)}else if(0<u){if(b<f)return;b<p&&(p=b)}if(b=a-c,h||!(0<b)){if(b/=h,0>h){if(b<f)return;b<p&&(p=b)}else if(0<h){if(b>p)return;b>f&&(f=b)}if(b=d-c,h||!(0>b)){if(b/=h,0>h){if(b>p)return;b>f&&(f=b)}else if(0<h){if(b<f)return;b<p&&(p=b)}return 0<f&&(e[0]=i+f*u,e[1]=c+f*h),1>p&&(t[0]=i+p*u,t[1]=c+p*h),!0}}}}}function Sd(e,t,n,o){function d(a,d){return e<=a&&a<=n&&t<=d&&d<=o}function i(d,i,c,s){var f=0,p=0;if(null==d||(f=r(d,c))!==(p=r(i,c))||0>l(d,i)^0<c)do s.point(0===f||3===f?e:n,1<f?o:t);while((f=(f+c+4)%4)!==p);else s.point(i[0],i[1])}function r(a,o){return ik(a[0]-e)<dk?0<o?0:3:ik(a[0]-n)<dk?0<o?2:1:ik(a[1]-t)<dk?0<o?1:0:0<o?3:2}function c(e,t){return l(e.x,t.x)}function l(e,t){var n=r(e,1),a=r(t,1);return n===a?0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]:n-a}return function(a){function r(e,t){d(e,t)&&h.point(e,t)}function l(){for(var t=0,a=0,d=_.length;a<d;++a)for(var n=_[a],r=1,c=n.length,l=n[0],s=l[0],f=l[1],p,u;r<c;++r)p=s,u=f,l=n[r],s=l[0],f=l[1],u<=o?f>o&&(s-p)*(o-u)>(f-u)*(e-p)&&++t:f<=o&&(s-p)*(o-u)<(f-u)*(e-p)&&--t;return t}function s(){var e=l(),t=E&&e,n=(y=wd(y)).length;(t||n)&&(a.polygonStart(),t&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),n&&gd(y,c,e,i,a),a.polygonEnd()),h=a,y=_=m=null}function f(){g.point=u,_&&_.push(m=[]),A=!0,C=!1,S=T=NaN}function p(){y&&(u(k,w),j&&C&&b.rejoin(),y.push(b.result())),g.point=r,C&&h.lineEnd()}function u(i,r){var c=d(i,r);if(_&&m.push([i,r]),A)k=i,w=r,j=c,A=!1,c&&(h.lineStart(),h.point(i,r));else if(c&&C)h.point(i,r);else{var l=[S=Uh(-1000000000,Nh(1000000000,S)),T=Uh(-1000000000,Nh(1000000000,T))],a=[i=Uh(-1000000000,Nh(1000000000,i)),r=Uh(-1000000000,Nh(1000000000,r))];jd(l,a,e,t,n,o)?(!C&&(h.lineStart(),h.point(l[0],l[1])),h.point(a[0],a[1]),!c&&h.lineEnd(),E=!1):c&&(h.lineStart(),h.point(i,r),E=!1)}S=i,T=r,C=c}var h=a,b=ud(),g={point:r,lineStart:f,lineEnd:p,polygonStart:function(){h=b,y=[],_=[],E=!0},polygonEnd:s},y,_,m,k,w,j,S,T,C,A,E;return g}}function Td(e){return e}function Cd(){kk.point=Ad}function Ad(e,t){kk.point=Ed,Bk=Wk=e,Dk=Lk=t}function Ed(e,t){vk.add(Lk*e-Wk*t),Wk=e,Lk=t}function Od(){Ed(Bk,Dk)}function Nd(e,t){e<wk&&(wk=e),e>Sk&&(Sk=e),t<jk&&(jk=t),t>Tk&&(Tk=t)}function Pd(e,t){Ak+=e,Ek+=t,++Ok}function Md(){zk.point=Id}function Id(e,t){zk.point=Rd,Pd(qk=e,Hk=t)}function Rd(e,t){var n=e-qk,a=t-Hk,o=rk(n*n+a*a);Nk+=o*(qk+e)/2,Pk+=o*(Hk+t)/2,Mk+=o,Pd(qk=e,Hk=t)}function Ud(){zk.point=Pd}function zd(){zk.point=Dd}function Bd(){Wd(Yk,Fk)}function Dd(e,t){zk.point=Wd,Pd(Yk=qk=e,Fk=Hk=t)}function Wd(e,t){var n=e-qk,a=t-Hk,o=rk(n*n+a*a);Nk+=o*(qk+e)/2,Pk+=o*(Hk+t)/2,Mk+=o,o=Hk*e-qk*t,Ik+=o*(qk+e),Rk+=o*(Hk+t),Uk+=3*o,Pd(qk=e,Hk=t)}function Ld(e){this._context=e}function Yd(e,t){Xk.point=Fd,Zk=Kk=e,$k=Jk=t}function Fd(e,t){Kk-=e,Jk-=t,Vk.add(rk(Kk*Kk+Jk*Jk)),Kk=e,Jk=t}function qd(){this._string=[]}function Hd(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Vd(e,t){function n(e){return e&&("function"==typeof a&&d.pointRadius(+a.apply(this,arguments)),pd(e,o(d))),d.result()}var a=4.5,o,d;return n.area=function(e){return pd(e,o(kk)),kk.result()},n.measure=function(e){return pd(e,o(Xk)),Xk.result()},n.bounds=function(e){return pd(e,o(Ck)),Ck.result()},n.centroid=function(e){return pd(e,o(zk)),zk.result()},n.projection=function(t){return arguments.length?(o=null==t?(e=null,Td):(e=t).stream,n):e},n.context=function(e){return arguments.length?(d=null==e?(t=null,new qd):new Ld(t=e),"function"!=typeof a&&d.pointRadius(a),n):t},n.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(d.pointRadius(+e),+e),n):a},n.projection(e).context(t)}function Xd(e){return function(t){var n=new Gd;for(var a in e)n[a]=e[a];return n.stream=t,n}}function Gd(){}function Zd(e,t,n){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),pd(n,e.stream(Ck)),t(Ck.result()),null!=a&&e.clipExtent(a),e}function $d(e,t,n){return Zd(e,function(n){var a=t[1][0]-t[0][0],o=t[1][1]-t[0][1],d=Nh(a/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),i=+t[0][0]+(a-d*(n[1][0]+n[0][0]))/2,r=+t[0][1]+(o-d*(n[1][1]+n[0][1]))/2;e.scale(150*d).translate([i,r])},n)}function Kd(e,t,n){return $d(e,[[0,0],t],n)}function Jd(e,t,n){return Zd(e,function(n){var a=+t,o=a/(n[1][0]-n[0][0]),d=(a-o*(n[1][0]+n[0][0]))/2,i=-o*n[0][1];e.scale(150*o).translate([d,i])},n)}function Qd(e,t,n){return Zd(e,function(n){var a=+t,o=a/(n[1][1]-n[0][1]),d=-o*n[0][0],i=(a-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([d,i])},n)}function ei(e,t,n,a){return 1===e&&1===t&&0===n&&0===a?Td:Xd({point:function(o,d){this.stream.point(o*e+n,d*t+a)}})}function ti(){function e(){return p=u=null,h}var t=1,n=0,a=0,o=1,d=1,i=Td,r=null,c=Td,l,s,f,p,u,h;return h={stream:function(e){return p&&u===e?p:p=i(c(u=e))},postclip:function(t){return arguments.length?(c=t,r=l=s=f=null,e()):c},clipExtent:function(t){return arguments.length?(c=null==t?(r=l=s=f=null,Td):Sd(r=+t[0][0],l=+t[0][1],s=+t[1][0],f=+t[1][1]),e()):null==r?null:[[r,l],[s,f]]},scale:function(r){return arguments.length?(i=ei((t=+r)*o,t*d,n,a),e()):t},translate:function(r){return arguments.length?(i=ei(t*o,t*d,n=+r[0],a=+r[1]),e()):[n,a]},reflectX:function(r){return arguments.length?(i=ei(t*(o=r?-1:1),t*d,n,a),e()):0>o},reflectY:function(r){return arguments.length?(i=ei(t*o,t*(d=r?-1:1),n,a),e()):0>d},fitExtent:function(e,t){return $d(h,e,t)},fitSize:function(e,t){return Kd(h,e,t)},fitWidth:function(e,t){return Jd(h,e,t)},fitHeight:function(e,t){return Qd(h,e,t)}}}function ni(e,t){var n=Vd(),a=td(e,e.objects[t]);return a.features.map(function(e){return"properties"in e||(e.properties={}),e.properties.centroid=n.centroid(e.geometry),e.properties.bounds=n.bounds(e.geometry),e.properties.height=e.properties.bounds[1][1]-e.properties.bounds[0][1],e.properties.width=e.properties.bounds[1][0]-e.properties.bounds[0][0],e.properties.radius=Oh(e.properties.height*e.properties.height+e.properties.width*e.properties.width)/2,e}),a}function ai(e,t){var n=Object.keys(e);return n.reduce(function(n,a){var o=e[a],d=Object.keys(o),i=d.map(function(e){return{date:e,tests:o[e].map(function(e){return"NA"===e?1e-10:+e})}}),r={substance:t[a],tests:i.map(function(e){return e.tests}).flat(),testsByDate:i};return r.max=r.tests.reduce(function(e,t){return t>e&&(e=t),e},-Infinity),r.map2Category=oi(r.max,r.substance),n.push(r),n},[])}function oi(e,t){if(e>t.limit)return tw.CATEGORY.SUP_BR;return e>Qk?tw.CATEGORY.SUP_EU:tw.CATEGORY.BELOW}function di(e,t,n){ci(e),"mun"in n?ri(e,t,n.data,n.mun):ii(e),t.on("to-mun-view.breadcrumb",function(a){ri(e,t,n.data,a)}),t.on("to-brazil-view.breadcrumb",function(){ii(e)}),li(e)}function ii(e){e.html(null)}function ri(e,t,n){e.html(null),e.append("a").attr("href","#_").text("Voltar para o mapa do Brasil").on("click",function(){t.call("breadcrumb-click-brazil",null,n)})}function ci(e){e.classed("is-loading",!0)}function li(e){e.classed("is-loading",!1)}function si(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function fi(){return new si}function pi(e,t,n,a){var o=t.filter(function(e){return 0<e.max}).sort(function(e,t){return e.substance.shortName.localeCompare(t.substance.shortName,"pt-BR",{sensitivity:"base"})}).map(function(e){var t=e.tests.length,n=e.tests.filter(function(e){return 0<e}).length;return{numDetections:n,numTests:t,shortName:e.substance.shortName,url:e.substance.url,value:n/t}}),d=e.append("div").classed("tubes",!0);""!==n&&d.append("header").html(n);var i=d.selectAll("svg").data(o).enter().append("svg").classed("tube",!0).classed(a,!0).attr("width",rw.wi).attr("height",rw.he).attr("viewBox","0,0,"+rw.vWi+","+rw.vHe+""),r=0,c=bi(250,800);hi(i,250,800).attr("transform","translate(0, "+r+")"),gi(i,250,800).attr("transform","translate(0, "+r+")");i.append("a").attr("href",function(e){return e.url}).attr("target","_blank").append("text").attr("x",0).attr("y",0).attr("transform","translate("+c.wid+", "+980+") scale(5)").style("text-anchor","start").text(function(e){return e.shortName});var l=i.append("text").classed("annotation",!0).attr("x",0).attr("y",0).attr("transform",function(e){return"translate(300, "+(r+c.getY(e.value))+") scale(4)"}).style("text-anchor","start");l.append("tspan").attr("x","0").attr("dy","0").text(function(e){return e.numDetections+" detecções"}),l.append("tspan").attr("x","0").attr("dy","1.2em").text(function(e){return"em "+e.numTests+" testes"})}function ui(e,t,n,a){var o=t.sort(function(e,t){return e.substance.shortName.localeCompare(t.substance.shortName,"pt-BR",{sensitivity:"base"})}).map(function(e){return{shortName:e.substance.shortName,url:e.substance.url,value:1}}),d=e.append("div").classed("tubes",!0);""!==n&&d.append("header").html(n);var i=d.selectAll("svg").data(o).enter().append("svg").classed("tube",!0).classed(a,!0).attr("width",rw.wi).attr("height",rw.he).attr("viewBox","0,0,"+rw.vWi+","+rw.vHe+"");hi(i,250,800).attr("transform","translate(375, 0)"),gi(i,250,800).attr("transform","translate(375, 0)"),yi(i.append("a").attr("href",function(e){return e.url}).attr("target","_blank")).attr("transform","scale(5) translate(102 190)")}function hi(e,t,n){var a=e.append("g"),o=1.5*t/10,d=n-3*o,i=t/2,r=fi();r.rect(0,0,i,o),a.append("path").attr("fill","#e7f3f8").attr("d",r.toString());var c=fi();c.rect(i,0,i,o),a.append("path").attr("fill","#bfdde3").attr("d",c.toString());var l=fi();l.moveTo(o,o),l.lineTo(o,d+o),l.quadraticCurveTo(o,d+3*o,i,d+3*o),l.lineTo(i,o),l.closePath(),a.append("path").attr("fill","#cce8eb").attr("d",l.toString());var s=fi();return s.moveTo(2*i-o,o),s.lineTo(2*i-o,d+o),s.quadraticCurveTo(2*i-o,d+3*o,i,d+3*o),s.lineTo(i,o),s.closePath(),a.append("path").attr("fill","#b1d8df").attr("d",s.toString()),a}function bi(e,t){var n=1.5*e/10,a=t-3*n;return{getY:function(e){return(a-n)*(1-e)+2*n},hei:a,mid:e/2,wid:n}}function gi(e,t,n){var a=e.append("g").classed("liquid",!0),o=bi(t,n);return a.append("path").classed("right",!0).attr("d",function(e){var t=o.getY(e.value)+o.wid,n=fi();return n.moveTo(2*o.mid-2*o.wid,t),n.lineTo(2*o.mid-2*o.wid,o.hei+o.wid),n.quadraticCurveTo(2*o.mid-2*o.wid,o.hei+2*o.wid,o.mid,o.hei+2*o.wid),n.lineTo(o.mid,t),n.closePath(),n.toString()}),a.append("path").classed("left",!0).attr("d",function(e){var t=o.getY(e.value)+o.wid,n=fi();return n.moveTo(2*o.wid,t),n.lineTo(2*o.wid,o.hei+o.wid),n.quadraticCurveTo(2*o.wid,o.hei+2*o.wid,o.mid,o.hei+2*o.wid),n.lineTo(o.mid,t),n.closePath(),n.toString()}),a}function yi(e){var t=e.append("g");return t.append("text").attr("x",0).attr("y",0).style("text-anchor","middle").text(function(e){return e.shortName}),t}function _i(e,t,n,a){Ri(e),"mun"in a?vi(e,t,n,a):mi(e,t,n,a),t.on("to-brazil-view.details",function(){mi(e,t,n,{data:a.data})}),t.on("to-mun-view.details",function(o){vi(e,t,n,{data:a.data,mun:o})}),Ui(e)}function mi(e,t,n,a){var o=e.select("#details-main");o.html(null),"limits"===n?(ji(o,"Brasil"),o.append("p").classed("brazil",!0).html("Agrotóxicos foram detectados na água que abastece mais de 2.300 cidades de 2014 a 2017. Clique no mapa ou digite sua cidade para descobrir quais produtos químicos saíram da sua torneira em concentração acima do limite considerado seguro."),Ti(e,t,a),Ci(e),Ai(e),Oi(e)):(ji(o,"Brasil"),o.append("p").classed("brazil",!0).html("Agrotóxicos foram detectados na água que abastece mais de 2.300 cidades de 2014 a 2017. Clique no mapa ou digite sua cidade para descobrir quais produtos químicos saíram da sua torneira."),Si(e,t,a),Ci(e),Ai(e),Oi(e))}function xi(e,t,n){var a=e.append("div").classed("level-item has-text-centered",!0);return a.append("p").classed("heading",!0).text(t),a.append("p").classed("title",!0).text(n),a}function vi(e,t,n,a){var o=e.select("#details-main");o.html(null),ji(o,a.mun.properties.name,a.mun.properties.fuName),"limits"===n?(wi(o,t,a.mun,a.data),Ti(e,t,a),Ci(e),Ei(e,a.mun,a.data),Oi(e)):(ki(o,t,a.mun,a.data),Si(e,t,a),Ci(e),Ei(e,a.mun,a.data),Oi(e))}function ki(e,t,n){var a=e.append("nav").classed("level is-mobile",!0);if(xi(a,"População",(+n.properties.population).toLocaleString("pt-BR")),isNaN(n.properties.map1Number))xi(a,"Agrotóxicos detectados","Sem dados"),e.append("header").html("<span class=\"is-size-4\">Sem dados</span> sobre agrotóxicos na água que abastece "+n.properties.name+".");else if(0===n.properties.map1Number)xi(a,"Agrotóxicos detectados",n.properties.map1Number),e.append("header").html("<span class=\"is-size-4\">Nenhum agrotóxico</span> detectado na água que abastece "+n.properties.name+".");else{xi(a,"Agrotóxicos detectados",n.properties.map1Number),e.append("header").html("<span class=\"is-size-4\">"+n.properties.map1Number+"</span> agrotóxico(s) detectado(s) na água que abastece "+n.properties.name+".");var o=e.append("ul"),d=n.properties.tests.filter(function(e){return e.substance.isHhce&&0<e.max});pi(o.append("li"),d,"<span class=\"is-size-4\">"+d.length+"</span> associado(s) a <strong>doenças crônicas</strong> como câncer, defeitos congênitos e distúrbios endócrinos","hhce");var i=n.properties.tests.filter(function(e){return!e.substance.isHhce&&0<e.max});0<i.length&&pi(o.append("li"),i,"<span class=\"is-size-4\">"+i.length+"</span> outro(s) agrotóxico(s)","no-hhce")}}function wi(e,t,n){var a=e.append("nav").classed("level is-mobile",!0);if(xi(a,"População",(+n.properties.population).toLocaleString("pt-BR")),n.properties.map2Category===tw.CATEGORY.NO_TEST)e.append("header").html("<span class=\"is-size-4\">Sem dados</span> sobre agrotóxicos na água que abastece "+n.properties.name+".");else if(n.properties.map2Category===tw.CATEGORY.BELOW)e.append("header").html("<span class=\"is-size-4\">Nenhum </span> agrotóxico detectado acima dos limites brasileiros em "+n.properties.name+".");else{var o=n.properties.tests.filter(function(e){return e.map2Category===tw.CATEGORY.SUP_BR});ui(e,o,"<span class=\"is-size-4\">"+o.length+"</span> agrotóxico(s) detectado(s) em concentração acima do limite considerado seguro no Brasil na água de "+n.properties.name,"cat-"+tw.CATEGORY.SUP_BR);var d=n.properties.tests.filter(function(e){return e.map2Category===tw.CATEGORY.SUP_EU});0<d.length&&ui(e,d,"<span class=\"is-size-4\">"+d.length+"</span> agrotóxico(s) detectado(s) acima do limite considerado seguro na União Europeia","cat-"+tw.CATEGORY.SUP_EU)}}function ji(e,t,n){var a=e.append("header").attr("id","idCard");if(a.append("h2").text(t),n){var o=a.append("h3");o.append("span").text("\uD83D\uDCCC "+n)}}function Si(e,t,n){var a=e.select("#details-footer #to-other-views").html(null).append("p");a.append("span").text("Descubra também quantas substâncias foram ");var o="mun"in n&&n.mun?" em "+n.mun.properties.name:"";a.append("a").attr("href","#_").text("detectadas acima dos limites legais na água"+o).on("click",function(){t.call("make-app-limits",null,n)}),a.append("span").text(".")}function Ti(e,t,n){var a=e.select("#details-footer #to-other-views").html(null).append("p");a.append("span").text("Descubra também o  ");var o="mun"in n&&n.mun?" na água em "+n.mun.properties.name:"";a.append("a").attr("href","#_").text("total de substâncias detectadas"+o).on("click",function(){t.call("make-app-cocktail",null,n)}),a.append("span").text(".")}function Ci(e){var t=e.select("#details-footer #to-article").html(null).append("p");t.append("span").text("Entenda: leia "),t.append("a").attr("href","https://portrasdoalimento.info/2019/04/15/coquetel-com-27-agrotoxicos-foi-achado-na-agua-de-1-em-cada-4-municipios/").attr("target","_blank").text("reportagem sobre a contaminação da água nas cidades"),t.append("span").text(".")}function Ai(e){e.select("#details-footer #download").html(null)}function Ei(e,t,n){var a=e.select("#details-footer #download").html(null),o=t.properties.deburredName.replace(/[^a-z0-9]/gi,"_").toLowerCase();a.append("h4").html("Download");var d=a.append("ul"),i=d.append("li");i.append("a").attr("download","testes_por_data_em_"+o+".csv").attr("href",URL.createObjectURL(Ii(t))).text("Número de testes realizados por data na cidade de "+t.properties.name),i.append("span").text(" (CSV).");var r=d.append("li");r.append("a").attr("download","testes_e_resultados_por_agrótoxico_em_"+o+".csv").attr("href",URL.createObjectURL(Pi(t,n))).text("Número de testes e resultados por tipo de agrotóxico na cidade de "+t.properties.name),r.append("span").text(" (CSV).")}function Oi(e){var t=e.select("#details-footer #source").html(null);t.append("h4").html("Fontes");var n=t.append("ul"),a=n.append("li");a.append("span").text("Detecção e concentração de agrotóxicos de 2014 a 2017 de acordo com dados de Controle do Sistema de Informação de Vigilância da Qualidade da Água para Consumo Humano (SISAGUA), do Ministério da Saúde. O mapa foi construído a partir de dados obtidos em abril de 2018 e não reflete atualizações feitas desde então. Baixe aqui a "),a.append("a").attr("href","https://app.rios.org.br/index.php/s/ljppVjrP37ak8HE").attr("target","_blank").text("base completa enviada pelo Sisagua em abril de 2018"),a.append("span").text(".");var o=n.append("li");o.append("span").text("Estimativas da população: "),o.append("a").attr("href","ftp://ftp.ibge.gov.br/Estimativas_de_Populacao/Estimativas_2017/").attr("target","_blank").text("IBGE 2017"),o.append("span").text(" (FTP). Instituto Brasileiro de Geografia e Estatística (IBGE), 2017.")}function Ni(e,t){var n=Object.keys(t.substancesLut).sort(function(e,t){return e.localeCompare(t,"pt-BR")}).map(function(n){var a=e.properties.tests.find(function(e){return e.substance.code===n});return{"Agrotóxicos":t.substancesLut[n].name,"Acima do limite do Brasil":a?a.tests.filter(function(e){return e>a.substance.limit}).length:0,"Acima do limite da UE":a?a.tests.filter(function(e){return e>.1}).length:0,"Testes feitos":a?a.tests.length:0}});return n}function Pi(e,t){return new Blob([qh(Ni(e,t),["Agrotóxicos","Testes feitos","Acima do limite da UE","Acima do limite do Brasil"])],{type:"text/csv"})}function Mi(e){var t=e.properties.tests.reduce(function(e,t){return t.testsByDate.forEach(function(t){t.date in e||(e[t.date]=0),e[t.date]+=t.tests.length}),e},{}),n=Object.keys(t).sort(function(e,t){return e>t}),a=n.map(function(e){var n=2,a=e.slice(0,4)+"-"+e.slice(4,4+n)+"-"+e.slice(4+n,4+n+2);return{"Data":a,"Número de testes realizados":t[e]}});return a}function Ii(e){return new Blob([qh(Mi(e),["Data","Número de testes realizados"])],{type:"text/csv"})}function Ri(e){e.classed("is-loading",!0)}function Ui(e){e.classed("is-loading",!1)}function zi(e,t,n,a,o){function d(t){Bi(e,l,n,a,function(e){return lw(e.properties.map1Category)},t)}function i(t){Bi(e,l,n,a,function(e){return sw(e.properties.map2Category)},t)}function r(e){t.on("make-app-cocktail.choropleth",function(){d(e),t.on("zoomed.cocktail-choropleth",function(e){d(e.transform),r(e.transform)})}),t.on("make-app-limits.choropleth",function(){i(e),t.on("zoomed.limits-choropleth",function(e){i(e.transform),r(e.transform)})})}var c=ti().scale(a.canvas/a.data),l=Vd(c,e);r(o)}function Bi(e,t,n,a,o,d){e.save(),e.clearRect(0,0,a.canvas,a.canvas),e.translate(d.x,d.y),e.scale(d.k,d.k),Di(e,t,n,d.k,o),e.restore()}function Di(e,t,n,a,o){n.mun.features.forEach(function(n){e.beginPath(),t(n),e.fillStyle=o(n),e.fill()}),e.beginPath(),t(n.mun),e.lineWidth=cw.frontiers.mun/a,e.strokeStyle="#aaa",e.stroke(),e.beginPath(),t(n.internalFu),e.lineWidth=cw.frontiers.fu/a,e.strokeStyle="#000",e.stroke(),e.beginPath(),t(n.brazil),e.lineWidth=cw.frontiers.br/a,e.strokeStyle="#000",e.stroke()}function Wi(e){var t=e+="",n=t.indexOf(":");return 0<=n&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),fw.hasOwnProperty(t)?{space:fw[t],local:e}:e}function Li(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n==="http://www.w3.org/1999/xhtml"&&t.documentElement.namespaceURI==="http://www.w3.org/1999/xhtml"?t.createElement(e):t.createElementNS(n,e)}}function Yi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fi(e){var t=Wi(e);return(t.local?Yi:Li)(t)}function qi(){}function Hi(e){return null==e?qi:function(){return this.querySelector(e)}}function Vi(e){"function"!=typeof e&&(e=Hi(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=Array(c),l=0,s,f;l<c;++l)(s=r[l])&&(f=e.call(s,s.__data__,l,r))&&("__data__"in s&&(f.__data__=s.__data__),n[l]=f);return new qr(o,this._parents)}function Xi(){return[]}function Gi(e){return null==e?Xi:function(){return this.querySelectorAll(e)}}function Zi(e){return function(){return this.matches(e)}}function $i(e){return Array(e.length)}function Ki(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Ji(e){return function(){return e}}function Qi(e,t,n,a,o,d){for(var r=0,c=t.length,l=d.length,s;r<l;++r)(s=t[r])?(s.__data__=d[r],a[r]=s):n[r]=new Ki(e,d[r]);for(;r<c;++r)(s=t[r])&&(o[r]=s)}function er(e,t,n,a,o,d,r){var c={},l=t.length,s=d.length,f=Array(l),p,u,h;for(p=0;p<l;++p)(u=t[p])&&(f[p]=h="$"+r.call(u,u.__data__,p,t),h in c?o[p]=u:c[h]=u);for(p=0;p<s;++p)h="$"+r.call(e,d[p],p,d),(u=c[h])?(a[p]=u,u.__data__=d[p],c[h]=null):n[p]=new Ki(e,d[p]);for(p=0;p<l;++p)(u=t[p])&&c[f[p]]===u&&(o[p]=u)}function tr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nr(e){return function(){this.removeAttribute(e)}}function ar(e){return function(){this.removeAttributeNS(e.space,e.local)}}function or(e,t){return function(){this.setAttribute(e,t)}}function dr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ir(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function rr(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function cr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lr(e){return function(){this.style.removeProperty(e)}}function sr(e,t,n){return function(){this.style.setProperty(e,t,n)}}function fr(e,t,n){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function pr(e,t){return e.style.getPropertyValue(t)||cr(e).getComputedStyle(e,null).getPropertyValue(t)}function ur(e){return function(){delete this[e]}}function hr(e,t){return function(){this[e]=t}}function br(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function gr(e){return e.trim().split(/^|\s+/)}function yr(e){return e.classList||new _r(e)}function _r(e){this._node=e,this._names=gr(e.getAttribute("class")||"")}function mr(e,t){for(var a=yr(e),o=-1,d=t.length;++o<d;)a.add(t[o])}function xr(e,t){for(var a=yr(e),o=-1,d=t.length;++o<d;)a.remove(t[o])}function vr(e){return function(){mr(this,e)}}function kr(e){return function(){xr(this,e)}}function wr(e,t){return function(){(t.apply(this,arguments)?mr:xr)(this,e)}}function jr(){this.textContent=""}function Sr(e){return function(){this.textContent=e}}function Tr(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Cr(){this.innerHTML=""}function Ar(e){return function(){this.innerHTML=e}}function Er(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Or(){this.nextSibling&&this.parentNode.appendChild(this)}function Nr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pr(){return null}function Mr(){var e=this.parentNode;e&&e.removeChild(this)}function Ir(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Rr(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function Ur(e,t,n){return e=zr(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function zr(e,t,n){return function(a){var o=uw;uw=a;try{e.call(this,this.__data__,t,n)}finally{uw=o}}}function Br(e){return e.trim().split(/^|\s+/).map(function(e){var n="",a=e.indexOf(".");return 0<=a&&(n=e.slice(a+1),e=e.slice(0,a)),{type:e,name:n}})}function Dr(e){return function(){var t=this.__on;if(t){for(var n=0,a=-1,d=t.length,r;n<d;++n)(r=t[n],(!e.type||r.type===e.type)&&r.name===e.name)?this.removeEventListener(r.type,r.listener,r.capture):t[++a]=r;++a?t.length=a:delete this.__on}}}function Wr(e,t,n){var a=pw.hasOwnProperty(e.type)?Ur:zr;return function(r,d,i){var c=this.__on,l=a(t,d,i),s;if(c)for(var f=0,p=c.length;f<p;++f)if((s=c[f]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function Lr(e,t,n){var a=cr(e),o=a.CustomEvent;"function"==typeof o?o=new o(t,n):(o=a.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Yr(e,t){return function(){return Lr(this,e,t)}}function Fr(e,t){return function(){return Lr(this,e,t.apply(this,arguments))}}function qr(e,t){this._groups=e,this._parents=t}function Hr(){return new qr([[document.documentElement]],bw)}function Vr(e){return"string"==typeof e?new qr([[document.querySelector(e)]],[document.documentElement]):new qr([[e]],bw)}function Xr(e){return"string"==typeof e?new qr([document.querySelectorAll(e)],[document.documentElement]):new qr([null==e?[]:e],bw)}function Gr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Zr(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function $r(){}function Kr(e){var t;return e=(e+"").trim().toLowerCase(),(t=vw.exec(e))?(t=parseInt(t[1],16),new nc(15&t>>8|240&t>>4,15&t>>4|240&t,(15&t)<<4|15&t,1)):(t=kw.exec(e))?Jr(parseInt(t[1],16)):(t=ww.exec(e))?new nc(t[1],t[2],t[3],1):(t=jw.exec(e))?new nc(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Sw.exec(e))?Qr(t[1],t[2],t[3],t[4]):(t=Tw.exec(e))?Qr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Cw.exec(e))?oc(t[1],t[2]/100,t[3]/100,1):(t=Aw.exec(e))?oc(t[1],t[2]/100,t[3]/100,t[4]):Ew.hasOwnProperty(e)?Jr(Ew[e]):"transparent"===e?new nc(NaN,NaN,NaN,0):null}function Jr(e){return new nc(255&e>>16,255&e>>8,255&e,1)}function Qr(e,t,n,o){return 0>=o&&(e=t=n=NaN),new nc(e,t,n,o)}function ec(e){return(e instanceof $r||(e=Kr(e)),!e)?new nc:(e=e.rgb(),new nc(e.r,e.g,e.b,e.opacity))}function tc(e,t,n,a){return 1===arguments.length?ec(e):new nc(e,t,n,null==a?1:a)}function nc(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function ac(e){return e=Uh(0,Nh(255,Eh(e)||0)),(16>e?"0":"")+e.toString(16)}function oc(e,t,n,o){return 0>=o?e=t=n=NaN:0>=n||1<=n?e=t=NaN:0>=t&&(e=NaN),new ic(e,t,n,o)}function dc(e){if(e instanceof ic)return new ic(e.h,e.s,e.l,e.opacity);if(e instanceof $r||(e=Kr(e)),!e)return new ic;if(e instanceof ic)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,d=Nh(t,n,a),i=Uh(t,n,a),r=NaN,c=i-d,f=(i+d)/2;return c?(r=t===i?(n-a)/c+6*(n<a):n===i?(a-t)/c+2:(t-n)/c+4,c/=.5>f?i+d:2-i-d,r*=60):c=0<f&&1>f?0:r,new ic(r,c,f,e.opacity)}function ic(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function rc(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function cc(e){if(e instanceof lc)return new lc(e.l,e.a,e.b,e.opacity);if(e instanceof bc){if(isNaN(e.h))return new lc(e.l,0,0,e.opacity);var t=e.h*Ow;return new lc(e.l,Ah(t)*e.c,Ch(t)*e.c,e.opacity)}e instanceof nc||(e=ec(e));var n=uc(e.r),a=uc(e.g),d=uc(e.b),i=sc((.2225045*n+.7168786*a+.0606169*d)/1),r,c;return n===a&&a===d?r=c=i:(r=sc((.4360747*n+.3850649*a+.1430804*d)/K),c=sc((.0139322*n+.0971045*a+.7141733*d)/Xn)),new lc(116*i-16,500*(r-i),200*(i-c),e.opacity)}function lc(e,t,n,a){this.l=+e,this.a=+t,this.b=+n,this.opacity=+a}function sc(e){return e>Rw?Mh(e,1/3):e/Iw+Zn}function fc(e){return e>Mw?e*e*e:Iw*(e-Zn)}function pc(e){return 255*(.0031308>=e?12.92*e:1.055*Mh(e,1/2.4)-.055)}function uc(e){return .04045>=(e/=255)?e/12.92:Mh((e+.055)/1.055,2.4)}function hc(e){if(e instanceof bc)return new bc(e.h,e.c,e.l,e.opacity);if(e instanceof lc||(e=cc(e)),0===e.a&&0===e.b)return new bc(NaN,0,e.l,e.opacity);var t=Th(e.b,e.a)*Nw;return new bc(0>t?t+360:t,Oh(e.a*e.a+e.b*e.b),e.l,e.opacity)}function bc(e,t,n,a){this.h=+e,this.c=+t,this.l=+n,this.opacity=+a}function gc(e){if(e instanceof _c)return new _c(e.h,e.s,e.l,e.opacity);e instanceof nc||(e=ec(e));var t=e.r/255,n=e.g/255,a=e.b/255,d=(Bw*a+E*t-zw*n)/(Bw+E-zw),i=a-d,r=(D*(n-d)-B*i)/C,c=Oh(r*r+i*i)/(D*d*(1-d)),l=c?Th(r,i)*Nw-120:NaN;return new _c(0>l?l+360:l,c,d,e.opacity)}function yc(e,t,n,a){return 1===arguments.length?gc(e):new _c(e,t,n,null==a?1:a)}function _c(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function mc(e,t,n,a,o){var d=e*e,i=d*e;return((1-3*e+3*d-i)*t+(4-6*d+3*i)*n+(1+3*e+3*d-3*i)*a+i*o)/6}function xc(e){return function(){return e}}function vc(e,n){return function(a){return e+a*n}}function kc(e,n,o){return e=Mh(e,o),n=Mh(n,o)-e,o=1/o,function(a){return Mh(e+a*n,o)}}function wc(e){return 1==(e=+e)?jc:function(t,n){return n-t?kc(t,n,e):xc(isNaN(t)?n:t)}}function jc(e,t){var n=t-e;return n?vc(e,n):xc(isNaN(e)?t:e)}function Sc(e,t){var n=t?t.length:0,a=e?Nh(n,e.length):0,o=Array(a),d=Array(n),r;for(r=0;r<a;++r)o[r]=Pc(e[r],t[r]);for(;r<n;++r)d[r]=t[r];return function(e){for(r=0;r<a;++r)d[r]=o[r](e);return d}}function Tc(e,n){var o=new Date;return e=+e,n-=e,function(a){return o.setTime(e+n*a),o}}function Cc(e,n){return e=+e,n-=e,function(a){return e+n*a}}function Ac(e,t){var n={},o={},d;for(d in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)d in e?n[d]=Pc(e[d],t[d]):o[d]=t[d];return function(e){for(d in n)o[d]=n[d](e);return o}}function Ec(e){return function(){return e}}function Oc(e){return function(n){return e(n)+""}}function Nc(e,n){var t=Lw.lastIndex=Yw.lastIndex=0,o=-1,d=[],r=[],c,l,s;for(e+="",n+="";(c=Lw.exec(e))&&(l=Yw.exec(n));)(s=l.index)>t&&(s=n.slice(t,s),d[o]?d[o]+=s:d[++o]=s),(c=c[0])===(l=l[0])?d[o]?d[o]+=l:d[++o]=l:(d[++o]=null,r.push({i:o,x:Cc(c,l)})),t=Yw.lastIndex;return t<n.length&&(s=n.slice(t),d[o]?d[o]+=s:d[++o]=s),2>d.length?r[0]?Oc(r[0].x):Ec(n):(n=r.length,function(e){for(var t=0,a;t<n;++t)d[(a=r[t]).i]=a.x(e);return d.join("")})}function Pc(e,n){var a=typeof n,t;return null==n||"boolean"==a?xc(n):("number"==a?Cc:"string"==a?(t=Kr(n))?(n=t,Dw):Nc:n instanceof Kr?Dw:n instanceof Date?Tc:Array.isArray(n)?Sc:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Ac:Cc)(e,n)}function Mc(e,n){return e=+e,n-=e,function(a){return Eh(e+n*a)}}function Ic(t,n,o,i,r,e){var l,s,f;return(l=Oh(t*t+n*n))&&(t/=l,n/=l),(f=t*o+n*i)&&(o-=t*f,i-=n*f),(s=Oh(o*o+i*i))&&(o/=s,i/=s,f/=s),t*i<n*o&&(t=-t,n=-n,f=-f,l=-l),{translateX:r,translateY:e,rotate:Th(n,t)*Fw,skewX:Sh(f)*Fw,scaleX:l,scaleY:s}}function Rc(e){return"none"===e?qw:(Gw||(Gw=document.createElement("DIV"),Zw=document.documentElement,$w=document.defaultView),Gw.style.transform=e,e=$w.getComputedStyle(Zw.appendChild(Gw),null).getPropertyValue("transform"),Zw.removeChild(Gw),e=e.slice(7,-1).split(","),Ic(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function Uc(e){return null==e?qw:(Kw||(Kw=document.createElementNS("http://www.w3.org/2000/svg","g")),Kw.setAttribute("transform",e),!(e=Kw.transform.baseVal.consolidate()))?qw:(e=e.matrix,Ic(e.a,e.b,e.c,e.d,e.e,e.f))}function zc(e,t,n,o){function d(e){return e.length?e.pop()+" ":""}function i(e,a,o,d,r,c){if(e!==o||a!==d){var l=r.push("translate(",null,t,null,n);c.push({i:l-4,x:Cc(e,o)},{i:l-2,x:Cc(a,d)})}else(o||d)&&r.push("translate("+o+t+d+n)}function r(e,t,n,i){e===t?t&&n.push(d(n)+"rotate("+t+o):(180<e-t?t+=360:180<t-e&&(e+=360),i.push({i:n.push(d(n)+"rotate(",null,o)-2,x:Cc(e,t)}))}function c(e,t,n,a){e===t?t&&n.push(d(n)+"skewX("+t+o):a.push({i:n.push(d(n)+"skewX(",null,o)-2,x:Cc(e,t)})}function l(e,t,n,a,o,r){if(e!==n||t!==a){var c=o.push(d(o)+"scale(",null,",",null,")");r.push({i:c-4,x:Cc(e,n)},{i:c-2,x:Cc(t,a)})}else(1!==n||1!==a)&&o.push(d(o)+"scale("+n+","+a+")")}return function(t,n){var d=[],s=[];return t=e(t),n=e(n),i(t.translateX,t.translateY,n.translateX,n.translateY,d,s),r(t.rotate,n.rotate,d,s),c(t.skewX,n.skewX,d,s),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,d,s),t=n=null,function(e){for(var t=-1,a=s.length,n;++t<a;)d[(n=s[t]).i]=n.x(e);return d.join("")}}}function Bc(e){return function t(n){function a(a,o){var d=e((a=yc(a)).h,(o=yc(o)).h),i=jc(a.s,o.s),r=jc(a.l,o.l),c=jc(a.opacity,o.opacity);return function(e){return a.h=d(e),a.s=i(e),a.l=r(Mh(e,n)),a.opacity=c(e),a+""}}return n=+n,a.gamma=t,a}(1)}function Dc(){return aj||(ij(Wc),aj=dj.now()+oj)}function Wc(){aj=0}function Lc(){this._call=this._time=this._next=null}function Yc(e,n,a){var o=new Lc;return o.restart(e,n,a),o}function Fc(){Dc(),++Qw;for(var n=rj,a;n;)0<=(a=aj-n._time)&&n._call.call(null,a),n=n._next;--Qw}function qc(){aj=(nj=dj.now())+oj,Qw=ej=0;try{Fc()}finally{Qw=0,Vc(),aj=0}}function Hc(){var e=dj.now(),t=e-nj;t>1000&&(oj-=t,nj=e)}function Vc(){for(var e=rj,t=1/0,n,a;e;)e._call?(t>e._time&&(t=e._time),n=e,e=e._next):(a=e._next,e._next=null,e=n?n._next=a:rj=a);cj=n,Xc(t)}function Xc(e){if(!Qw){ej&&(ej=clearTimeout(ej));var t=e-aj;24<t?(e<1/0&&(ej=setTimeout(qc,e-dj.now()-oj)),tj&&(tj=clearInterval(tj))):(!tj&&(nj=dj.now(),tj=setInterval(Hc,1000)),Qw=1,ij(qc))}}function Gc(e,n,a){var o=new Lc;return n=null==n?0:+n,o.restart(function(t){o.stop(),e(t+n)},n,a),o}function Zc(e,t,n,a,o,d){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;Qc(e,n,{name:t,index:a,group:o,on:lj,tween:sj,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function $c(e,t){var n=Jc(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Kc(e,t){var n=Jc(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Jc(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Qc(e,t,a){function d(s){var f,p,u,h;if(1!==a.state)return r();for(f in c)if(h=c[f],h.name===a.name){if(3===h.state)return Gc(d);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete c[f]):+f<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete c[f])}if(Gc(function(){3===a.state&&(a.state=4,a.timer.restart(i,a.delay,a.time),i(s))}),a.state=2,a.on.call("start",e,e.__data__,a.index,a.group),2===a.state){for(a.state=3,l=Array(u=a.tween.length),(f=0,p=-1);f<u;++f)(h=a.tween[f].value.call(e,e.__data__,a.index,a.group))&&(l[++p]=h);l.length=p+1}}function i(o){for(var d=o<a.duration?a.ease.call(null,o/a.duration):(a.timer.restart(r),a.state=5,1),t=-1,c=l.length;++t<c;)l[t].call(e,d);a.state===5&&(a.on.call("end",e,e.__data__,a.index,a.group),r())}function r(){for(var n in a.state=6,a.timer.stop(),delete c[t],c)return;delete e.__transition}var c=e.__transition,l;c[t]=a,a.timer=Yc(function(e){a.state=1,a.timer.restart(d,a.delay,a.time),a.delay<=e&&d(e-a.delay)},0,a.time)}function el(e,t){var n=e.__transition,a=!0,o,d,r;if(n){for(r in t=null==t?null:t+"",n){if((o=n[r]).name!==t){a=!1;continue}d=2<o.state&&5>o.state,o.state=6,o.timer.stop(),o.on.call(d?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[r]}a&&delete e.__transition}}function tl(e,t){var a,o;return function(){var d=Kc(this,e),r=d.tween;if(r!==a){o=a=r;for(var c=0,l=o.length;c<l;++c)if(o[c].name===t){o=o.slice(),o.splice(c,1);break}}d.tween=o}}function nl(e,a,o){var d,r;if("function"!=typeof o)throw new Error;return function(){var c=Kc(this,e),l=c.tween;if(l!==d){r=(d=l).slice();for(var s={name:a,value:o},t=0,f=r.length;t<f;++t)if(r[t].name===a){r[t]=s;break}t===f&&r.push(s)}c.tween=r}}function al(e,a){var o=this._id;if(e+="",2>arguments.length){for(var d=Jc(this.node(),o).tween,r=0,c=d.length,n;r<c;++r)if((n=d[r]).name===e)return n.value;return null}return this.each((null==a?tl:nl)(o,e,a))}function ol(e,t,n){var a=e._id;return e.each(function(){var e=Kc(this,a);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Jc(e,a).value[t]}}function dl(e,t){var n;return("number"==typeof t?Cc:t instanceof Kr?Dw:(n=Kr(t))?(t=n,Dw):Nc)(e,t)}function il(e){return function(){this.removeAttribute(e)}}function rl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cl(e,t,n){var a,o;return function(){var d=this.getAttribute(e);return d===n+""?null:d===a?o:o=t(a=d,n)}}function ll(e,t,n){var a,o;return function(){var d=this.getAttributeNS(e.space,e.local);return d===n+""?null:d===a?o:o=t(a=d,n)}}function sl(e,t,n){var a,o,d;return function(){var i=n(this),r,c;return null==i?void this.removeAttribute(e):(r=this.getAttribute(e),c=i+"",r===c?null:r===a&&c==o?d:(o=c,d=t(a=r,i)))}}function fl(e,t,n){var a,o,d;return function(){var i=n(this),r,c;return null==i?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),c=i+"",r===c?null:r===a&&c==o?d:(o=c,d=t(a=r,i)))}}function pl(e,n){return function(a){this.setAttribute(e,n(a))}}function ul(e,n){return function(a){this.setAttributeNS(e.space,e.local,n(a))}}function hl(e,t){function n(){var n=t.apply(this,arguments);return n!==o&&(a=(o=n)&&ul(e,n)),a}var a,o;return n._value=t,n}function bl(e,t){function n(){var n=t.apply(this,arguments);return n!==o&&(a=(o=n)&&pl(e,n)),a}var a,o;return n._value=t,n}function gl(e,t){return function(){$c(this,e).delay=+t.apply(this,arguments)}}function yl(e,t){return t=+t,function(){$c(this,e).delay=t}}function _l(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?gl:yl)(t,e)):Jc(this.node(),t).delay}function ml(e,t){return function(){Kc(this,e).duration=+t.apply(this,arguments)}}function xl(e,t){return t=+t,function(){Kc(this,e).duration=t}}function vl(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ml:xl)(t,e)):Jc(this.node(),t).duration}function kl(e,t){if("function"!=typeof t)throw new Error;return function(){Kc(this,e).ease=t}}function wl(e){var t=this._id;return arguments.length?this.each(kl(t,e)):Jc(this.node(),t).ease}function jl(e){return(e+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return 0<=n&&(e=e.slice(0,n)),!e||"start"===e})}function Sl(e,t,n){var a=jl(t)?$c:Kc,o,d;return function(){var i=a(this,e),r=i.on;r!==o&&(d=(o=r).copy()).on(t,n),i.on=d}}function Tl(e,t){var n=this._id;return 2>arguments.length?Jc(this.node(),n).on.on(e):this.each(Sl(n,e,t))}function Cl(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Al(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=Hi(e));for(var o=this._groups,d=o.length,r=Array(d),c=0;c<d;++c)for(var l=o[c],s=l.length,n=r[c]=Array(s),f=0,p,u;f<s;++f)(p=l[f])&&(u=e.call(p,p.__data__,f,l))&&("__data__"in p&&(u.__data__=p.__data__),n[f]=u,Zc(n[f],t,a,f,n,Jc(p,a)));return new Dl(r,this._parents,t,a)}function El(e){var t=this._name,a=this._id;"function"!=typeof e&&(e=Gi(e));for(var o=this._groups,d=o.length,r=[],c=[],s=0;s<d;++s)for(var f=o[s],p=f.length,n=0,u;n<p;++n)if(u=f[n]){for(var h=e.call(u,u.__data__,n,f),b=Jc(u,a),g=0,y=h.length,l;g<y;++g)(l=h[g])&&Zc(l,t,a,g,h,b);r.push(h),c.push(u)}return new Dl(r,c,t,a)}function Ol(e,t){var n,a,o;return function(){var d=pr(this,e),i=(this.style.removeProperty(e),pr(this,e));return d===i?null:d===n&&i===a?o:o=t(n=d,a=i)}}function Nl(e){return function(){this.style.removeProperty(e)}}function Pl(e,t,n){var a,o;return function(){var d=pr(this,e);return d===n+""?null:d===a?o:o=t(a=d,n)}}function Ml(e,t,n){var a,o,d;return function(){var i=pr(this,e),r=n(this),c=r+"";return null==r&&(c=r=(this.style.removeProperty(e),pr(this,e))),i===c?null:i===a&&c===o?d:(o=c,d=t(a=i,r))}}function Il(e,t){var n="style."+t,a,o,d,i;return function(){var r=Kc(this,e),c=r.on,l=null==r.value[n]?i||(i=Nl(t)):void 0;(c!==a||d!==l)&&(o=(a=c).copy()).on("end."+n,d=l),r.on=o}}function Rl(e,n,a){return function(o){this.style.setProperty(e,n(o),a)}}function Ul(e,n,a){function o(){var t=n.apply(this,arguments);return t!==r&&(d=(r=t)&&Rl(e,t,a)),d}var d,r;return o._value=n,o}function zl(e){return function(){this.textContent=e}}function Bl(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function Dl(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function Wl(){return++pj}function Ll(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return hj.time=Dc(),hj;return n}function Yl(e){var t,a;e instanceof Dl?(t=e._id,e=e._name):(t=Wl(),(a=hj).time=Dc(),e=null==e?null:e+"");for(var o=this._groups,d=o.length,r=0;r<d;++r)for(var c=o[r],l=c.length,n=0,s;n<l;++n)(s=c[n])&&Zc(s,e,t,n,c,a||Ll(s,t));return new Dl(o,this._parents,e,t)}function Fl(){}function ql(e,t){var a=new Fl;if(e instanceof Fl)e.each(function(e,t){a.set(t,e)});else if(Array.isArray(e)){var d=-1,r=e.length,n;if(null==t)for(;++d<r;)a.set(d,e[d]);else for(;++d<r;)a.set(t(n=e[d],d,e),n)}else if(e)for(var c in e)a.set(c,e[c]);return a}function Hl(){}function Vl(e,t,n,a){if(isNaN(t)||isNaN(n))return e;var o=e._root,d={data:a},r=e._x0,c=e._y0,l=e._x1,s=e._y1,f,p,u,h,b,g,y,_,m;if(!o)return e._root=d,e;for(;o.length;)if((g=t>=(p=(r+l)/2))?r=p:l=p,(y=n>=(u=(c+s)/2))?c=u:s=u,(f=o,!(o=o[_=y<<1|g])))return f[_]=d,e;if(h=+e._x.call(null,o.data),b=+e._y.call(null,o.data),t===h&&n===b)return d.next=o,f?f[_]=d:e._root=d,e;do f=f?f[_]=[,,,,]:e._root=[,,,,],(g=t>=(p=(r+l)/2))?r=p:l=p,(y=n>=(u=(c+s)/2))?c=u:s=u;while((_=y<<1|g)==(m=(b>=u)<<1|h>=p));return f[m]=o,f[_]=d,e}function Xl(e){var t=e.length,n=Array(t),a=Array(t),o=1/0,r=1/0,c=-Infinity,l=-Infinity,s,f,p,u;for(f=0;f<t;++f)isNaN(p=+this._x.call(null,s=e[f]))||isNaN(u=+this._y.call(null,s))||(n[f]=p,a[f]=u,p<o&&(o=p),p>c&&(c=p),u<r&&(r=u),u>l&&(l=u));if(o>c||r>l)return this;for(this.cover(o,r).cover(c,l),f=0;f<t;++f)Vl(this,n[f],a[f],e[f]);return this}function Gl(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,a=this._y0,o=this._x1,d=this._y1;if(isNaN(n))o=(n=zh(e))+1,d=(a=zh(t))+1;else{for(var r=o-n,c=this._root,l,s;n>e||e>=o||a>t||t>=d;)s=(t<a)<<1|e<n,l=[,,,,],l[s]=c,c=l,r*=2,0===s?(o=n+r,d=a+r):1===s?(n=o-r,d=a+r):2===s?(o=n+r,a=d-r):3===s?(n=o-r,a=d-r):void 0;this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=a,this._x1=o,this._y1=d,this}function Zl(e,t,n,a,o){this.node=e,this.x0=t,this.y0=n,this.x1=a,this.y1=o}function $l(e,t,n){var a=this._x0,o=this._y0,r=this._x1,c=this._y1,l=[],s=this._root,f,p,u,h,b,g,y;for(s&&l.push(new Zl(s,a,o,r,c)),null==n?n=1/0:(a=e-n,o=t-n,r=e+n,c=t+n,n*=n);g=l.pop();)if(!(!(s=g.node)||(p=g.x0)>r||(u=g.y0)>c||(h=g.x1)<a||(b=g.y1)<o))if(s.length){var _=(p+h)/2,m=(u+b)/2;l.push(new Zl(s[3],_,m,h,b),new Zl(s[2],p,m,_,b),new Zl(s[1],_,u,h,m),new Zl(s[0],p,u,_,m)),(y=(t>=m)<<1|e>=_)&&(g=l[l.length-1],l[l.length-1]=l[l.length-1-y],l[l.length-1-y]=g)}else{var x=e-+this._x.call(null,s.data),v=t-+this._y.call(null,s.data),k=x*x+v*v;if(k<n){var w=Oh(n=k);a=e-w,o=t-w,r=e+w,c=t+w,f=s.data}}return f}function Kl(e){if(isNaN(f=+this._x.call(null,e))||isNaN(p=+this._y.call(null,e)))return this;var t=this._root,n=this._x0,a=this._y0,o=this._x1,d=this._y1,r,c,l,s,f,p,u,h,b,g,_,m;if(!t)return this;if(t.length)for(;;){if((b=f>=(u=(n+o)/2))?n=u:o=u,(g=p>=(h=(a+d)/2))?a=h:d=h,(r=t,!(t=t[_=g<<1|b])))return this;if(!t.length)break;(r[3&_+1]||r[3&_+2]||r[3&_+3])&&(c=r,m=_)}for(;t.data!==e;)if(l=t,!(t=t.next))return this;return((s=t.next)&&delete t.next,l)?(s?l.next=s:delete l.next,this):r?(s?r[_]=s:delete r[_],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(c?c[m]=t:this._root=t),this):(this._root=s,this)}function Jl(e){var t=[],n=this._root,a,o,d,i,r,c;for(n&&t.push(new Zl(n,this._x0,this._y0,this._x1,this._y1));a=t.pop();)if(!e(n=a.node,d=a.x0,i=a.y0,r=a.x1,c=a.y1)&&n.length){var l=(d+r)/2,s=(i+c)/2;(o=n[3])&&t.push(new Zl(o,l,s,r,c)),(o=n[2])&&t.push(new Zl(o,d,s,l,c)),(o=n[1])&&t.push(new Zl(o,l,i,r,s)),(o=n[0])&&t.push(new Zl(o,d,i,l,s))}return this}function Ql(e){var t=[],n=[],a;for(this._root&&t.push(new Zl(this._root,this._x0,this._y0,this._x1,this._y1));a=t.pop();){var o=a.node;if(o.length){var d=a.x0,i=a.y0,r=a.x1,c=a.y1,l=(d+r)/2,s=(i+c)/2,f;(f=o[0])&&t.push(new Zl(f,d,i,l,s)),(f=o[1])&&t.push(new Zl(f,l,i,r,s)),(f=o[2])&&t.push(new Zl(f,d,s,l,c)),(f=o[3])&&t.push(new Zl(f,l,s,r,c))}n.push(a)}for(;a=n.pop();)e(a.node,a.x0,a.y0,a.x1,a.y1);return this}function es(e){return e[0]}function ts(e){return e[1]}function ns(e,t,n,a,o,d){this._x=e,this._y=t,this._x0=n,this._y0=a,this._x1=o,this._y1=d,this._root=void 0}function as(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}function os(e,t){if(0>(a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e")))return null;var n=e.slice(0,a),a;return[1<n.length?n[0]+n.slice(2):n,+e.slice(a+1)]}function ds(e){return e=os(Ph(e)),e?e[1]:NaN}function is(e,n){return function(a,o){for(var d=a.length,r=[],t=0,c=e[0],l=0;0<d&&0<c&&(l+c+1>o&&(c=Uh(1,o-l)),r.push(a.substring(d-=c,d+c)),!((l+=c+1)>o));)c=e[t=(t+1)%e.length];return r.reverse().join(n)}}function rs(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}function cs(e){return new ls(e)}function ls(e){if(!(t=mj.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function ss(e){out:for(var t=e.length,n=1,a=-1,o;n<t;++n)switch(e[n]){case".":a=o=n;break;case"0":0==a&&(a=n),o=n;break;default:if(0<a){if(!+e[n])break out;a=0}}return 0<a?e.slice(0,a)+e.slice(o+1):e}function fs(e,t){var n=os(e,t);if(!n)return e+"";var a=n[0],o=n[1];return 0>o?"0."+Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+Array(o-a.length+2).join("0")}function ps(e){return e}function us(e){function t(e){function t(e){var t=m,o=x,p,w,j;if("c"===_)o=v(e)+o,e="";else{e=+e;var S=0>e;if(e=v(Ph(e),g),y&&(e=ss(e)),S&&0==+e&&(S=!1),t=(S?"("===f?f:"-":"-"===f||"("===f?"":f)+t,o=("s"===_?xj[8+vj/3]:"")+o+(S&&"("===f?")":""),k)for(p=-1,w=e.length;++p<w;)if(j=e.charCodeAt(p),48>j||57<j){o=(46===j?d+e.slice(p+1):e.slice(p))+o,e=e.slice(0,p);break}}b&&!u&&(e=a(e,1/0));var T=t.length+e.length+o.length,C=T<h?Array(h-T+1).join(l):"";switch(b&&u&&(e=a(C+e,C.length?h-o.length:1/0),C=""),s){case"<":e=t+e+o+C;break;case"=":e=t+C+e+o;break;case"^":e=C.slice(0,T=C.length>>1)+t+e+o+C.slice(T);break;default:e=C+t+e+o;}return r(e)}e=cs(e);var l=e.fill,s=e.align,f=e.sign,p=e.symbol,u=e.zero,h=e.width,b=e.comma,g=e.precision,y=e.trim,_=e.type;"n"===_?(b=!0,_="g"):!re[_]&&(null==g&&(g=12),y=!0,_="g"),(u||"0"===l&&"="===s)&&(u=!0,l="0",s="=");var m="$"===p?o[0]:"#"===p&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",x="$"===p?o[1]:/[%p]/.test(_)?c:"",v=re[_],k=/[defgprs%]/.test(_);return g=null==g?6:/[gprs]/.test(_)?Uh(1,Nh(21,g)):Uh(0,Nh(20,g)),t.toString=function(){return e+""},t}var a=e.grouping&&e.thousands?is(e.grouping,e.thousands):ps,o=e.currency,d=e.decimal,r=e.numerals?rs(e.numerals):ps,c=e.percent||"%";return{format:t,formatPrefix:function(n,a){var o=t((n=cs(n),n.type="f",n)),d=3*Uh(-8,Nh(8,zh(ds(a)/3))),e=Mh(10,-d),i=xj[8+d/3];return function(t){return o(e*t)+i}}}}function hs(e){return kj=us(e),wj=kj.format,jj=kj.formatPrefix,kj}function bs(e){return Uh(0,-ds(Ph(e)))}function gs(e,t){return Uh(0,3*Uh(-8,Nh(8,zh(ds(t)/3)))-ds(Ph(e)))}function ys(e,t){return e=Ph(e),t=Ph(t)-e,Uh(0,ds(t)-ds(e))+1}function _s(e,t){for(var a=e.length,n=e[a-1],o=t[0],d=t[1],r=n[0],c=n[1],l=!1,s=0,f,u;s<a;++s)n=e[s],f=n[0],u=n[1],u>d!=c>d&&o<(r-f)*(d-u)/(c-u)+f&&(l=!l),r=f,c=u;return l}function ms(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);}return this}function xs(e){return function(){return e}}function vs(e){return+e}function ks(e){return e}function ws(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xs(isNaN(t)?NaN:.5)}function js(e){var n=e[0],o=e[e.length-1],d;return n>o&&(d=n,n=o,o=d),function(e){return Uh(n,Nh(o,e))}}function Ss(e,t,n){var a=e[0],o=e[1],d=t[0],i=t[1];return o<a?(a=ws(o,a),d=n(i,d)):(a=ws(a,o),d=n(d,i)),function(e){return d(a(e))}}function Ts(e,t,n){var a=Nh(e.length,t.length)-1,o=Array(a),d=Array(a),r=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++r<a;)o[r]=ws(e[r],e[r+1]),d[r]=n(t[r],t[r+1]);return function(t){var n=bk(e,t,1,a)-1;return d[n](o[n](t))}}function Cs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function As(){function e(){return l=2<Nh(n.length,a.length)?Ts:Ss,s=f=null,t}function t(e){return isNaN(e=+e)?c:(s||(s=l(n.map(i),a,o)))(i(d(e)))}var n=Aj,a=Aj,o=Pc,d=ks,i,r,c,l,s,f;return t.invert=function(e){return d(r((f||(f=l(a,n.map(i),Cc)))(e)))},t.domain=function(t){return arguments.length?(n=Tj.call(t,vs),d===ks||(d=js(n)),e()):n.slice()},t.range=function(t){return arguments.length?(a=Cj.call(t),e()):a.slice()},t.rangeRound=function(t){return a=Cj.call(t),o=Mc,e()},t.clamp=function(e){return arguments.length?(d=e?js(n):ks,t):d!==ks},t.interpolate=function(t){return arguments.length?(o=t,e()):o},t.unknown=function(e){return arguments.length?(c=e,t):c},function(n,t){return i=n,r=t,e()}}function Es(e,t){return As()(e,t)}function Os(e,t,n,a){var o=kd(e,t,n),d;switch(a=cs(null==a?",f":a),a.type){case"s":{var i=Uh(Ph(e),Ph(t));return null!=a.precision||isNaN(d=gs(o,i))||(a.precision=d),jj(a,i)}case"":case"e":case"g":case"p":case"r":{null!=a.precision||isNaN(d=ys(o,Uh(Ph(e),Ph(t))))||(a.precision=d-("e"===a.type));break}case"f":case"%":{null!=a.precision||isNaN(d=bs(o))||(a.precision=d-2*("%"===a.type));break}}return wj(a)}function Ns(e){var t=e.domain;return e.ticks=function(e){var n=t();return xd(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var a=t();return Os(a[0],a[a.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var a=t(),o=0,d=a.length-1,i=a[o],r=a[d],c;return r<i&&(c=i,i=r,r=c,c=o,o=d,d=c),c=vd(i,r,n),0<c?(i=zh(i/c)*c,r=Bh(r/c)*c,c=vd(i,r,n)):0>c&&(i=Bh(i*c)/c,r=zh(r*c)/c,c=vd(i,r,n)),0<c?(a[o]=zh(i/c)*c,a[d]=Bh(r/c)*c,t(a)):0>c&&(a[o]=Bh(i*c)/c,a[d]=zh(r*c)/c,t(a)),e},e}function Ps(){var e=Es(ks,ks);return e.copy=function(){return Cs(e,Ps())},ms.apply(e,arguments),Ns(e)}function Ms(e,t,n,a){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:zh(n)),e},o.range=function(n,a,d){var i=[],r;if(n=o.ceil(n),d=null==d?1:zh(d),!(n<a)||!(0<d))return i;do i.push(r=new Date(+n)),t(n,d),e(n);while(r<n&&n<a);return i},o.filter=function(n){return Ms(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,a){if(e>=e)if(0>a)for(;0>=++a;)for(;t(e,-1),!n(e););else for(;0<=--a;)for(;t(e,1),!n(e););})},n&&(o.count=function(t,a){return Ej.setTime(+t),Oj.setTime(+a),e(Ej),e(Oj),zh(n(Ej,Oj))},o.every=function(e){return e=zh(e),isFinite(e)&&0<e?1<e?o.filter(a?function(t){return 0==a(t)%e}:function(t){return 0==o.count(0,t)%e}):o:null}),o}function Is(e){return Ms(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*60000)/604800000})}function Rs(e){return Ms(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/604800000})}function Us(e){if(0<=e.y&&100>e.y){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zs(e){if(0<=e.y&&100>e.y){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bs(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function Ds(e){function t(e,t){return function(a){var o=[],d=-1,r=0,l=e.length,n,s,f;for(a instanceof Date||(a=new Date(+a));++d<l;)37===e.charCodeAt(d)&&(o.push(e.slice(r,d)),null==(s=SS[n=e.charAt(++d)])?s="e"===n?" ":"0":n=e.charAt(++d),(f=t[n])&&(n=f(a,s)),o.push(n),r=d+1);return o.push(e.slice(r,d)),o.join("")}}function n(e,t){return function(n){var o=Bs(1900),d=a(o,e,n+="",0),i,r;if(d!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(1>o.V||53<o.V)return null;"w"in o||(o.w=1),"Z"in o?(i=zs(Bs(o.y)),r=i.getUTCDay(),i=4<r||0===r?pS.ceil(i):pS(i),i=lS.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(i=t(Bs(o.y)),r=i.getDay(),i=4<r||0===r?Vj.ceil(i):Vj(i),i=Fj.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?zs(Bs(o.y)).getUTCDay():t(Bs(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=0|o.Z/100,o.M+=o.Z%100,zs(o)):t(o)}}function a(e,t,a,o){for(var d=0,r=t.length,n=a.length,l,s;d<r;){if(o>=n)return-1;if(l=t.charCodeAt(d++),37===l){if(l=t.charAt(d++),s=T[l in SS?t.charAt(d++):l],!s||0>(o=s(e,a,o)))return-1;}else if(l!=a.charCodeAt(o++))return-1}return o}var o=e.dateTime,r=e.date,c=e.time,l=e.periods,s=e.days,f=e.shortDays,p=e.months,u=e.shortMonths,h=Ys(l),b=Fs(l),g=Ys(s),y=Fs(s),_=Ys(f),m=Fs(f),x=Ys(p),v=Fs(p),k=Ys(u),w=Fs(u),j={a:function(e){return f[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return p[e.getMonth()]},c:null,d:sf,e:sf,f:bf,H:ff,I:pf,j:uf,L:hf,m:gf,M:yf,p:function(e){return l[+(12<=e.getHours())]},Q:Hf,s:Vf,S:_f,u:mf,U:xf,V:vf,w:kf,W:wf,x:null,X:null,y:jf,Y:Sf,Z:Tf,"%":qf},S={a:function(e){return f[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return p[e.getUTCMonth()]},c:null,d:Cf,e:Cf,f:Pf,H:Af,I:Ef,j:Of,L:Nf,m:Mf,M:If,p:function(e){return l[+(12<=e.getUTCHours())]},Q:Hf,s:Vf,S:Rf,u:Uf,U:zf,V:Bf,w:Df,W:Wf,x:null,X:null,y:Lf,Y:Yf,Z:Ff,"%":qf},T={a:function(e,t,a){var o=_.exec(t.slice(a));return o?(e.w=m[o[0].toLowerCase()],a+o[0].length):-1},A:function(e,t,a){var o=g.exec(t.slice(a));return o?(e.w=y[o[0].toLowerCase()],a+o[0].length):-1},b:function(e,t,a){var o=k.exec(t.slice(a));return o?(e.m=w[o[0].toLowerCase()],a+o[0].length):-1},B:function(e,t,a){var o=x.exec(t.slice(a));return o?(e.m=v[o[0].toLowerCase()],a+o[0].length):-1},c:function(e,t,n){return a(e,o,t,n)},d:Qs,e:Qs,f:df,H:tf,I:tf,j:ef,L:of,m:Js,M:nf,p:function(e,t,a){var o=h.exec(t.slice(a));return o?(e.p=b[o[0].toLowerCase()],a+o[0].length):-1},Q:cf,s:lf,S:af,u:Hs,U:Vs,V:Xs,w:qs,W:Gs,x:function(e,t,n){return a(e,r,t,n)},X:function(e,t,n){return a(e,c,t,n)},y:$s,Y:Zs,Z:Ks,"%":rf};return j.x=t(r,j),j.X=t(c,j),j.c=t(o,j),S.x=t(r,S),S.X=t(c,S),S.c=t(o,S),{format:function(e){var n=t(e+="",j);return n.toString=function(){return e},n},parse:function(e){var t=n(e+="",Us);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",S);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e,zs);return t.toString=function(){return e},t}}}function Ws(e,t,n){var a=0>e?"-":"",o=(a?-e:e)+"",d=o.length;return a+(d<n?Array(n-d+1).join(t)+o:o)}function Ls(e){return e.replace(AS,"\\$&")}function Ys(e){return new RegExp("^(?:"+e.map(Ls).join("|")+")","i")}function Fs(e){for(var t={},a=-1,o=e.length;++a<o;)t[e[a].toLowerCase()]=a;return t}function qs(e,t,a){var o=TS.exec(t.slice(a,a+1));return o?(e.w=+o[0],a+o[0].length):-1}function Hs(e,t,a){var o=TS.exec(t.slice(a,a+1));return o?(e.u=+o[0],a+o[0].length):-1}function Vs(e,t,a){var o=TS.exec(t.slice(a,a+2));return o?(e.U=+o[0],a+o[0].length):-1}function Xs(e,t,a){var o=TS.exec(t.slice(a,a+2));return o?(e.V=+o[0],a+o[0].length):-1}function Gs(e,t,a){var o=TS.exec(t.slice(a,a+2));return o?(e.W=+o[0],a+o[0].length):-1}function Zs(e,t,a){var o=TS.exec(t.slice(a,a+4));return o?(e.y=+o[0],a+o[0].length):-1}function $s(e,t,a){var o=TS.exec(t.slice(a,a+2));return o?(e.y=+o[0]+(68<+o[0]?1900:2e3),a+o[0].length):-1}function Ks(e,t,a){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return o?(e.Z=o[1]?0:-(o[2]+(o[3]||"00")),a+o[0].length):-1}function Js(e,t,a){var o=TS.exec(t.slice(a,a+2));return o?(e.m=o[0]-1,a+o[0].length):-1}function Qs(e,t,a){var o=TS.exec(t.slice(a,a+2));return o?(e.d=+o[0],a+o[0].length):-1}function ef(e,t,a){var o=TS.exec(t.slice(a,a+3));return o?(e.m=0,e.d=+o[0],a+o[0].length):-1}function tf(e,t,a){var o=TS.exec(t.slice(a,a+2));return o?(e.H=+o[0],a+o[0].length):-1}function nf(e,t,a){var o=TS.exec(t.slice(a,a+2));return o?(e.M=+o[0],a+o[0].length):-1}function af(e,t,a){var o=TS.exec(t.slice(a,a+2));return o?(e.S=+o[0],a+o[0].length):-1}function of(e,t,a){var o=TS.exec(t.slice(a,a+3));return o?(e.L=+o[0],a+o[0].length):-1}function df(e,t,a){var o=TS.exec(t.slice(a,a+6));return o?(e.L=zh(o[0]/1e3),a+o[0].length):-1}function rf(e,t,a){var o=CS.exec(t.slice(a,a+1));return o?a+o[0].length:-1}function cf(e,t,a){var o=TS.exec(t.slice(a));return o?(e.Q=+o[0],a+o[0].length):-1}function lf(e,t,a){var o=TS.exec(t.slice(a));return o?(e.Q=1e3*+o[0],a+o[0].length):-1}function sf(e,t){return Ws(e.getDate(),t,2)}function ff(e,t){return Ws(e.getHours(),t,2)}function pf(e,t){return Ws(e.getHours()%12||12,t,2)}function uf(e,t){return Ws(1+Fj.count(aS(e),e),t,3)}function hf(e,t){return Ws(e.getMilliseconds(),t,3)}function bf(e,t){return hf(e,t)+"000"}function gf(e,t){return Ws(e.getMonth()+1,t,2)}function yf(e,t){return Ws(e.getMinutes(),t,2)}function _f(e,t){return Ws(e.getSeconds(),t,2)}function mf(e){var t=e.getDay();return 0===t?7:t}function xf(e,t){return Ws(Hj.count(aS(e),e),t,2)}function vf(e,t){var n=e.getDay();return e=4<=n||0===n?Zj(e):Zj.ceil(e),Ws(Zj.count(aS(e),e)+(4===aS(e).getDay()),t,2)}function kf(e){return e.getDay()}function wf(e,t){return Ws(Vj.count(aS(e),e),t,2)}function jf(e,t){return Ws(e.getFullYear()%100,t,2)}function Sf(e,t){return Ws(e.getFullYear()%1e4,t,4)}function Tf(e){var t=e.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+Ws(0|t/60,"0",2)+Ws(t%60,"0",2)}function Cf(e,t){return Ws(e.getUTCDate(),t,2)}function Af(e,t){return Ws(e.getUTCHours(),t,2)}function Ef(e,t){return Ws(e.getUTCHours()%12||12,t,2)}function Of(e,t){return Ws(1+lS.count(wS(e),e),t,3)}function Nf(e,t){return Ws(e.getUTCMilliseconds(),t,3)}function Pf(e,t){return Nf(e,t)+"000"}function Mf(e,t){return Ws(e.getUTCMonth()+1,t,2)}function If(e,t){return Ws(e.getUTCMinutes(),t,2)}function Rf(e,t){return Ws(e.getUTCSeconds(),t,2)}function Uf(e){var t=e.getUTCDay();return 0===t?7:t}function zf(e,t){return Ws(fS.count(wS(e),e),t,2)}function Bf(e,t){var n=e.getUTCDay();return e=4<=n||0===n?bS(e):bS.ceil(e),Ws(bS.count(wS(e),e)+(4===wS(e).getUTCDay()),t,2)}function Df(e){return e.getUTCDay()}function Wf(e,t){return Ws(pS.count(wS(e),e),t,2)}function Lf(e,t){return Ws(e.getUTCFullYear()%100,t,2)}function Yf(e,t){return Ws(e.getUTCFullYear()%1e4,t,4)}function Ff(){return"+0000"}function qf(){return"%"}function Hf(e){return+e}function Vf(e){return zh(+e/1e3)}function Xf(e){return ES=Ds(e),OS=ES.format,NS=ES.parse,PS=ES.utcFormat,MS=ES.utcParse,ES}function Gf(e){for(var t=0|e.length/6,n=Array(t),a=0;a<t;)n[a]="#"+e.slice(6*a,6*++a);return n}function Zf(e){return Ww(e[e.length-1])}function $f(e){var a=e.length;return function(n){return e[Uh(0,Nh(a-1,zh(n*a)))]}}function Kf(e){return 0>e?-1:1}function Jf(e,t,n){var a=e._x1-e._x0,o=t-e._x1,d=(e._y1-e._y0)/(a||0>o&&-0),i=(n-e._y1)/(o||0>a&&-0);return(Kf(d)+Kf(i))*Nh(Ph(d),Ph(i),.5*Ph((d*o+i*a)/(a+o)))||0}function Qf(e,n){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-n)/2:n}function ep(e,t,n){var a=e._x0,o=e._y0,d=e._x1,i=e._y1,r=(d-a)/3;e._context.bezierCurveTo(a+r,o+r*t,d-r,i-r*n,d,i)}function tp(e){this._context=e}function np(e){this._context=e}function ap(e,t,n){this.k=e,this.x=t,this.y=n}function op(e,t){t.on("make-app-cocktail.legend",function(){return dp(e)}),t.on("make-app-limits.legend",function(){return ip(e)})}function dp(e){e.selectAll("g.legend").html(null);var t=Ps().domain([0,gT.cocktail.keys.length]).rangeRound([0,(gT.cocktail.dim.height+gT.cocktail.dim.margin)*gT.cocktail.keys.length]),n=680,a=66,o=e.append("g").classed("legend",!0).attr("transform","translate("+n+","+a+") scale(1.3)");o.append("rect").attr("width",960-n).attr("height",(gT.cocktail.dim.height+gT.cocktail.dim.margin+1)*gT.cocktail.keys.length+a-1).attr("x","-8").attr("y",-a).style("fill","white").style("stroke","none");var d=o.append("g");d.selectAll("rect").data(gT.cocktail.keys).enter().append("rect").attr("fill",function(e){return lw(ew.CATEGORY[e])}).attr("height",gT.cocktail.dim.height).attr("x",0).attr("y",function(e,n){return t(n)}).attr("width",gT.cocktail.dim.width),d.selectAll("text").data(gT.cocktail.keys).enter().append("text").attr("x",gT.cocktail.dim.label.xOffset).attr("y",function(e,n){return t(n)+gT.cocktail.dim.label.yOffset}).attr("font-size","0.9rem").text(function(e){return gT.cocktail.labels[e]});var i=o.append("g").attr("fill","#000").attr("text-anchor","start");i.append("text").attr("y",-gT.cocktail.dim.titleOffset).attr("font-weight","bold").text("Número de agrotóxicos"),i.append("text").attr("y",-gT.cocktail.dim.subtitleOffset).attr("font-weight","bold").text("detectados na água")}function ip(e){e.selectAll("g.legend").html(null);var t=Ps().domain([0,gT.limits.keys.length]).rangeRound([0,(gT.limits.dim.height+gT.limits.dim.margin)*gT.limits.keys.length]),n=550,a=50,o=e.append("g").classed("legend",!0).attr("transform","translate("+n+","+a+") scale(1.3)");o.append("rect").attr("width",960-n).attr("height",(gT.limits.dim.height+gT.limits.dim.margin+1)*gT.limits.keys.length+a-1).attr("x","-8").attr("y",-a).style("fill","white").style("stroke","none");var d=o.append("g");d.selectAll("rect").data(gT.limits.keys).enter().append("rect").attr("fill",function(e){return sw(tw.CATEGORY[e])}).attr("height",gT.limits.dim.height).attr("y",function(e,n){return t(n)}).attr("width",gT.limits.dim.width),d.selectAll("text").data(gT.limits.keys).enter().append("text").attr("x",gT.limits.dim.label.xOffset).attr("y",function(e,n){return t(n)+gT.limits.dim.label.yOffset}).attr("font-size","0.9rem").text(function(e){return gT.limits.labels[e]});var i=o.append("g").attr("fill","#000").attr("text-anchor","start");i.append("text").attr("y",-gT.limits.dim.titleOffset).attr("font-weight","bold").text("Concentração dos agrotóxicos na água"),i.append("text").attr("y",-gT.limits.dim.subtitleOffset).attr("font-weight","bold").text("acima dos limites considerados seguros")}function rp(e,t,n,a,o){function d(o){e.on("mouseout",function(){t.call("mun-mouseout")}),e.on("click",function(){var d=lp(e,n,a,o,uw);d?t.call("mun-click",null,d):t.call("mun-mouseout")}),e.on("mouseover mousemove",function(){var d=lp(e,n,a,o,uw);d?t.call("mun-mouseover",null,d):t.call("mun-mouseout")})}return d(o),t.on("zoomed.overlay",function(e){d(e.transform)}),e}function cp(e,t){return!!(e&&yT.hasOwnProperty(e.type))&&yT[e.type](e,t)}function lp(e,t,n,a,o){var d=[o.layerX,o.layerY],i=d.map(function(t){return t*n.canvas/e.node().clientWidth}),r=a.invert(i),c=r.map(function(e){return e*n.data/n.canvas});return t.mun.features.find(function(e){return cp(e.geometry,c)})}function sp(e){var t=e+="",n=t.indexOf(":");return 0<=n&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),_T.hasOwnProperty(t)?{space:_T[t],local:e}:e}function fp(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n==="http://www.w3.org/1999/xhtml"&&t.documentElement.namespaceURI==="http://www.w3.org/1999/xhtml"?t.createElement(e):t.createElementNS(n,e)}}function pp(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function up(e){var t=sp(e);return(t.local?pp:fp)(t)}function hp(e,t,n){return e=bp(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function bp(e,t,n){return function(a){var o=jT;jT=a;try{e.call(this,this.__data__,t,n)}finally{jT=o}}}function gp(e){return e.trim().split(/^|\s+/).map(function(e){var n="",a=e.indexOf(".");return 0<=a&&(n=e.slice(a+1),e=e.slice(0,a)),{type:e,name:n}})}function yp(e){return function(){var t=this.__on;if(t){for(var n=0,a=-1,d=t.length,r;n<d;++n)(r=t[n],(!e.type||r.type===e.type)&&r.name===e.name)?this.removeEventListener(r.type,r.listener,r.capture):t[++a]=r;++a?t.length=a:delete this.__on}}}function _p(e,t,n){var a=wT.hasOwnProperty(e.type)?hp:bp;return function(r,d,i){var c=this.__on,l=a(t,d,i),s;if(c)for(var f=0,p=c.length;f<p;++f)if((s=c[f]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function mp(e,t,n,a){var o=jT;e.sourceEvent=jT,jT=e;try{return t.apply(n,a)}finally{jT=o}}function xp(){for(var e=jT,t;t=e.sourceEvent;)e=t;return e}function vp(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function kp(e){var t=xp();return t.changedTouches&&(t=t.changedTouches[0]),vp(e,t)}function wp(){}function jp(e){return null==e?wp:function(){return this.querySelector(e)}}function Sp(e){"function"!=typeof e&&(e=jp(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=Array(c),l=0,s,f;l<c;++l)(s=r[l])&&(f=e.call(s,s.__data__,l,r))&&("__data__"in s&&(f.__data__=s.__data__),n[l]=f);return new hu(o,this._parents)}function Tp(){return[]}function Cp(e){return null==e?Tp:function(){return this.querySelectorAll(e)}}function Ap(e){return Array(e.length)}function Ep(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Op(e){return function(){return e}}function Np(e,t,n,a,o,d){for(var r=0,c=t.length,l=d.length,s;r<l;++r)(s=t[r])?(s.__data__=d[r],a[r]=s):n[r]=new Ep(e,d[r]);for(;r<c;++r)(s=t[r])&&(o[r]=s)}function Pp(e,t,n,a,o,d,r){var c={},l=t.length,s=d.length,f=Array(l),p,u,h;for(p=0;p<l;++p)(u=t[p])&&(f[p]=h="$"+r.call(u,u.__data__,p,t),h in c?o[p]=u:c[h]=u);for(p=0;p<s;++p)h="$"+r.call(e,d[p],p,d),(u=c[h])?(a[p]=u,u.__data__=d[p],c[h]=null):n[p]=new Ep(e,d[p]);for(p=0;p<l;++p)(u=t[p])&&c[f[p]]===u&&(o[p]=u)}function Mp(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ip(e){return function(){this.removeAttribute(e)}}function Rp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Up(e,t){return function(){this.setAttribute(e,t)}}function zp(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Bp(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Dp(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Wp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lp(e){return function(){this.style.removeProperty(e)}}function Yp(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Fp(e,t,n){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function qp(e){return function(){delete this[e]}}function Hp(e,t){return function(){this[e]=t}}function Vp(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Xp(e){return e.trim().split(/^|\s+/)}function Gp(e){return e.classList||new Zp(e)}function Zp(e){this._node=e,this._names=Xp(e.getAttribute("class")||"")}function $p(e,t){for(var a=Gp(e),o=-1,d=t.length;++o<d;)a.add(t[o])}function Kp(e,t){for(var a=Gp(e),o=-1,d=t.length;++o<d;)a.remove(t[o])}function Jp(e){return function(){$p(this,e)}}function Qp(e){return function(){Kp(this,e)}}function eu(e,t){return function(){(t.apply(this,arguments)?$p:Kp)(this,e)}}function tu(){this.textContent=""}function nu(e){return function(){this.textContent=e}}function au(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ou(){this.innerHTML=""}function du(e){return function(){this.innerHTML=e}}function iu(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ru(){this.nextSibling&&this.parentNode.appendChild(this)}function cu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lu(){return null}function su(){var e=this.parentNode;e&&e.removeChild(this)}function fu(e,t,n){var a=Wp(e),o=a.CustomEvent;o?o=new o(t,n):(o=a.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function pu(e,t){return function(){return fu(this,e,t)}}function uu(e,t){return function(){return fu(this,e,t.apply(this,arguments))}}function hu(e,t){this._groups=e,this._parents=t}function bu(e){return"string"==typeof e?new hu([[document.querySelector(e)]],[document.documentElement]):new hu([[e]],TT)}function gu(e,t,a){3>arguments.length&&(a=t,t=xp().changedTouches);for(var o=0,d=t?t.length:0,n;o<d;++o)if((n=t[o]).identifier===a)return vp(e,n);return null}function yu(){for(var e=0,a=arguments.length,n={},o;e<a;++e){if(!(o=arguments[e]+"")||o in n)throw new Error("illegal type: "+o);n[o]=[]}return new _u(n)}function _u(e){this._=e}function mu(e,n){return e.trim().split(/^|\s+/).map(function(e){var a="",o=e.indexOf(".");if(0<=o&&(a=e.slice(o+1),e=e.slice(0,o)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:a}})}function xu(e,t){for(var a=0,o=e.length,n;a<o;++a)if((n=e[a]).name===t)return n.value}function vu(e,t,a){for(var o=0,d=e.length;o<d;++o)if(e[o].name===t){e[o]=CT,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=a&&e.push({name:t,value:a}),e}function ku(){jT.stopImmediatePropagation()}function wu(){jT.preventDefault(),jT.stopImmediatePropagation()}function ju(e){var t=e.document.documentElement,n=bu(e).on("dragstart.drag",wu,!0);"onselectstart"in t?n.on("selectstart.drag",wu,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Su(e,t){var n=e.document.documentElement,a=bu(e).on("dragstart.drag",null);t&&(a.on("click.drag",wu,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Tu(e){return function(){return e}}function Cu(e,t,n,a,o,d,i,r,c,l){this.target=e,this.type=t,this.subject=n,this.identifier=a,this.active=o,this.x=d,this.y=i,this.dx=r,this.dy=c,this._=l}function Au(){return!jT.button}function Eu(){return this.parentNode}function Ou(e){return null==e?{x:jT.x,y:jT.y}:e}function Nu(){function e(e){e.on("mousedown.drag",t).on("touchstart.drag",o).on("touchmove.drag",d).on("touchend.drag touchcancel.drag",i).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(){if(!g&&l.apply(this,arguments)){var e=r("mouse",s.apply(this,arguments),kp,this,arguments);e&&(bu(jT.view).on("mousemove.drag",n,!0).on("mouseup.drag",a,!0),ju(jT.view),ku(),b=!1,e("start"))}}function n(){wu(),b=!0,p.mouse("drag")}function a(){bu(jT.view).on("mousemove.drag mouseup.drag",null),Su(jT.view,b),wu(),p.mouse("end")}function o(){if(l.apply(this,arguments)){var e=jT.changedTouches,t=s.apply(this,arguments),a=e.length,n,o;for(n=0;n<a;++n)(o=r(e[n].identifier,t,gu,this,arguments))&&(ku(),o("start"))}}function d(){var e=jT.changedTouches,t=e.length,n,a;for(n=0;n<t;++n)(a=p[e[n].identifier])&&(wu(),a("drag"))}function i(){var e=jT.changedTouches,t=e.length,n,a;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),n=0;n<t;++n)(a=p[e[n].identifier])&&(ku(),a("end"))}function r(t,n,a,o,d){var i=a(n,t),r=u.copy(),c,l,b;return mp(new Cu(e,"beforestart",c,t,h,i[0],i[1],0,0,r),function(){return null!=(jT.subject=c=f.apply(o,d))&&(l=c.x-i[0]||0,b=c.y-i[1]||0,!0)})?function s(f){var u=i,g;switch(f){case"start":p[t]=s,g=h++;break;case"end":delete p[t],--h;case"drag":i=a(n,t),g=h;}mp(new Cu(e,f,c,t,g,i[0]+l,i[1]+b,i[0]-u[0],i[1]-u[1],r),r.apply,r,[f,o,d])}:void 0}var l=Au,s=Eu,f=Ou,p={},u=yu("start","drag","end"),h=0,b,g;return e.filter=function(t){return arguments.length?(l="function"==typeof t?t:Tu(!!t),e):l},e.container=function(t){return arguments.length?(s="function"==typeof t?t:Tu(t),e):s},e.subject=function(t){return arguments.length?(f="function"==typeof t?t:Tu(t),e):f},e.on=function(){var t=u.on.apply(u,arguments);return t===u?e:t},e}function Pu(e){return function(){return e}}function Mu(e){return e.innerRadius}function Iu(e){return e.outerRadius}function Ru(e){return e.startAngle}function Uu(e){return e.endAngle}function zu(e){return e&&e.padAngle}function Bu(e){return 1<=e?OT:-1>=e?-OT:jh(e)}function Du(e,n,a,o,d,i,r,c){var l=a-e,s=o-n,f=r-d,p=c-i,u=(f*(n-i)-p*(e-d))/(p*l-f*s);return[e+u*l,n+u*s]}function Wu(e,t,n,a,o,i,c){var l=e-n,s=t-a,f=(c?i:-i)/Oh(l*l+s*s),p=f*s,u=-f*l,h=e+p,b=t+u,g=n+p,y=a+u,_=(h+g)/2,m=(b+y)/2,x=g-h,v=y-b,k=x*x+v*v,w=o-i,r=h*y-g*b,j=(0>v?-1:1)*Oh(Uh(0,w*w*k-r*r)),d=(r*v-x*j)/k,S=(-r*x-v*j)/k,T=(r*v+x*j)/k,C=(-r*x+v*j)/k,A=d-_,E=S-m,O=T-_,N=C-m;return A*A+E*E>O*O+N*N&&(d=T,S=C),{cx:d,cy:S,x01:-p,y01:-u,x11:d*(o/w-1),y11:S*(o/w-1)}}function Lu(){function e(){var e=+t.apply(this,arguments),l=+n.apply(this,arguments),s=d.apply(this,arguments)-OT,f=i.apply(this,arguments)-OT,p=Ph(f-s),u=f>s,h,b;if(c||(c=h=fi()),l<e&&(b=l,l=e,e=b),!(l>AT))c.moveTo(0,0);else if(p>NT-AT)c.moveTo(l*Ah(s),l*Ch(s)),c.arc(0,0,l,s,f,!u),e>AT&&(c.moveTo(e*Ah(f),e*Ch(f)),c.arc(0,0,e,f,s,u));else{var g=s,y=f,_=s,m=f,x=p,v=p,k=r.apply(this,arguments)/2,w=k>AT&&(o?+o.apply(this,arguments):Oh(e*e+l*l)),j=Nh(Ph(l-e)/2,+a.apply(this,arguments)),S=j,T=j,C,A;if(w>AT){var E=Bu(w/e*Ch(k)),O=Bu(w/l*Ch(k));(x-=2*E)>AT?(E*=u?1:-1,_+=E,m-=E):(x=0,_=m=(s+f)/2),(v-=2*O)>AT?(O*=u?1:-1,g+=O,y-=O):(v=0,g=y=(s+f)/2)}var N=l*Ah(g),P=l*Ch(g),M=e*Ah(m),I=e*Ch(m);if(j>AT){var R=l*Ah(y),U=l*Ch(y),z=e*Ah(_),B=e*Ch(_);if(p<ET){var D=x>AT?Du(N,P,z,B,R,U,M,I):[M,I],W=N-D[0],L=P-D[1],Y=R-D[0],F=U-D[1],q=1/Ch(wh((W*Y+L*F)/(Oh(W*W+L*L)*Oh(Y*Y+F*F)))/2),H=Oh(D[0]*D[0]+D[1]*D[1]);S=Nh(j,(e-H)/(q-1)),T=Nh(j,(l-H)/(q+1))}}v>AT?T>AT?(C=Wu(z,B,N,P,l,T,u),A=Wu(R,U,M,I,l,T,u),c.moveTo(C.cx+C.x01,C.cy+C.y01),T<j?c.arc(C.cx,C.cy,T,Th(C.y01,C.x01),Th(A.y01,A.x01),!u):(c.arc(C.cx,C.cy,T,Th(C.y01,C.x01),Th(C.y11,C.x11),!u),c.arc(0,0,l,Th(C.cy+C.y11,C.cx+C.x11),Th(A.cy+A.y11,A.cx+A.x11),!u),c.arc(A.cx,A.cy,T,Th(A.y11,A.x11),Th(A.y01,A.x01),!u))):(c.moveTo(N,P),c.arc(0,0,l,g,y,!u)):c.moveTo(N,P),e>AT&&x>AT?S>AT?(C=Wu(M,I,R,U,e,-S,u),A=Wu(N,P,z,B,e,-S,u),c.lineTo(C.cx+C.x01,C.cy+C.y01),S<j?c.arc(C.cx,C.cy,S,Th(C.y01,C.x01),Th(A.y01,A.x01),!u):(c.arc(C.cx,C.cy,S,Th(C.y01,C.x01),Th(C.y11,C.x11),!u),c.arc(0,0,e,Th(C.cy+C.y11,C.cx+C.x11),Th(A.cy+A.y11,A.cx+A.x11),u),c.arc(A.cx,A.cy,S,Th(A.y11,A.x11),Th(A.y01,A.x01),!u))):c.arc(0,0,e,m,_,u):c.lineTo(M,I)}return(c.closePath(),h)?(c=null,h+""||null):void 0}var t=Mu,n=Iu,a=Pu(0),o=null,d=Ru,i=Uu,r=zu,c=null;return e.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,o=(+d.apply(this,arguments)+ +i.apply(this,arguments))/2-ET/2;return[Ah(o)*e,Ch(o)*e]},e.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Pu(+n),e):t},e.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Pu(+t),e):n},e.cornerRadius=function(t){return arguments.length?(a="function"==typeof t?t:Pu(+t),e):a},e.padRadius=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:Pu(+t),e):o},e.startAngle=function(t){return arguments.length?(d="function"==typeof t?t:Pu(+t),e):d},e.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Pu(+t),e):i},e.padAngle=function(t){return arguments.length?(r="function"==typeof t?t:Pu(+t),e):r},e.context=function(t){return arguments.length?(c=null==t?null:t,e):c},e}function Yu(e){this._context=e}function Fu(e){return new Yu(e)}function qu(e){return e[0]}function x(e){return e[1]}function y(){function e(e){var s=e.length,n=!1,f,p,u;for(null==r&&(l=c(u=fi())),f=0;f<=s;++f)!(f<s&&o(p=e[f],f,e))==n&&((n=!n)?l.lineStart():l.lineEnd()),n&&l.point(+t(p,f,e),+a(p,f,e));if(u)return l=null,u+""||null}var t=qu,a=x,o=Pu(!0),r=null,c=Fu,l=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:Pu(+n),e):t},e.y=function(t){return arguments.length?(a="function"==typeof t?t:Pu(+t),e):a},e.defined=function(t){return arguments.length?(o="function"==typeof t?t:Pu(!!t),e):o},e.curve=function(t){return arguments.length?(c=t,null!=r&&(l=c(r)),e):c},e.context=function(t){return arguments.length?(null==t?r=l=null:l=c(r=t),e):r},e}function Hu(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Vu(e,t){this._context=e,this._k=(1-t)/6}function Xu(e,t,o){var d=e._x1,i=e._y1,r=e._x2,c=e._y2;if(e._l01_a>AT){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,a=3*e._l01_a*(e._l01_a+e._l12_a);d=(d*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/a,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/a}if(e._l23_a>AT){var n=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,s=3*e._l23_a*(e._l23_a+e._l12_a);r=(r*n+e._x1*e._l23_2a-t*e._l12_2a)/s,c=(c*n+e._y1*e._l23_2a-o*e._l12_2a)/s}e._context.bezierCurveTo(d,i,r,c,e._x2,e._y2)}function Gu(e,t){this._context=e,this._alpha=t}function Zu(e){return 0>e?-1:1}function $u(e,t,n){var a=e._x1-e._x0,o=t-e._x1,d=(e._y1-e._y0)/(a||0>o&&-0),i=(n-e._y1)/(o||0>a&&-0);return(Zu(d)+Zu(i))*Nh(Ph(d),Ph(i),.5*Ph((d*o+i*a)/(a+o)))||0}function Ku(e,n){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-n)/2:n}function Ju(e,t,n){var a=e._x0,o=e._y0,d=e._x1,i=e._y1,r=(d-a)/3;e._context.bezierCurveTo(a+r,o+r*t,d-r,i-r*n,d,i)}function Qu(e){this._context=e}function eh(e){this._context=e}function th(){var e=[],t=void 0,n=void 0,o=[],i={},r={},c=!1,l=void 0,s=gC,f=void 0,p=void 0,u=yu("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),h=void 0,b=function n(a){h=a,c||a.selectAll("circle.handle").remove();var d=e.map(function(e){return e.type||(e.type=s),e.disable||(e.disable=o),new LT(e)});t=t||new YT({annotations:d,accessors:i,accessorsInverse:r,ids:l});var b=a.selectAll("g").data([t]);b.enter().append("g").attr("class","annotations");var g=a.select("g.annotations");jC(g,t.annotations,"g","annotation");var n=g.selectAll("g.annotation");n.each(function(e){var t=bu(this);t.attr("class","annotation"),jC(t,[e],"g","annotation-connector"),jC(t,[e],"g","annotation-subject"),jC(t,[e],"g","annotation-note"),jC(t.select("g.annotation-note"),[e],"g","annotation-note-content"),e.type="[object Object]"===e.type.toString()?e.type:new e.type({a:t,annotation:e,textWrap:f,notePadding:p,editMode:c,dispatcher:u,accessors:i}),e.type.draw(),e.type.drawText&&e.type.drawText()})};return b.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",t.json),window.copy(JSON.stringify(t.json.map(function(e){return delete e.type,e}))),b},b.update=function(){return e&&t&&(e=t.annotations.map(function(e){return e.type.draw(),e})),b},b.updateText=function(){return t&&(t.updateText(f),e=t.annotations),b},b.updatedAccessors=function(){return t.setPositionWithAccessors(),e=t.annotations,b},b.disable=function(n){return arguments.length?(o=n,t&&(t.updateDisable(o),e=t.annotations),b):o},b.textWrap=function(n){return arguments.length?(f=n,t&&(t.updateTextWrap(f),e=t.annotations),b):f},b.notePadding=function(n){return arguments.length?(p=n,t&&(t.updateNotePadding(p),e=t.annotations),b):p},b.type=function(n,o){return arguments.length?(s=n,t&&(t.annotations.map(function(e){e.type.note&&e.type.note.selectAll("*:not(.annotation-note-content)").remove(),e.type.noteContent&&e.type.noteContent.selectAll("*").remove(),e.type.subject&&e.type.subject.selectAll("*").remove(),e.type.connector&&e.type.connector.selectAll("*").remove(),e.type.typeSettings={},e.type=s,e.subject=o&&o.subject||e.subject,e.connector=o&&o.connector||e.connector,e.note=o&&o.note||e.note}),e=t.annotations),b):s},b.annotations=function(n){if(!arguments.length)return t&&t.annotations||e;if(e=n,t&&t.annotations){var a=e.some(function(e){return!e.type||"[object Object]"!==e.type.toString()});a?(t=null,b(h)):t.annotations=e}return b},b.context=function(e){return arguments.length?(n=e,b):n},b.accessors=function(e){return arguments.length?(i=e,b):i},b.accessorsInverse=function(e){return arguments.length?(r=e,b):r},b.ids=function(e){return arguments.length?(l=e,b):l},b.editMode=function(n){return arguments.length?(c=n,h&&h.selectAll("g.annotation").classed("editable",c),t&&(t.editMode(c),e=t.annotations),b):c},b.collection=function(e){return arguments.length?(t=e,b):t},b.on=function(){var e=u.on.apply(u,arguments);return e===u?b:e},b}function nh(e){return Number.isInteger(e.properties.map1Number)?e.properties.map1Number+" agrotóxico(s) encontrado(s) na água potável.":"Nunca testado."}function ah(e){return EC[e.properties.map2Category]}function oh(e,t,n,a){function o(e,a,i,r){t.on("make-app-cocktail.tooltip",function(){o(nh,a,i,r)}),t.on("make-app-limits.tooltip",function(){o(ah,a,i,r)}),t.on("zoomed.tooltip",function(t){t.mun?o(e,t.transform,t.mun,t.mun):o(e,t.transform,i,r)}),t.on("mun-mouseover.tooltip",function(t){o(e,a,t,r)}),t.on("mun-mouseout.tooltip",function(){o(e,a,r,r)}),t.on("to-mun-view.tooltip",function(t){o(e,a,t,t)}),i&&e?ih(d,e,i,n,a):dh(d)}var d=e.append("g").classed("tooltip",!0);o(null,a,null,null)}function dh(e){e.html("")}function ih(e,t,n,a,o){e.call(rh(t,n,a,o))}function rh(e,t,n,a){var o=t.properties.centroid,d=o.map(function(e){return e*n.canvas/n.data}),i=a.apply(d),r=i.map(function(e){return e*n.svg/n.canvas}),c=a.k*t.properties.radius;return th().type(xC).annotations([{data:t,note:{bgPadding:10,label:e(t),title:t.properties.name+" ("+t.properties.fuName+")",wrap:AC.nx},nx:AC.nx,ny:AC.ny,subject:{radius:Uh(c,AC.radius.min),radiusPadding:AC.radius.padding},x:r[0],y:r[1]}])}function ch(e,t,n){lh(e),e.html(null);var a={canvas:OC.data.width*OC.drawing.scale,data:OC.data.width,svg:OC.svg.width},o=e.append("canvas");o.attr("width",a.canvas).attr("height",a.canvas);var d=o.node().getContext("2d");d.lineJoin="round",d.lineCap="round";var i=bT;zi(d,t,n,a,i);var r=e.append("svg").style("position","absolute").style("top","0px").style("left","0px").attr("viewBox","0,0,"+a.svg+","+a.svg);op(r,t),oh(r,t,a,i);var c=e.append("canvas").style("position","absolute").style("top","0px").style("left","0px").attr("width",a.canvas).attr("height",a.canvas);rp(c,t,n,a,i),t.on("to-mun-view.map",function(e){var n=OC.zoom.selectedMun,o=e.properties.centroid,d=o.map(function(e){return e*a.canvas/a.data}),i=.5*a.canvas/n,r=d.map(function(e){return i-e}),c=r.map(function(e){return e*n}),l=c[0],s=c[1],f=bT.translate(l,s).scale(n);t.call("zoomed",null,{mun:e,transform:f})}),t.on("to-brazil-view.map",function(){t.call("zoomed",null,{mun:null,transform:i})}),sh(e)}function lh(e){e.classed("is-loading",!0)}function sh(e){e.classed("is-loading",!1)}function fh(e,t){ph(e,t),e.on("to-brazil-view.nav",function(){ph(e,{data:t.data})}),e.on("to-mun-view.nav",function(n){ph(e,{data:t.data,mun:n})}),e.on("make-app-cocktail.nav",function(){Xr("#navbarMaps .navbar-item").classed("is-active",!1),Vr("#navbarMaps #nav-item-cocktail").classed("is-active",!0),Vr("#page-title").classed("cocktail",!0),Vr("#page-title").classed("limits",!1),Vr("#page-title").classed("substances",!1)}),e.on("make-app-limits.nav",function(){Xr("#navbarMaps .navbar-item").classed("is-active",!1),Vr("#navbarMaps #nav-item-limits").classed("is-active",!0),Vr("#page-title").classed("cocktail",!1),Vr("#page-title").classed("limits",!0),Vr("#page-title").classed("substances",!1)}),e.on("make-app-substances.nav",function(){Xr("#navbarMaps .navbar-item").classed("is-active",!1),Vr("#navbarMaps #nav-item-substances").classed("is-active",!0),Vr("#page-title").classed("cocktail",!1),Vr("#page-title").classed("limits",!1),Vr("#page-title").classed("substances",!0)})}function ph(e,t){Vr("#navbarMaps #nav-item-cocktail").on("click",function(){e.call("make-app-cocktail",null,t)}),Vr("#navbarMaps #nav-item-limits").on("click",function(){e.call("make-app-limits",null,t)}),Vr("#navbarMaps #nav-item-substances").on("click",function(){e.call("make-app-substances",null,t)})}function uh(e,t,n){mh(e);var a=window.fuzzball,o=function(){var e=Math.log10,t=e(812),a=e(12106920);return n.data.mun.features.map(function(n){return{mun:n,name:n.properties.deburredName,popScore:(e(n.properties.population)-t)*(100/(a-t))}})}(),d={cutoff:50,limit:5,scorer:function(e,t,n){var o=a.ratio(e,t.name,n),d=t.popScore,i=2/(1+e.length);return(1-i)*o+i*d},unsorted:!1};Vr("#search-input").on("focus",function(){t.call("search-results-updated",null,a.extract("",o,d)),hh()}),Vr("#search-modal .modal-background").on("click",function(){bh()}),Vr("#search-modal .modal-close").on("click",function(){bh()}),t.on("search-selected.search",function(){bh()}),Vr("#search-modal-input").on("keydown",function(){if("ArrowDown"===event.code||"NumpadEnter"===event.code||"Enter"===event.code){event.preventDefault();var e=Xr("#search #results li a");e.empty()||e.node().focus()}else("Escape"===event.code||"Tab"===event.code&&event.shiftKey)&&(yh(),bh())}),Vr("#search-modal-input").on("input",function(e,n,i){var r=i[0].value;t.call("search-results-updated",null,a.extract(Mt(r),o,d))}),t.on("search-results-updated.search",function(e){_h(e,t)}),xh(e)}function hh(){Vr("#search-input").attr("tabindex",-1),Vr("#search-modal").classed("is-active",!0),Vr("#search-modal-input").node().focus()}function bh(){window.setTimeout(function(){Vr("#search-input").attr("tabindex",0)},100),Vr("#search-modal").classed("is-active",!1),Vr("#search-input").property("value",""),gh()}function gh(){Vr("#search-modal-input").property("value",""),yh()}function yh(){Vr("#search #results").html("")}function _h(e,t){var n=Vr("#search #results").html("").selectAll("li").data(e.slice(0,5)).enter().append("li").append("a").attr("tabindex",0);n.text(function(e){return e[0].mun.properties.name}),n.append("p").text(function(e){return e[0].mun.properties.fuName}),n.on("click",function(e){yh(),t.call("search-selected",null,e[0].mun)}),n.on("keydown",function(e,n,a){"ArrowDown"===event.code?(event.preventDefault(),n<a.length-1&&a[n+1].focus()):"ArrowUp"===event.code?(event.preventDefault(),0<n?a[n-1].focus():Vr("#search-modal-input").node().focus()):"NumpadEnter"===event.code||"Enter"===event.code?(yh(),t.call("search-selected",null,e[0].mun)):("Escape"===event.code||"Tab"===event.code&&n===a.length-1)&&(yh(),bh())})}function mh(e){e.classed("is-loading",!0)}function xh(e){e.classed("is-loading",!1)}function vh(e){Vr("section#app").classed("cocktail",!1).classed("limits",!1).classed("substances",!1).classed(e,!0)}var Dh={value:function(){}};a.prototype=e.prototype={constructor:a,on:function(e,a){var c=this._,l=o(e+"",c),s=-1,f=l.length,n;if(2>arguments.length){for(;++s<f;)if((n=(e=l[s]).type)&&(n=d(c[n],e.name)))return n;return}if(null!=a&&"function"!=typeof a)throw new Error("invalid callback: "+a);for(;++s<f;)if(n=(e=l[s]).type)c[n]=r(c[n],e.name,a);else if(null==a)for(n in c)c[n]=r(c[n],e.name,null);return this},copy:function(){var e={},n=this._;for(var o in n)e[o]=n[o].slice();return new a(e)},call:function(e,a){if(0<(r=arguments.length-2))for(var o=Array(r),d=0,r,c;d<r;++d)o[d]=arguments[d+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],d=0,r=c.length;d<r;++d)c[d].value.apply(a,o)},apply:function(e,a,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var d=this._[e],t=0,r=d.length;t<r;++t)d[t].value.apply(a,o)}};var Wh={},Lh={},Yh=b(","),Fh=Yh.parse,qh=Yh.format,Hh=b("\t"),Vh=function(e){return function(t,n,a){return 2===arguments.length&&"function"==typeof n&&(a=n,n=void 0),_(t,n).then(function(t){return e(t,a)})}}(Fh),Xh="object"==typeof global&&global&&global.Object===Object&&global,Gh="object"==typeof self&&self&&self.Object===Object&&self,Zh=Xh||Gh||Function("return this")(),$h=Zh.Symbol,Kh=Object.prototype,Jh=Kh.hasOwnProperty,Qh=Kh.toString,eb=$h?$h.toStringTag:void 0,tb=Object.prototype,nb=tb.toString,ab=$h?$h.toStringTag:void 0,ob=0/0,db=Array.isArray,ib=1/0,rb=$h?$h.prototype:void 0,cb=rb?rb.toString:void 0,lb=M(function(e,t){return e+t},0),sb=0/0,fb=/^\s+|\s+$/g,pb=/^[-+]0x[0-9a-f]+$/i,ub=/^0b[01]+$/i,hb=/^0o[0-7]+$/i,bb=parseInt,gb=1/0,yb=Zh["__core-js_shared__"],_b=function(){var e=/[^.]+$/.exec(yb&&yb.keys&&yb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mb=Function.prototype,xb=mb.toString,vb=/[\\^$.*+?()[\]{}|]/g,kb=/^\[object .+?Constructor\]$/,wb=Function.prototype,jb=Object.prototype,Sb=wb.toString,Tb=jb.hasOwnProperty,Cb=RegExp("^"+Sb.call(Tb).replace(vb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ab=V(Zh,"WeakMap"),Eb=Ab&&new Ab,Ob=Eb?function(e,t){return Eb.set(e,t),e}:W,Nb=Object.create,Pb=function(){function e(){}return function(t){if(!I(t))return{};if(Nb)return Nb(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Mb=Uh,Ib=Uh;te.prototype=Pb(ee.prototype),te.prototype.constructor=te;var Rb=Eb?function(e){return Eb.get(e)}:ne,Ub={},zb=Object.prototype,Bb=zb.hasOwnProperty;oe.prototype=Pb(ee.prototype),oe.prototype.constructor=oe;var Db=Object.prototype,Wb=Db.hasOwnProperty;ce.prototype=ee.prototype,ce.prototype.constructor=ce;var Lb=Date.now,Yb=se(Ob),Fb=/\{\n\/\* \[wrapped with (.+)\] \*/,qb=/,? & /,Hb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vb=function(){try{var e=V(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Xb=Vb?function(e,t){return Vb(e,"toString",{configurable:!0,enumerable:!1,value:ue(t),writable:!0})}:W,Gb=se(Xb),Zb=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$b=/^(?:0|[1-9]\d*)$/,Kb=Nh,Jb=Nh,Qb=Uh,eg=Object.prototype,tg=eg.hasOwnProperty,ng=Uh,ag=Object.prototype,og=Object.prototype,dg=og.hasOwnProperty,ig=og.propertyIsEnumerable,rg=Ye(function(){return arguments}())?Ye:function(e){return S(e)&&dg.call(e,"callee")&&!ig.call(e,"callee")},cg="object"==typeof exports&&exports&&!exports.nodeType&&exports,lg=cg&&"object"==typeof module&&module&&!module.nodeType&&module,sg=lg&&lg.exports===cg,fg=sg?Zh.Buffer:void 0,pg=fg?fg.isBuffer:void 0,ug=pg||Fe,hg={};hg["[object Float32Array]"]=hg["[object Float64Array]"]=hg["[object Int8Array]"]=hg["[object Int16Array]"]=hg["[object Int32Array]"]=hg["[object Uint8Array]"]=hg["[object Uint8ClampedArray]"]=hg["[object Uint16Array]"]=hg["[object Uint32Array]"]=!0,hg["[object Arguments]"]=hg["[object Array]"]=hg["[object ArrayBuffer]"]=hg["[object Boolean]"]=hg["[object DataView]"]=hg["[object Date]"]=hg["[object Error]"]=hg["[object Function]"]=hg["[object Map]"]=hg["[object Number]"]=hg["[object Object]"]=hg["[object RegExp]"]=hg["[object Set]"]=hg["[object String]"]=hg["[object WeakMap]"]=!1;var bg="object"==typeof exports&&exports&&!exports.nodeType&&exports,gg=bg&&"object"==typeof module&&module&&!module.nodeType&&module,yg=gg&&gg.exports===bg,_g=yg&&Xh.process,mg=function(){try{var e=gg&&gg.require&&gg.require("util").types;return e?e:_g&&_g.binding&&_g.binding("util")}catch(t){}}(),xg=mg&&mg.isTypedArray,vg=xg?qe(xg):function(e){return S(e)&&Ue(e.length)&&!!hg[j(e)]},kg=Object.prototype,wg=kg.hasOwnProperty,jg=Ve(Object.keys,Object),Sg=Object.prototype,Tg=Sg.hasOwnProperty,Cg=Object.prototype,Ag=Cg.hasOwnProperty,Eg=De(function(e,a){if(We(a)||ze(a))return void n(a,Ge(a),e);for(var o in a)Ag.call(a,o)&&t(e,o,a[o])}),Og=Object.prototype,Ng=Og.hasOwnProperty,Pg=De(function(e,t){n(t,Ke(t),e)}),Mg=De(function(e,t,a,o){n(t,Ke(t),e,o)}),Ig=De(function(e,t,a,o){n(t,Ge(t),e,o)}),Rg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ug=/^\w*$/,zg=V(Object,"create"),Bg=Object.prototype,Dg=Bg.hasOwnProperty,Wg=Object.prototype,Lg=Wg.hasOwnProperty;Qe.prototype.clear=function(){this.__data__=zg?zg(null):{},this.size=0},Qe.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Qe.prototype.get=function(e){var t=this.__data__;if(zg){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Dg.call(t,e)?t[e]:void 0},Qe.prototype.has=function(e){var t=this.__data__;return zg?t[e]!==void 0:Lg.call(t,e)},Qe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zg&&void 0===t?"__lodash_hash_undefined__":t,this};var Yg=Array.prototype,Fg=Yg.splice;tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype["delete"]=function(e){var t=this.__data__,n=et(t,e);if(0>n)return!1;var a=t.length-1;return n==a?t.pop():Fg.call(t,n,1),--this.size,!0},tt.prototype.get=function(e){var t=this.__data__,n=et(t,e);return 0>n?void 0:t[n][1]},tt.prototype.has=function(e){return-1<et(this.__data__,e)},tt.prototype.set=function(e,t){var n=this.__data__,a=et(n,e);return 0>a?(++this.size,n.push([e,t])):n[a][1]=t,this};var qg=V(Zh,"Map");dt.prototype.clear=function(){this.size=0,this.__data__={hash:new Qe,map:new(qg||tt),string:new Qe}},dt.prototype["delete"]=function(e){var t=ot(this,e)["delete"](e);return this.size-=t?1:0,t},dt.prototype.get=function(e){return ot(this,e).get(e)},dt.prototype.has=function(e){return ot(this,e).has(e)},dt.prototype.set=function(e,t){var n=ot(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this};it.Cache=dt;var Hg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vg=/\\(\\)?/g,Xg=function(e){var t=it(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Hg,function(e,n,a,o){t.push(a?o.replace(Vg,"$1"):n||e)}),t}),Gg=1/0,Zg=$h?$h.isConcatSpreadable:void 0,$g=mt(ut),at=Ve(Object.getPrototypeOf,Object),Kg=Function.prototype,Jg=Object.prototype,Qg=Kg.toString,ey=Jg.hasOwnProperty,ty=Qg.call(Object),ny=Re(function(e,t){try{return Z(e,void 0,t)}catch(t){return vt(t)?t:new Error(t)}}),ay=Re(function(e,t,n){var a=1;if(n.length){var o=Te(n,we(ay));a|=32}return Ne(e,a,t,n,o)});ay.placeholder={};var oy=mt(function(e,t){return he(t,function(t){t=st(t),Me(e,t,ay(e[t],e))}),e}),dy=Re(function(e,t,n){var a=1|2;if(n.length){var o=Te(n,we(dy));a|=32}return Ne(t,a,e,n,o)});dy.placeholder={};var iy=RegExp("["+"\\u200d"+"\\ud800-\\udfff"+"\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff"+"\\ufe0e\\ufe0f"+"]"),ry="\\ud800-\\udfff",cy="["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]",ly="\\ud83c[\\udffb-\\udfff]",sy="[^"+ry+"]",fy="(?:\\ud83c[\\udde6-\\uddff]){2}",py="[\\ud800-\\udbff][\\udc00-\\udfff]",uy="(?:"+cy+"|"+ly+")"+"?",hy="["+"\\ufe0e\\ufe0f"+"]?",by="(?:"+"\\u200d"+"(?:"+[sy,fy,py].join("|")+")"+hy+uy+")*",gy="(?:"+[sy+cy+"?",cy,fy,py,"["+ry+"]"].join("|")+")",yy=RegExp(ly+"(?="+ly+")|"+gy+(hy+uy+by),"g"),_y=Et("toUpperCase"),my=Pt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),xy=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vy=RegExp("["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]","g"),ky=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jy="\\ud800-\\udfff",Sy="\\u2700-\\u27bf",Ty="a-z\\xdf-\\xf6\\xf8-\\xff",Cy="A-Z\\xc0-\\xd6\\xd8-\\xde",Ay="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ey="['\u2019]",Oy="["+Ay+"]",Ny="\\d+",Py="["+Ty+"]",My="[^"+jy+Ay+Ny+Sy+Ty+Cy+"]",Iy="(?:\\ud83c[\\udde6-\\uddff]){2}",Ry="[\\ud800-\\udbff][\\udc00-\\udfff]",Uy="["+Cy+"]",zy="(?:"+Py+"|"+My+")",By="(?:"+Ey+"(?:d|ll|m|re|s|t|ve))?",Dy="(?:"+Ey+"(?:D|LL|M|RE|S|T|VE))?",Wy="(?:"+("["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]")+"|"+"\\ud83c[\\udffb-\\udfff]"+")"+"?",Ly="["+"\\ufe0e\\ufe0f"+"]?",Yy="(?:"+"\\u200d"+"(?:"+["[^"+jy+"]",Iy,Ry].join("|")+")"+Ly+Wy+")*",Fy="(?:"+["["+Sy+"]",Iy,Ry].join("|")+")"+(Ly+Wy+Yy),qy=RegExp([Uy+"?"+Py+"+"+By+"(?="+[Oy,Uy,"$"].join("|")+")","(?:"+Uy+"|"+My+")"+"+"+Dy+"(?="+[Oy,Uy+zy,"$"].join("|")+")",Uy+"?"+zy+"+"+By,Uy+"+"+Dy,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ny,Fy].join("|"),"g"),Hy=RegExp("['\u2019]","g"),Vy=Bt(function(e,t,n){return t=t.toLowerCase(),e+(n?Ot(t):t)}),Xy=Nh,Gy=Dt("ceil");Yt.prototype.clear=function(){this.__data__=new tt,this.size=0},Yt.prototype["delete"]=function(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n},Yt.prototype.get=function(e){return this.__data__.get(e)},Yt.prototype.has=function(e){return this.__data__.has(e)},Yt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof tt){var a=n.__data__;if(!qg||199>a.length)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new dt(a)}return n.set(e,t),this.size=n.size,this};var Zy="object"==typeof exports&&exports&&!exports.nodeType&&exports,$y=Zy&&"object"==typeof module&&module&&!module.nodeType&&module,Ky=$y&&$y.exports===Zy,Jy=Ky?Zh.Buffer:void 0,Qy=Jy?Jy.allocUnsafe:void 0,e_=Object.prototype,t_=e_.propertyIsEnumerable,n_=Object.getOwnPropertySymbols,a_=n_?function(e){return null==e?[]:(e=Object(e),Vt(n_(e),function(t){return t_.call(e,t)}))}:Xt,o_=Object.getOwnPropertySymbols,d_=o_?function(e){for(var t=[];e;)ht(t,a_(e)),e=at(e);return t}:Xt,i_=V(Zh,"DataView"),r_=V(Zh,"Promise"),c_=V(Zh,"Set"),l_="[object Map]",s_="[object Promise]",f_="[object Set]",p_="[object WeakMap]",u_="[object DataView]",h_=F(i_),b_=F(qg),g_=F(r_),y_=F(c_),__=F(Ab),m_=j;(i_&&m_(new i_(new ArrayBuffer(1)))!=u_||qg&&m_(new qg)!=l_||r_&&m_(r_.resolve())!=s_||c_&&m_(new c_)!=f_||Ab&&m_(new Ab)!=p_)&&(m_=function(e){var t=j(e),n=t=="[object Object]"?e.constructor:void 0,a=n?F(n):"";if(a)switch(a){case h_:return u_;case b_:return l_;case g_:return s_;case y_:return f_;case __:return p_;}return t});var x_=m_,v_=Object.prototype,k_=v_.hasOwnProperty,w_=Zh.Uint8Array,j_=/\w*$/,S_=$h?$h.prototype:void 0,T_=S_?S_.valueOf:void 0,C_=mg&&mg.isMap,A_=C_?qe(C_):function(e){return S(e)&&x_(e)=="[object Map]"},E_=mg&&mg.isSet,O_=E_?qe(E_):function(e){return S(e)&&x_(e)=="[object Set]"},N_={};N_["[object Arguments]"]=N_["[object Array]"]=N_["[object ArrayBuffer]"]=N_["[object DataView]"]=N_["[object Boolean]"]=N_["[object Date]"]=N_["[object Float32Array]"]=N_["[object Float64Array]"]=N_["[object Int8Array]"]=N_["[object Int16Array]"]=N_["[object Int32Array]"]=N_["[object Map]"]=N_["[object Number]"]=N_["[object Object]"]=N_["[object RegExp]"]=N_["[object Set]"]=N_["[object String]"]=N_["[object Symbol]"]=N_["[object Uint8Array]"]=N_["[object Uint8ClampedArray]"]=N_["[object Uint16Array]"]=N_["[object Uint32Array]"]=!0,N_["[object Error]"]=N_["[object Function]"]=N_["[object WeakMap]"]=!1;ln.prototype.add=ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ln.prototype.has=function(e){return this.__data__.has(e)};var P_=$h?$h.prototype:void 0,M_=P_?P_.valueOf:void 0,I_=Object.prototype,R_=I_.hasOwnProperty,U_=Object.prototype,z_=U_.hasOwnProperty,B_=Rn(),D_=zn(Un),W_=Object.prototype,L_=W_.hasOwnProperty,Y_=Dn(function(e,t,n){L_.call(e,n)?++e[n]:Me(e,n,1)});Wn.placeholder={};Ln.placeholder={};var F_=function(){return Zh.Date.now()},q_=Uh,H_=Nh,V_=Object.prototype,X_=V_.hasOwnProperty,G_=Re(function(e,t){e=Object(e);var n=-1,a=t.length,o=2<a?t[2]:void 0;for(o&&Be(t[0],t[1],o)&&(a=1);++n<a;)for(var d=t[n],i=Ke(d),r=-1,c=i.length;++r<c;){var l=i[r],s=e[l];(void 0===s||Ie(s,V_[l])&&!X_.call(e,l))&&(e[l]=d[l])}return e}),Z_=De(function(e,t,n,a){$n(e,t,n,a)}),$_=Re(function(e){return e.push(void 0,Kn),Z(Z_,void 0,e)}),K_=Re(function(e,t){return Jn(e,1,t)}),J_=Re(function(e,t,n){return Jn(e,R(t)||0,n)}),Q_=Re(function(e,t){return qn(e)?ea(e,yt(t,1,qn,!0)):[]}),em=Re(function(e,t){var n=ta(t);return qn(n)&&(n=void 0),qn(e)?ea(e,yt(t,1,qn,!0),Nn(n,2)):[]}),tm=Re(function(e,t){var n=ta(t);return qn(n)&&(n=void 0),qn(e)?ea(e,yt(t,1,qn,!0),void 0,n):[]}),nm=M(function(e,t){return e/t},1),am=Rn(!0),om=zn(ia,!0),dm=sa(Ge),im=sa(Ke),rm=Pt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),cm=/[&<>"']/g,lm=RegExp(cm.source),sm=/[\\^$.*+?()[\]{}|]/g,fm=RegExp(sm.source),pm=Uh,um=ya(_a),hm=Uh,bm=Nh,gm=ya(xa),ym=Dt("floor"),_m=ja(),mm=ja(!0),xm=Object.prototype,vm=xm.hasOwnProperty,km=Dn(function(e,t,n){vm.call(e,n)?e[n].push(t):Me(e,n,[t])}),wm=Ca(Ta),gt=Ca(function(e,t){return e>=t}),jm=Object.prototype,Sm=jm.hasOwnProperty,Tm=Uh,Cm=Nh,Am=Nh,Em=Re(function(e){var t=N(e,Ia);return t.length&&t[0]===e[0]?Ma(t):[]}),Om=Re(function(e){var t=ta(e),n=N(e,Ia);return t===ta(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?Ma(n,Nn(t,2)):[]}),Nm=Re(function(e){var t=ta(e),n=N(e,Ia);return t="function"==typeof t?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?Ma(n,void 0,t):[]}),Pm=Object.prototype,Mm=Pm.toString,Im=Ua(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Mm.call(t)),e[t]=n},ue(W)),Rm=Object.prototype,Um=Rm.hasOwnProperty,zm=Rm.toString,Bm=Ua(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=zm.call(t)),Um.call(e,t)?e[t].push(n):e[t]=[n]},Nn),Dm=Re(Ba),Wm=Re(function(e,t,n){var a=-1,o=ze(e)?Array(e.length):[];return D_(e,function(e){o[++a]="function"==typeof t?Z(t,e,n):Ba(e,t,n)}),o}),Lm=mg&&mg.isArrayBuffer,Ym=Lm?qe(Lm):function(e){return S(e)&&j(e)=="[object ArrayBuffer]"},Fm=mg&&mg.isDate,qm=Fm?qe(Fm):function(e){return S(e)&&j(e)=="[object Date]"},Hm=Object.prototype,Vm=Hm.hasOwnProperty,Xm=Zh.isFinite,Gm=yb?L:Fe,Zm=mg&&mg.isRegExp,$m=Zm?qe(Zm):function(e){return S(e)&&j(e)=="[object RegExp]"},Km=Array.prototype,Jm=Km.join,Qm=Bt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ex=Dn(function(e,t,n){Me(e,n,t)}),tx=Bt(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),nx=Et("toLowerCase"),ax=Ca(Ya),lt=Ca(function(e,t){return e<=t}),ox=0/0,dx=De(function(e,t,n){$n(e,t,n)}),ix=Re(function(e,t){return function(n){return Ba(n,e,t)}}),rx=Re(function(e,t){return function(n){return Ba(e,n,t)}}),cx=M(function(e,t){return e*t},1),lx=$h?$h.iterator:void 0,sx=mt(function(e,t){var a={};if(null==e)return a;var o=!1;t=N(t,function(t){return t=ct(t,e),o||(o=1<t.length),t}),n(e,Jt(e),a),o&&(a=cn(a,1|2|4,Ja));for(var d=t.length;d--;)Ka(a,t[d]);return a}),fx=ro(N),px=Re(function(e,t){t=1==t.length&&db(t[0])?N(t[0],qe(Nn)):N(yt(t,1),qe(Nn));var n=t.length;return Re(function(a){for(var o=-1,d=Nh(a.length,n);++o<d;)a[o]=t[o].call(this,a[o]);return Z(e,this,a)})}),ux=ro(pa),hx=ro(sn),bx=zh,gx=An("length"),yx="\\ud800-\\udfff",_x="["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]",mx="\\ud83c[\\udffb-\\udfff]",xx="[^"+yx+"]",vx="(?:\\ud83c[\\udde6-\\uddff]){2}",kx="[\\ud800-\\udbff][\\udc00-\\udfff]",wx="(?:"+_x+"|"+mx+")"+"?",jx="["+"\\ufe0e\\ufe0f"+"]?",Sx="(?:"+"\\u200d"+"(?:"+[xx,vx,kx].join("|")+")"+jx+wx+")*",Tx="(?:"+[xx+_x+"?",_x,vx,kx,"["+yx+"]"].join("|")+")",Cx=RegExp(mx+"(?="+mx+")|"+Tx+(jx+wx+Sx),"g"),Ax=Bh,Ex=/^\s+/,Ox=Zh.parseInt,Nx=Re(function(e,t){var n=Te(t,we(Nx));return Ne(e,32,void 0,t,n)});Nx.placeholder={};var Px=Re(function(e,t){var n=Te(t,we(Px));return Ne(e,64,void 0,t,n)});Px.placeholder={};var Mx=Dn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ix=mt(function(e,t){return null==e?{}:po(e,t)}),Rx=Array.prototype,Ux=Rx.splice,zx=Re(bo),Bx=Array.prototype,Dx=Bx.splice,Wx=mt(function(e,t){var n=null==e?0:e.length,a=ut(e,t);return go(e,N(t,function(e){return je(e,n)?+e:e}).sort(ao)),a}),Lx=zh,Yx=Math.random,Fx=parseFloat,qx=Math.random,Hx=Bh,Vx=Uh,Xx=mo(),Gx=mo(!0),Zx=mt(function(e,t){return Ne(e,256,void 0,void 0,void 0,t)}),$x=Array.prototype,Kx=$x.reverse,Jx=Dt("round"),Qx=Bt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),ev=Re(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Be(e,t[0],t[1])?t=[]:2<n&&Be(t[0],t[1],t[2])&&(t=[t[0]]),io(e,yt(t,1),[])}),tv=zh,nv=Nh,av=Bt(function(e,t,n){return e+(n?" ":"")+_y(t)}),ov=M(function(e,t){return e-t},0),dv=Object.prototype,iv=dv.hasOwnProperty,rv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cv=/<%=([\s\S]+?)%>/g,lv=/<%-([\s\S]+?)%>/g,sv=/<%([\s\S]+?)%>/g,fv={escape:lv,evaluate:sv,interpolate:cv,variable:"",imports:{_:{escape:fa}}},pv=/\b__p \+= '';/g,uv=/\b(__p \+=) '' \+/g,hv=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bv=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gv=/($^)/,yv=/['\n\r\u2028\u2029\\]/g,_v=/^\s+|\s+$/g,mv=/\s+$/,xv=/^\s+/,vv=/\w*$/,kv=Pt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"\"","&#39;":"'"}),wv=/&(?:amp|lt|gt|quot|#39);/g,jv=RegExp(wv.source),Sv=c_&&1/hn(new c_([,-0]))[1]==1/0?function(e){return new c_(e)}:ne,Tv=Re(function(e){return qo(yt(e,1,qn,!0))}),Cv=Re(function(e){var t=ta(e);return qn(t)&&(t=void 0),qo(yt(e,1,qn,!0),Nn(t,2))}),Av=Re(function(e){var t=ta(e);return t="function"==typeof t?t:void 0,qo(yt(e,1,qn,!0),void 0,t)}),Ev=0,Ov=Uh,Nv=Bt(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Pv=Re(function(e,t){return qn(e)?ea(e,t):[]}),Mv=mt(function(e){var t=e.length,n=t?e[0]:0,a=this.__wrapped__,o=function(t){return ut(t,e)};return 1<t||this.__actions__.length||!(a instanceof te)||!je(n)?this.thru(o):(a=a.slice(n,+n+(t?1:0)),a.__actions__.push({func:Bo,args:[o],thisArg:void 0}),new oe(a,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e}))}),Iv=Re(function(e){return Zo(Vt(e,qn))}),Rv=Re(function(e){var t=ta(e);return qn(t)&&(t=void 0),Zo(Vt(e,qn),Nn(t,2))}),Uv=Re(function(e){var t=ta(e);return t="function"==typeof t?t:void 0,Zo(Vt(e,qn),void 0,t)}),zv=Re(Vo),Bv=Re(function(e){var t=e.length,n=1<t?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Xo(e,n)}),Dv={chunk:function(e,t,n){t=(n?Be(e,t,n):void 0===t)?1:Uh(z(t),0);var a=null==e?0:e.length;if(!a||1>t)return[];for(var o=0,d=0,i=Array(Bh(a/t));o<a;)i[d++]=wt(e,o,o+=t);return i},compact:function(e){for(var t=-1,n=null==e?0:e.length,a=0,o=[];++t<n;){var d=e[t];d&&(o[a++]=d)}return o},concat:function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return ht(db(n)?de(n):[n],yt(t,1))},difference:Q_,differenceBy:em,differenceWith:tm,drop:function(e,t,a){var o=null==e?0:e.length;return o?(t=a||void 0===t?1:z(t),wt(e,0>t?0:t,o)):[]},dropRight:function(e,t,a){var o=null==e?0:e.length;return o?(t=a||void 0===t?1:z(t),t=o-t,wt(e,0,0>t?0:t)):[]},dropRightWhile:function(e,t){return e&&e.length?na(e,Nn(t,3),!0,!0):[]},dropWhile:function(e,t){return e&&e.length?na(e,Nn(t,3),!0):[]},fill:function(e,t,n,a){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Be(e,t,n)&&(n=0,a=o),ba(e,t,n,a)):[]},findIndex:_a,findLastIndex:xa,first:va,flatten:_t,flattenDeep:function(e){var t=null==e?0:e.length;return t?yt(e,1/0):[]},flattenDepth:function(e,t){var n=null==e?0:e.length;return n?(t=void 0===t?1:z(t),yt(e,t)):[]},fromPairs:function(e){for(var t=-1,n=null==e?0:e.length,a={};++t<n;){var o=e[t];a[o[0]]=o[1]}return a},head:va,indexOf:function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var o=null==n?0:z(n);return 0>o&&(o=Uh(a+o,0)),_e(e,t,o)},initial:function(e){var t=null==e?0:e.length;return t?wt(e,0,-1):[]},intersection:Em,intersectionBy:Om,intersectionWith:Nm,join:function(e,t){return null==e?"":Jm.call(e,t)},last:ta,lastIndexOf:function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var o=a;return void 0!==n&&(o=z(n),o=0>o?Uh(a+o,0):Nh(o,a-1)),t===t?La(e,t,o):be(e,ge,o,!0)},nth:function(e,t){return e&&e.length?$a(e,z(t)):void 0},pull:zx,pullAll:bo,pullAllBy:function(e,t,n){return e&&e.length&&t&&t.length?ho(e,t,Nn(n,2)):e},pullAllWith:function(e,t,n){return e&&e.length&&t&&t.length?ho(e,t,void 0,n):e},pullAt:Wx,remove:function(e,t){var n=[];if(!(e&&e.length))return n;var a=-1,o=[],d=e.length;for(t=Nn(t,3);++a<d;){var i=e[a];t(i,a,e)&&(n.push(i),o.push(a))}return go(e,o),n},reverse:ko,slice:function(e,t,n){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&Be(e,t,n)?(t=0,n=a):(t=null==t?0:z(t),n=void 0===n?a:z(n)),wt(e,t,n)):[]},sortedIndex:function(e,t){return Po(e,t)},sortedIndexBy:function(e,t,n){return No(e,t,Nn(n,2))},sortedIndexOf:function(e,t){var n=null==e?0:e.length;if(n){var a=Po(e,t);if(a<n&&Ie(e[a],t))return a}return-1},sortedLastIndex:function(e,t){return Po(e,t,!0)},sortedLastIndexBy:function(e,t,n){return No(e,t,Nn(n,2),!0)},sortedLastIndexOf:function(e,t){var n=null==e?0:e.length;if(n){var a=Po(e,t,!0)-1;if(Ie(e[a],t))return a}return-1},sortedUniq:function(e){return e&&e.length?Mo(e):[]},sortedUniqBy:function(e,t){return e&&e.length?Mo(e,Nn(t,2)):[]},tail:function(e){var t=null==e?0:e.length;return t?wt(e,1,t):[]},take:function(e,t,a){return e&&e.length?(t=a||void 0===t?1:z(t),wt(e,0,0>t?0:t)):[]},takeRight:function(e,t,a){var o=null==e?0:e.length;return o?(t=a||void 0===t?1:z(t),t=o-t,wt(e,0>t?0:t,o)):[]},takeRightWhile:function(e,t){return e&&e.length?na(e,Nn(t,3),!1,!0):[]},takeWhile:function(e,t){return e&&e.length?na(e,Nn(t,3)):[]},union:Tv,unionBy:Cv,unionWith:Av,uniq:function(e){return e&&e.length?qo(e):[]},uniqBy:function(e,t){return e&&e.length?qo(e,Nn(t,2)):[]},uniqWith:function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?qo(e,void 0,t):[]},unzip:Vo,unzipWith:Xo,without:Pv,xor:Iv,xorBy:Rv,xorWith:Uv,zip:zv,zipObject:function(e,n){return $o(e||[],n||[],t)},zipObjectDeep:function(e,t){return $o(e||[],t||[],Qa)},zipWith:Bv},Wv={countBy:Y_,each:oa,eachRight:ra,every:function(e,t,n){var a=db(e)?pa:ua;return n&&Be(e,t,n)&&(t=void 0),a(e,Nn(t,3))},filter:function(e,t){var n=db(e)?Vt:ga;return n(e,Nn(t,3))},find:um,findLast:gm,flatMap:function(e,t){return yt(wa(e,t),1)},flatMapDeep:function(e,t){return yt(wa(e,t),1/0)},flatMapDepth:function(e,t,n){return n=void 0===n?1:z(n),yt(wa(e,t),n)},forEach:oa,forEachRight:ra,groupBy:km,includes:function(e,t,n,a){e=ze(e)?e:Pa(e),n=n&&!a?z(n):0;var o=e.length;return 0>n&&(n=Uh(o+n,0)),Oa(e)?n<=o&&-1<e.indexOf(t,n):!!o&&-1<_e(e,t,n)},invokeMap:Wm,keyBy:ex,map:wa,orderBy:function(e,t,n,a){return null==e?[]:(db(t)||(t=null==t?[]:[t]),n=a?void 0:n,db(n)||(n=null==n?[]:[n]),io(e,t,n))},partition:Mx,reduce:function(e,t,n){var a=db(e)?Nt:xo,o=3>arguments.length;return a(e,Nn(t,4),n,o,D_)},reduceRight:function(e,t,n){var a=db(e)?vo:xo,o=3>arguments.length;return a(e,Nn(t,4),n,o,om)},reject:function(e,t){var n=db(e)?Vt:ga;return n(e,Xa(Nn(t,3)))},sample:function(e){var t=db(e)?wo:jo;return t(e)},sampleSize:function(e,t,a){t=(a?Be(e,t,a):void 0===t)?1:z(t);var o=db(e)?To:Co;return o(e,t)},shuffle:function(e){var t=db(e)?Ao:Eo;return t(e)},size:function(e){if(null==e)return 0;if(ze(e))return Oa(e)?so(e):e.length;var t=x_(e);return"[object Map]"==t||"[object Set]"==t?e.size:Xe(e).length},some:function(e,t,n){var a=db(e)?sn:Oo;return n&&Be(e,t,n)&&(t=void 0),a(e,Nn(t,3))},sortBy:ev},Lv={after:function(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=z(e),function(){if(1>--e)return t.apply(this,arguments)}},ary:Pe,before:kt,bind:ay,bindKey:dy,curry:Wn,curryRight:Ln,debounce:Yn,defer:K_,delay:J_,flip:function(e){return Ne(e,512)},memoize:it,negate:Xa,once:function(e){return kt(2,e)},overArgs:px,partial:Nx,partialRight:Px,rearg:Zx,rest:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=void 0===t?t:z(t),Re(e,t)},spread:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=null==t?0:Uh(z(t),0),Re(function(n){var a=n[t],o=jt(n,0,t);return a&&ht(o,a),Z(e,this,o)})},throttle:zo,unary:function(e){return Pe(e,1)},wrap:function(e,t){return Nx(aa(t),e)}},Yv={castArray:function(){if(!arguments.length)return[];var e=arguments[0];return db(e)?e:[e]},clone:function(e){return cn(e,4)},cloneDeep:function(e){return cn(e,5)},cloneDeepWith:function(e,t){return t="function"==typeof t?t:void 0,cn(e,5,t)},cloneWith:function(e,t){return t="function"==typeof t?t:void 0,cn(e,4,t)},conformsTo:function(e,t){return null==t||Pn(e,t,Ge(t))},eq:Ie,gt:wm,gte:gt,isArguments:rg,isArray:db,isArrayBuffer:Ym,isArrayLike:ze,isArrayLikeObject:qn,isBoolean:function(e){return!0===e||!1===e||S(e)&&j(e)=="[object Boolean]"},isBuffer:ug,isDate:qm,isElement:function(e){return S(e)&&1===e.nodeType&&!xt(e)},isEmpty:function(e){if(null==e)return!0;if(ze(e)&&(db(e)||"string"==typeof e||"function"==typeof e.splice||ug(e)||vg(e)||rg(e)))return!e.length;var t=x_(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(We(e))return!Xe(e).length;for(var n in e)if(Vm.call(e,n))return!1;return!0},isEqual:function(e,t){return _n(e,t)},isEqualWith:function(e,t,n){n="function"==typeof n?n:void 0;var a=n?n(e,t):void 0;return a===void 0?_n(e,t,void 0,n):!!a},isError:vt,isFinite:function(e){return"number"==typeof e&&Xm(e)},isFunction:L,isInteger:Da,isLength:Ue,isMap:A_,isMatch:function(e,t){return e===t||mn(e,t,vn(t))},isMatchWith:function(e,t,n){return n="function"==typeof n?n:void 0,mn(e,t,vn(t),n)},isNaN:function(e){return Wa(e)&&e!=+e},isNative:function(e){if(Gm(e))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return q(e)},isNil:function(e){return null==e},isNull:function(e){return null===e},isNumber:Wa,isObject:I,isObjectLike:S,isPlainObject:xt,isRegExp:$m,isSafeInteger:function(e){return Da(e)&&e>=-9007199254740991&&e<=9007199254740991},isSet:O_,isString:Oa,isSymbol:T,isTypedArray:vg,isUndefined:function(e){return e===void 0},isWeakMap:function(e){return S(e)&&x_(e)=="[object WeakMap]"},isWeakSet:function(e){return S(e)&&j(e)=="[object WeakSet]"},lt:ax,lte:lt,toArray:Za,toFinite:U,toInteger:z,toLength:ha,toNumber:R,toPlainObject:Vn,toSafeInteger:function(e){return e?Lt(z(e),-9007199254740991,9007199254740991):0===e?e:0},toString:rt},Fv={add:lb,ceil:Gy,divide:nm,floor:ym,max:function(e){return e&&e.length?Fa(e,W,Ta):void 0},maxBy:function(e,t){return e&&e.length?Fa(e,Nn(t,2),Ta):void 0},mean:function(e){return Ha(e,W)},meanBy:function(e,t){return Ha(e,Nn(t,2))},min:function(e){return e&&e.length?Fa(e,W,Ya):void 0},minBy:function(e,t){return e&&e.length?Fa(e,Nn(t,2),Ya):void 0},multiply:cx,round:Jx,subtract:ov,sum:function(e){return e&&e.length?qa(e,W):0},sumBy:function(e,t){return e&&e.length?qa(e,Nn(t,2)):0}},qv={clamp:function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=R(n),n=n===n?n:0),void 0!==t&&(t=R(t),t=t===t?t:0),Lt(R(e),t,n)},inRange:function(e,t,n){return t=U(t),void 0===n?(n=t,t=0):n=U(n),e=R(e),Ea(e,t,n)},random:function(e,t,n){if(n&&"boolean"!=typeof n&&Be(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=U(e),void 0===t?(t=e,e=0):t=U(t)),e>t){var a=e;e=t,t=a}if(n||e%1||t%1){var o=qx();return Nh(e+o*(t-e+Fx("1e-"+((o+"").length-1))),t)}return yo(e,t)}},Hv={assign:Eg,assignIn:Pg,assignInWith:Mg,assignWith:Ig,at:$g,create:function(e,t){var n=Pb(e);return null==t?n:Ft(n,t)},defaults:G_,defaultsDeep:$_,entries:dm,entriesIn:im,extend:Pg,extendWith:Mg,findKey:function(e,t){return ma(e,Nn(t,3),Un)},findLastKey:function(e,t){return ma(e,Nn(t,3),ia)},forIn:function(e,t){return null==e?e:B_(e,aa(t),Ke)},forInRight:function(e,t){return null==e?e:am(e,aa(t),Ke)},forOwn:function(e,t){return e&&Un(e,aa(t))},forOwnRight:function(e,t){return e&&ia(e,aa(t))},functions:function(e){return null==e?[]:Sa(e,Ge(e))},functionsIn:function(e){return null==e?[]:Sa(e,Ke(e))},get:pt,has:function(e,t){return null!=e&&Sn(e,t,Aa)},hasIn:Tn,invert:Im,invertBy:Bm,invoke:Dm,keys:Ge,keysIn:Ke,mapKeys:function(e,t){var n={};return t=Nn(t,3),Un(e,function(e,a,o){Me(n,t(e,a,o),e)}),n},mapValues:function(e,t){var n={};return t=Nn(t,3),Un(e,function(e,a,o){Me(n,a,t(e,a,o))}),n},merge:dx,mergeWith:Z_,omit:sx,omitBy:function(e,t){return to(e,Xa(Nn(t)))},pick:Ix,pickBy:to,result:function(e,t,n){t=ct(t,e);var a=-1,o=t.length;for(o||(o=1,e=void 0);++a<o;){var d=null==e?void 0:e[st(t[a])];d===void 0&&(a=o,d=n),e=L(d)?d.call(e):d}return e},set:function(e,t,n){return null==e?e:Qa(e,t,n)},setWith:function(e,t,n,a){return a="function"==typeof a?a:void 0,null==e?e:Qa(e,t,n,a)},toPairs:dm,toPairsIn:im,transform:function(e,t,n){var a=db(e),o=a||ug(e)||vg(e);if(t=Nn(t,4),null==n){var d=e&&e.constructor;n=o?a?new d:[]:I(e)?L(d)?Pb(at(e)):{}:{}}return(o?he:Un)(e,function(e,a,o){return t(n,e,a,o)}),n},unset:function(e,t){return!(null!=e)||Ka(e,t)},update:function(e,t,n){return null==e?e:Go(e,t,aa(n))},updateWith:function(e,t,n,a){return a="function"==typeof a?a:void 0,null==e?e:Go(e,t,aa(n),a)},values:Pa,valuesIn:function(e){return null==e?[]:Na(e,Ke(e))}},Vv={at:Mv,chain:Wt,commit:function(){return new oe(this.value(),this.__chain__)},lodash:ce,next:function(){this.__values__===void 0&&(this.__values__=Za(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}},plant:function(e){for(var t=this,n,a;t instanceof ee;){a=ie(t),a.__index__=0,a.__values__=void 0,n?o.__wrapped__=a:n=a;var o=a;t=t.__wrapped__}return o.__wrapped__=e,n},reverse:function(){var e=this.__wrapped__;if(e instanceof te){var t=e;return this.__actions__.length&&(t=new te(this)),t=t.reverse(),t.__actions__.push({func:Bo,args:[ko],thisArg:void 0}),new oe(t,this.__chain__)}return this.thru(ko)},tap:function(e,t){return t(e),e},thru:Bo,toIterator:function(){return this},toJSON:Wo,value:Wo,valueOf:Wo,wrapperChain:function(){return Wt(this)}},Xv={camelCase:Vy,capitalize:Ot,deburr:Mt,endsWith:function(e,t,n){e=rt(e),t=P(t);var a=e.length;n=void 0===n?a:Lt(z(n),0,a);var o=n;return n-=t.length,0<=n&&e.slice(n,o)==t},escape:fa,escapeRegExp:function(e){return e=rt(e),e&&fm.test(e)?e.replace(sm,"\\$&"):e},kebabCase:Qm,lowerCase:tx,lowerFirst:nx,pad:function(e,t,n){e=rt(e),t=z(t);var a=t?so(e):0;if(!t||a>=t)return e;var o=(t-a)/2;return fo(zh(o),n)+e+fo(Bh(o),n)},padEnd:function(e,t,n){e=rt(e),t=z(t);var a=t?so(e):0;return t&&a<t?e+fo(t-a,n):e},padStart:function(e,t,n){e=rt(e),t=z(t);var a=t?so(e):0;return t&&a<t?fo(t-a,n)+e:e},parseInt:function(e,t,n){return n||null==t?t=0:t&&(t=+t),Ox(rt(e).replace(Ex,""),t||0)},repeat:function(e,t,a){return t=(a?Be(e,t,a):void 0===t)?1:z(t),co(rt(e),t)},replace:function(){var e=arguments,t=rt(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},snakeCase:Qx,split:function(e,t,n){return(n&&"number"!=typeof n&&Be(e,t,n)&&(t=n=void 0),n=void 0===n?4294967295:n>>>0,!n)?[]:(e=rt(e),e&&("string"==typeof t||null!=t&&!$m(t))&&(t=P(t),!t&&St(e))?jt(At(e),0,n):e.split(t,n))},startCase:av,startsWith:function(e,t,n){return e=rt(e),n=null==n?0:Lt(z(n),0,e.length),t=P(t),e.slice(n,n+t.length)==t},template:Uo,templateSettings:fv,toLower:function(e){return rt(e).toLowerCase()},toUpper:function(e){return rt(e).toUpperCase()},trim:function(e,t,n){if(e=rt(e),e&&(n||void 0===t))return e.replace(_v,"");if(!e||!(t=P(t)))return e;var a=At(e),o=At(t),d=Yo(a,o),i=Lo(a,o)+1;return jt(a,d,i).join("")},trimEnd:function(e,t,n){if(e=rt(e),e&&(n||void 0===t))return e.replace(mv,"");if(!e||!(t=P(t)))return e;var a=At(e),o=Lo(a,At(t))+1;return jt(a,0,o).join("")},trimStart:function(e,t,n){if(e=rt(e),e&&(n||void 0===t))return e.replace(xv,"");if(!e||!(t=P(t)))return e;var a=At(e),o=Yo(a,At(t));return jt(a,o).join("")},truncate:Fo,unescape:function(e){return e=rt(e),e&&jv.test(e)?e.replace(wv,kv):e},upperCase:Nv,upperFirst:_y,words:zt},Gv={attempt:ny,bindAll:oy,cond:function(e){var t=null==e?0:e.length;return e=t?N(e,function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[Nn(e[0]),e[1]]}):[],Re(function(n){for(var a=-1,o;++a<t;)if(o=e[a],Z(o[0],this,n))return Z(o[1],this,n)})},conforms:function(e){return Mn(cn(e,1))},constant:ue,defaultTo:function(e,t){return null==e||e!==e?t:e},flow:_m,flowRight:mm,identity:W,iteratee:function(e){return Nn("function"==typeof e?e:cn(e,1))},matches:function(e){return wn(cn(e,1))},matchesProperty:function(e,t){return Cn(e,cn(t,1))},method:ix,methodOf:rx,mixin:Va,noop:ne,nthArg:function(e){return e=z(e),Re(function(t){return $a(t,e)})},over:fx,overEvery:ux,overSome:hx,property:On,propertyOf:function(e){return function(t){return null==e?void 0:ft(e,t)}},range:Xx,rangeRight:Gx,stubArray:Xt,stubFalse:Fe,stubObject:function(){return{}},stubString:function(){return""},stubTrue:function(){return!0},times:function(e,t){if(e=z(e),1>e||9007199254740991<e)return[];var a=4294967295,o=Nh(e,4294967295);t=aa(t),e-=4294967295;for(var d=Le(o,t);++a<e;)t(a);return d},toPath:function(e){return db(e)?N(e,st):T(e)?[e]:de(Xg(rt(e)))},uniqueId:Ho},Zv=Uh,$v=Nh,Kv=4294967295,Jv=Array.prototype,Qv=Object.prototype,ek=Qv.hasOwnProperty,tk=$h?$h.iterator:void 0,nk=Nh,ak=function(e){return function(t,n,a){if(null==a){var o=I(n),d=o&&Ge(n),i=d&&d.length&&Sa(n,d);(i?i.length:o)||(a=n,n=t,t=this)}return e(t,n,a)}}(Va);ce.after=Lv.after,ce.ary=Lv.ary,ce.assign=Hv.assign,ce.assignIn=Hv.assignIn,ce.assignInWith=Hv.assignInWith,ce.assignWith=Hv.assignWith,ce.at=Hv.at,ce.before=Lv.before,ce.bind=Lv.bind,ce.bindAll=Gv.bindAll,ce.bindKey=Lv.bindKey,ce.castArray=Yv.castArray,ce.chain=Vv.chain,ce.chunk=Dv.chunk,ce.compact=Dv.compact,ce.concat=Dv.concat,ce.cond=Gv.cond,ce.conforms=Gv.conforms,ce.constant=Gv.constant,ce.countBy=Wv.countBy,ce.create=Hv.create,ce.curry=Lv.curry,ce.curryRight=Lv.curryRight,ce.debounce=Lv.debounce,ce.defaults=Hv.defaults,ce.defaultsDeep=Hv.defaultsDeep,ce.defer=Lv.defer,ce.delay=Lv.delay,ce.difference=Dv.difference,ce.differenceBy=Dv.differenceBy,ce.differenceWith=Dv.differenceWith,ce.drop=Dv.drop,ce.dropRight=Dv.dropRight,ce.dropRightWhile=Dv.dropRightWhile,ce.dropWhile=Dv.dropWhile,ce.fill=Dv.fill,ce.filter=Wv.filter,ce.flatMap=Wv.flatMap,ce.flatMapDeep=Wv.flatMapDeep,ce.flatMapDepth=Wv.flatMapDepth,ce.flatten=Dv.flatten,ce.flattenDeep=Dv.flattenDeep,ce.flattenDepth=Dv.flattenDepth,ce.flip=Lv.flip,ce.flow=Gv.flow,ce.flowRight=Gv.flowRight,ce.fromPairs=Dv.fromPairs,ce.functions=Hv.functions,ce.functionsIn=Hv.functionsIn,ce.groupBy=Wv.groupBy,ce.initial=Dv.initial,ce.intersection=Dv.intersection,ce.intersectionBy=Dv.intersectionBy,ce.intersectionWith=Dv.intersectionWith,ce.invert=Hv.invert,ce.invertBy=Hv.invertBy,ce.invokeMap=Wv.invokeMap,ce.iteratee=Gv.iteratee,ce.keyBy=Wv.keyBy,ce.keys=Ge,ce.keysIn=Hv.keysIn,ce.map=Wv.map,ce.mapKeys=Hv.mapKeys,ce.mapValues=Hv.mapValues,ce.matches=Gv.matches,ce.matchesProperty=Gv.matchesProperty,ce.memoize=Lv.memoize,ce.merge=Hv.merge,ce.mergeWith=Hv.mergeWith,ce.method=Gv.method,ce.methodOf=Gv.methodOf,ce.mixin=ak,ce.negate=Xa,ce.nthArg=Gv.nthArg,ce.omit=Hv.omit,ce.omitBy=Hv.omitBy,ce.once=Lv.once,ce.orderBy=Wv.orderBy,ce.over=Gv.over,ce.overArgs=Lv.overArgs,ce.overEvery=Gv.overEvery,ce.overSome=Gv.overSome,ce.partial=Lv.partial,ce.partialRight=Lv.partialRight,ce.partition=Wv.partition,ce.pick=Hv.pick,ce.pickBy=Hv.pickBy,ce.property=Gv.property,ce.propertyOf=Gv.propertyOf,ce.pull=Dv.pull,ce.pullAll=Dv.pullAll,ce.pullAllBy=Dv.pullAllBy,ce.pullAllWith=Dv.pullAllWith,ce.pullAt=Dv.pullAt,ce.range=Gv.range,ce.rangeRight=Gv.rangeRight,ce.rearg=Lv.rearg,ce.reject=Wv.reject,ce.remove=Dv.remove,ce.rest=Lv.rest,ce.reverse=Dv.reverse,ce.sampleSize=Wv.sampleSize,ce.set=Hv.set,ce.setWith=Hv.setWith,ce.shuffle=Wv.shuffle,ce.slice=Dv.slice,ce.sortBy=Wv.sortBy,ce.sortedUniq=Dv.sortedUniq,ce.sortedUniqBy=Dv.sortedUniqBy,ce.split=Xv.split,ce.spread=Lv.spread,ce.tail=Dv.tail,ce.take=Dv.take,ce.takeRight=Dv.takeRight,ce.takeRightWhile=Dv.takeRightWhile,ce.takeWhile=Dv.takeWhile,ce.tap=Vv.tap,ce.throttle=Lv.throttle,ce.thru=Bo,ce.toArray=Yv.toArray,ce.toPairs=Hv.toPairs,ce.toPairsIn=Hv.toPairsIn,ce.toPath=Gv.toPath,ce.toPlainObject=Yv.toPlainObject,ce.transform=Hv.transform,ce.unary=Lv.unary,ce.union=Dv.union,ce.unionBy=Dv.unionBy,ce.unionWith=Dv.unionWith,ce.uniq=Dv.uniq,ce.uniqBy=Dv.uniqBy,ce.uniqWith=Dv.uniqWith,ce.unset=Hv.unset,ce.unzip=Dv.unzip,ce.unzipWith=Dv.unzipWith,ce.update=Hv.update,ce.updateWith=Hv.updateWith,ce.values=Hv.values,ce.valuesIn=Hv.valuesIn,ce.without=Dv.without,ce.words=Xv.words,ce.wrap=Lv.wrap,ce.xor=Dv.xor,ce.xorBy=Dv.xorBy,ce.xorWith=Dv.xorWith,ce.zip=Dv.zip,ce.zipObject=Dv.zipObject,ce.zipObjectDeep=Dv.zipObjectDeep,ce.zipWith=Dv.zipWith,ce.entries=Hv.toPairs,ce.entriesIn=Hv.toPairsIn,ce.extend=Hv.assignIn,ce.extendWith=Hv.assignInWith,ak(ce,ce),ce.add=Fv.add,ce.attempt=Gv.attempt,ce.camelCase=Xv.camelCase,ce.capitalize=Xv.capitalize,ce.ceil=Fv.ceil,ce.clamp=qv.clamp,ce.clone=Yv.clone,ce.cloneDeep=Yv.cloneDeep,ce.cloneDeepWith=Yv.cloneDeepWith,ce.cloneWith=Yv.cloneWith,ce.conformsTo=Yv.conformsTo,ce.deburr=Xv.deburr,ce.defaultTo=Gv.defaultTo,ce.divide=Fv.divide,ce.endsWith=Xv.endsWith,ce.eq=Yv.eq,ce.escape=Xv.escape,ce.escapeRegExp=Xv.escapeRegExp,ce.every=Wv.every,ce.find=Wv.find,ce.findIndex=Dv.findIndex,ce.findKey=Hv.findKey,ce.findLast=Wv.findLast,ce.findLastIndex=Dv.findLastIndex,ce.findLastKey=Hv.findLastKey,ce.floor=Fv.floor,ce.forEach=Wv.forEach,ce.forEachRight=Wv.forEachRight,ce.forIn=Hv.forIn,ce.forInRight=Hv.forInRight,ce.forOwn=Hv.forOwn,ce.forOwnRight=Hv.forOwnRight,ce.get=Hv.get,ce.gt=Yv.gt,ce.gte=Yv.gte,ce.has=Hv.has,ce.hasIn=Hv.hasIn,ce.head=Dv.head,ce.identity=W,ce.includes=Wv.includes,ce.indexOf=Dv.indexOf,ce.inRange=qv.inRange,ce.invoke=Hv.invoke,ce.isArguments=Yv.isArguments,ce.isArray=db,ce.isArrayBuffer=Yv.isArrayBuffer,ce.isArrayLike=Yv.isArrayLike,ce.isArrayLikeObject=Yv.isArrayLikeObject,ce.isBoolean=Yv.isBoolean,ce.isBuffer=Yv.isBuffer,ce.isDate=Yv.isDate,ce.isElement=Yv.isElement,ce.isEmpty=Yv.isEmpty,ce.isEqual=Yv.isEqual,ce.isEqualWith=Yv.isEqualWith,ce.isError=Yv.isError,ce.isFinite=Yv.isFinite,ce.isFunction=Yv.isFunction,ce.isInteger=Yv.isInteger,ce.isLength=Yv.isLength,ce.isMap=Yv.isMap,ce.isMatch=Yv.isMatch,ce.isMatchWith=Yv.isMatchWith,ce.isNaN=Yv.isNaN,ce.isNative=Yv.isNative,ce.isNil=Yv.isNil,ce.isNull=Yv.isNull,ce.isNumber=Yv.isNumber,ce.isObject=I,ce.isObjectLike=Yv.isObjectLike,ce.isPlainObject=Yv.isPlainObject,ce.isRegExp=Yv.isRegExp,ce.isSafeInteger=Yv.isSafeInteger,ce.isSet=Yv.isSet,ce.isString=Yv.isString,ce.isSymbol=Yv.isSymbol,ce.isTypedArray=Yv.isTypedArray,ce.isUndefined=Yv.isUndefined,ce.isWeakMap=Yv.isWeakMap,ce.isWeakSet=Yv.isWeakSet,ce.join=Dv.join,ce.kebabCase=Xv.kebabCase,ce.last=ta,ce.lastIndexOf=Dv.lastIndexOf,ce.lowerCase=Xv.lowerCase,ce.lowerFirst=Xv.lowerFirst,ce.lt=Yv.lt,ce.lte=Yv.lte,ce.max=Fv.max,ce.maxBy=Fv.maxBy,ce.mean=Fv.mean,ce.meanBy=Fv.meanBy,ce.min=Fv.min,ce.minBy=Fv.minBy,ce.stubArray=Gv.stubArray,ce.stubFalse=Gv.stubFalse,ce.stubObject=Gv.stubObject,ce.stubString=Gv.stubString,ce.stubTrue=Gv.stubTrue,ce.multiply=Fv.multiply,ce.nth=Dv.nth,ce.noop=Gv.noop,ce.now={now:F_}.now,ce.pad=Xv.pad,ce.padEnd=Xv.padEnd,ce.padStart=Xv.padStart,ce.parseInt=Xv.parseInt,ce.random=qv.random,ce.reduce=Wv.reduce,ce.reduceRight=Wv.reduceRight,ce.repeat=Xv.repeat,ce.replace=Xv.replace,ce.result=Hv.result,ce.round=Fv.round,ce.sample=Wv.sample,ce.size=Wv.size,ce.snakeCase=Xv.snakeCase,ce.some=Wv.some,ce.sortedIndex=Dv.sortedIndex,ce.sortedIndexBy=Dv.sortedIndexBy,ce.sortedIndexOf=Dv.sortedIndexOf,ce.sortedLastIndex=Dv.sortedLastIndex,ce.sortedLastIndexBy=Dv.sortedLastIndexBy,ce.sortedLastIndexOf=Dv.sortedLastIndexOf,ce.startCase=Xv.startCase,ce.startsWith=Xv.startsWith,ce.subtract=Fv.subtract,ce.sum=Fv.sum,ce.sumBy=Fv.sumBy,ce.template=Xv.template,ce.times=Gv.times,ce.toFinite=Yv.toFinite,ce.toInteger=z,ce.toLength=Yv.toLength,ce.toLower=Xv.toLower,ce.toNumber=Yv.toNumber,ce.toSafeInteger=Yv.toSafeInteger,ce.toString=Yv.toString,ce.toUpper=Xv.toUpper,ce.trim=Xv.trim,ce.trimEnd=Xv.trimEnd,ce.trimStart=Xv.trimStart,ce.truncate=Xv.truncate,ce.unescape=Xv.unescape,ce.uniqueId=Gv.uniqueId,ce.upperCase=Xv.upperCase,ce.upperFirst=Xv.upperFirst,ce.each=Wv.forEach,ce.eachRight=Wv.forEachRight,ce.first=Dv.head,ak(ce,function(){var e={};return Un(ce,function(t,n){ek.call(ce.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),ce.VERSION="4.17.11",(ce.templateSettings=Xv.templateSettings).imports._=ce,he(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){ce[e].placeholder=ce}),he(["drop","take"],function(e,t){te.prototype[e]=function(a){a=void 0===a?1:Uh(z(a),0);var o=this.__filtered__&&!t?new te(this):this.clone();return o.__filtered__?o.__takeCount__=nk(a,o.__takeCount__):o.__views__.push({size:nk(a,Kv),type:e+(0>o.__dir__?"Right":"")}),o},te.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),he(["filter","map","takeWhile"],function(e,t){var n=t+1;te.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Nn(e,3),type:n}),t.__filtered__=t.__filtered__||n==1||n==3,t}}),he(["head","last"],function(e,t){var n="take"+(t?"Right":"");te.prototype[e]=function(){return this[n](1).value()[0]}}),he(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");te.prototype[e]=function(){return this.__filtered__?new te(this):this[n](1)}}),te.prototype.compact=function(){return this.filter(W)},te.prototype.find=function(e){return this.filter(e).head()},te.prototype.findLast=function(e){return this.reverse().find(e)},te.prototype.invokeMap=Re(function(e,t){return"function"==typeof e?new te(this):this.map(function(n){return Ba(n,e,t)})}),te.prototype.reject=function(e){return this.filter(Xa(Nn(e)))},te.prototype.slice=function(e,t){e=z(e);var n=this;return n.__filtered__&&(0<e||0>t)?new te(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(t=z(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},te.prototype.toArray=function(){return this.take(Kv)},Un(te.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),o=ce[a?"take"+("last"==t?"Right":""):t],d=a||/^find/.test(t);o&&(ce.prototype[t]=function(){var t=this.__wrapped__,i=a?[1]:arguments,r=t instanceof te,c=i[0],l=r||db(t),s=function(e){var t=o.apply(ce,ht([e],i));return a&&f?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(r=l=!1);var f=this.__chain__,p=!!this.__actions__.length,u=d&&!f,h=r&&!p;if(!d&&l){t=h?t:new te(this);var b=e.apply(t,i);return b.__actions__.push({func:Bo,args:[s],thisArg:void 0}),new oe(b,f)}return u&&h?e.apply(this,i):(b=this.thru(s),u?a?b.value()[0]:b.value():b)})}),he(["pop","push","shift","sort","splice","unshift"],function(e){var t=Jv[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);ce.prototype[e]=function(){var e=arguments;if(a&&!this.__chain__){var o=this.value();return t.apply(db(o)?o:[],e)}return this[n](function(n){return t.apply(db(n)?n:[],e)})}}),Un(te.prototype,function(e,t){var n=ce[t];if(n){var a=n.name+"",o=Ub[a]||(Ub[a]=[]);o.push({name:t,func:n})}}),Ub[Ce(void 0,2).name]=[{name:"wrapper",func:void 0}],te.prototype.clone=function(){var e=new te(this.__wrapped__);return e.__actions__=de(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=de(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=de(this.__views__),e},te.prototype.reverse=function(){if(this.__filtered__){var e=new te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},te.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=db(e),a=0>t,o=n?e.length:0,d=Ko(0,o,this.__views__),i=d.start,r=d.end,c=r-i,l=a?r:i-1,s=this.__iteratees__,f=s.length,p=0,u=Nh(c,this.__takeCount__);if(!n||!a&&o==c&&u==c)return Do(e,this.__actions__);var h=[];outer:for(;c--&&p<u;){l+=t;for(var b=-1,g=e[l];++b<f;){var y=s[b],_=y.iteratee,m=y.type,x=_(g);if(m==2)g=x;else if(!x)if(1==m)continue outer;else break outer}h[p++]=g}return h},ce.prototype.at=Vv.at,ce.prototype.chain=Vv.wrapperChain,ce.prototype.commit=Vv.commit,ce.prototype.next=Vv.next,ce.prototype.plant=Vv.plant,ce.prototype.reverse=Vv.reverse,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=Vv.value,ce.prototype.first=ce.prototype.head,tk&&(ce.prototype[tk]=Vv.toIterator);dd.prototype={constructor:dd,reset:function(){this.s=this.t=0},add:function(e){rd(ok,e,this.t),rd(this,ok.s,this.s),this.s?this.t+=ok.t:this.s=ok.t},valueOf:function(){return this.s}};var ok=new dd,dk=1e-6,ik=Ph,rk=Oh,ck={Feature:function(e,t){ld(e.geometry,t)},FeatureCollection:function(e,t){for(var a=e.features,o=-1,d=a.length;++o<d;)ld(a[o].geometry,t)}},lk={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var a=e.coordinates,o=-1,d=a.length;++o<d;)e=a[o],t.point(e[0],e[1],e[2])},LineString:function(e,t){sd(e.coordinates,t,0)},MultiLineString:function(e,t){for(var a=e.coordinates,o=-1,d=a.length;++o<d;)sd(a[o],t,0)},Polygon:function(e,t){fd(e.coordinates,t)},MultiPolygon:function(e,t){for(var a=e.coordinates,o=-1,d=a.length;++o<d;)fd(a[o],t)},GeometryCollection:function(e,t){for(var a=e.geometries,o=-1,d=a.length;++o<d;)ld(a[o],t)}},sk=od(),fk=od(),pk=od(),uk=od(),hk=function(e){return 1===e.length&&(e=md(e)),{left:function(t,n,a,o){for(null==a&&(a=0),null==o&&(o=t.length);a<o;){var d=a+o>>>1;0>e(t[d],n)?a=d+1:o=d}return a},right:function(t,n,a,o){for(null==a&&(a=0),null==o&&(o=t.length);a<o;){var d=a+o>>>1;0<e(t[d],n)?o=d:a=d+1}return a}}}(_d),bk=hk.right,gk=Oh(50),yk=Oh(10),_k=Oh(2),mk=od(),xk=od(),vk=od(),kk={point:cd,lineStart:cd,lineEnd:cd,polygonStart:function(){kk.lineStart=Cd,kk.lineEnd=Od},polygonEnd:function(){kk.lineStart=kk.lineEnd=kk.point=cd,xk.add(ik(vk)),vk.reset()},result:function(){return xk.reset(),xk/2}},wk=1/0,jk=wk,Sk=-wk,Tk=Sk,Ck={point:Nd,lineStart:cd,lineEnd:cd,polygonStart:cd,polygonEnd:cd,result:function(){var e=[[wk,jk],[Sk,Tk]];return Sk=Tk=-(jk=wk=1/0),e}},Ak=0,Ek=0,Ok=0,Nk=0,Pk=0,Mk=0,Ik=0,Rk=0,Uk=0,zk={point:Pd,lineStart:Md,lineEnd:Ud,polygonStart:function(){zk.lineStart=zd,zk.lineEnd=Bd},polygonEnd:function(){zk.point=Pd,zk.lineStart=Md,zk.lineEnd=Ud},result:function(){var e=Uk?[Ik/Uk,Rk/Uk]:Mk?[Nk/Mk,Pk/Mk]:Ok?[Ak/Ok,Ek/Ok]:[NaN,NaN];return Ak=Ek=Ok=Nk=Pk=Mk=Ik=Rk=Uk=0,e}},Bk,Dk,Wk,Lk,Yk,Fk,qk,Hk;Ld.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,2*kh);break}}},result:cd};var Vk=od(),Xk={point:cd,lineStart:function(){Xk.point=Yd},lineEnd:function(){Gk&&Fd(Zk,$k),Xk.point=cd},polygonStart:function(){Gk=!0},polygonEnd:function(){Gk=null},result:function(){return Vk.reset(),+Vk}},Gk,Zk,$k,Kk,Jk;qd.prototype={_radius:4.5,_circle:Hd(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{null==this._circle&&(this._circle=Hd(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},Gd.prototype={constructor:Gd,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Qk=.1,ew={CATEGORY:{CAT_1:1,CAT_2:2,CAT_3:3,CAT_4:4,NO_TEST:0},CUT_14:14,CUT_27:27},tw={CATEGORY:{BELOW:1,NO_TEST:0,SUP_BR:3,SUP_EU:2}},nw={substances:{integrityHash:"sha384-9FmXfWF1E7bRuSKBX9NuEGewjBybCZxXFmPgKI6RBa4sB5oen5inynkWxS0uRuOH",url:"https://raw.githubusercontent.com/severo/data_brazil/master/substances.20190412.csv"},tests:{integrityHash:"sha384-HalAFzIfE4ufclJBlandxnRAPt63GUYtQInBVSWYQOFcAZmVXY2BySUcy9QuOIjk",url:"https://raw.githubusercontent.com/severo/data_brazil/master/tests_data.20180415.json"},topojson:{integrityHash:"sha384-T57m5+BaBiLe7uyAZrKOU/BqCXtK9t0ZIj+YXAUES8EOxrngeVCKflSzZXnB9kVd",url:"data/br-px-topo.2019031701.json"},values:{integrityHash:"sha384-1mMiVJ4KDmhyjlz86hL3dd+AYo/ShdE/2L8iW5nCdsUHlgsMt9ZS/PTVg12LyTZM",url:"https://raw.githubusercontent.com/severo/data_brazil/master/data_by_municipality_for_maps.csv"}},aw={AC:"Acre",AL:"Alagoas",AM:"Amazonas",AP:"Amap\xE1",BA:"Bahia",CE:"Cear\xE1",DF:"Distrito Federal",ES:"Esp\xEDrito Santo",GO:"Goi\xE1s",MA:"Maranh\xE3o",MG:"Minas Gerais",MS:"Mato Grosso do Sul",MT:"Mato Grosso",PA:"Par\xE1",PB:"Para\xEDba",PE:"Pernambuco",PI:"Piau\xED",PR:"Paran\xE1",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RO:"Rond\xF4nia",RR:"Roraima",RS:"Rio Grande do Sul",SC:"Santa Catarina",SE:"Sergipe",SP:"S\xE3o Paulo",TO:"Tocantins"},ow=kh,dw=2*ow,iw=1e-6;si.prototype=fi.prototype={constructor:si,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,a){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+a)},bezierCurveTo:function(e,t,n,a,o,d){this._+="C"+ +e+","+ +t+","+ +n+","+ +a+","+(this._x1=+o)+","+(this._y1=+d)},arcTo:function(e,t,n,a,o){var d=Math.tan;e=+e,t=+t,n=+n,a=+a,o=+o;var i=this._x1,c=this._y1,s=n-e,f=a-t,p=i-e,u=c-t,h=p*p+u*u;if(0>o)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(!(h>iw));else if(!(Ph(u*s-f*p)>iw)||!o)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var b=n-i,g=a-c,y=s*s+f*f,_=Oh(y),m=Oh(h),x=o*d((ow-wh((y+h-(b*b+g*g))/(2*_*m)))/2),l=x/m,v=x/_;Ph(l-1)>iw&&(this._+="L"+(e+l*p)+","+(t+l*u)),this._+="A"+o+","+o+",0,0,"+ +(u*b>p*g)+","+(this._x1=e+v*s)+","+(this._y1=t+v*f)}},arc:function(e,t,n,a,o,d){e=+e,t=+t,n=+n;var i=n*Ah(a),c=n*Ch(a),l=e+i,s=t+c,f=1^d,p=d?a-o:o-a;if(0>n)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+s:(Ph(this._x1-l)>iw||Ph(this._y1-s)>iw)&&(this._+="L"+l+","+s);n&&(0>p&&(p=p%dw+dw),p>dw-iw?this._+="A"+n+","+n+",0,1,"+f+","+(e-i)+","+(t-c)+"A"+n+","+n+",0,1,"+f+","+(this._x1=l)+","+(this._y1=s):p>iw&&(this._+="A"+n+","+n+",0,"+ +(p>=ow)+","+f+","+(this._x1=e+n*Ah(o))+","+(this._y1=t+n*Ch(o))))},rect:function(e,t,n,a){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +a+"h"+-n+"Z"},toString:function(){return this._}};var rw={he:100,vHe:1e3,vWi:1100,wi:100},cw={backgroundColor:"#f0f0f0",frontiers:{br:1,fu:.5,mun:.25},max:27},lw=function(e){return["#f0f0f0","#ffffcc","#feb24c","#e31a1c","#800026"][e]},sw=function(e){return["#f4f4f4","#74a3eb","#001d93","#01000f"][e]},fw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ki.prototype={constructor:Ki,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};_r.prototype={add:function(e){var t=this._names.indexOf(e);0>t&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return 0<=this._names.indexOf(e)}};var pw={},uw=null;if("undefined"!=typeof document){var hw=document.documentElement;"onmouseenter"in hw||(pw={mouseenter:"mouseover",mouseleave:"mouseout"})}var bw=[null];qr.prototype=Hr.prototype={constructor:qr,select:Vi,selectAll:function(e){"function"!=typeof e&&(e=Gi(e));for(var t=this._groups,a=t.length,o=[],d=[],r=0;r<a;++r)for(var c=t[r],l=c.length,n=0,s;n<l;++n)(s=c[n])&&(o.push(e.call(s,s.__data__,n,c)),d.push(s));return new qr(o,d)},filter:function(e){"function"!=typeof e&&(e=Zi(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=[],l=0,s;l<c;++l)(s=r[l])&&e.call(s,s.__data__,l,r)&&n.push(s);return new qr(o,this._parents)},data:function(e,t){if(!e)return u=Array(this.size()),l=-1,this.each(function(e){u[++l]=e}),u;var n=t?er:Qi,a=this._parents,o=this._groups;"function"!=typeof e&&(e=Ji(e));for(var d=o.length,i=Array(d),r=Array(d),c=Array(d),l=0;l<d;++l){var s=a[l],f=o[l],p=f.length,u=e.call(s,s&&s.__data__,l,a),h=u.length,b=r[l]=Array(h),g=i[l]=Array(h),y=c[l]=Array(p);n(s,f,b,g,y,u,t);for(var _=0,m=0,x,v;_<h;++_)if(x=b[_]){for(_>=m&&(m=_+1);!(v=g[m])&&++m<h;);x._next=v||null}}return i=new qr(i,a),i._enter=r,i._exit=c,i},enter:function(){return new qr(this._enter||this._groups.map($i),this._parents)},exit:function(){return new qr(this._exit||this._groups.map($i),this._parents)},join:function(e,t,n){var a=this.enter(),o=this,d=this.exit();return a="function"==typeof e?e(a):a.append(e+""),null!=t&&(o=t(o)),null==n?d.remove():n(d),a&&o?a.merge(o).order():o},merge:function(e){for(var t=this._groups,a=e._groups,o=t.length,d=a.length,r=Nh(o,d),c=Array(o),l=0;l<r;++l)for(var s=t[l],f=a[l],p=s.length,n=c[l]=Array(p),u=0,h;u<p;++u)(h=s[u]||f[u])&&(n[u]=h);for(;l<o;++l)c[l]=t[l];return new qr(c,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a=e[t],o=a.length-1,d=a[o],r;0<=--o;)(r=a[o])&&(d&&4^r.compareDocumentPosition(d)&&d.parentNode.insertBefore(r,d),d=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=tr);for(var a=this._groups,o=a.length,d=Array(o),r=0;r<o;++r){for(var c=a[r],l=c.length,n=d[r]=Array(l),s=0,f;s<l;++s)(f=c[s])&&(n[s]=f);n.sort(t)}return new qr(d,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,a=e.length;t<a;++t)for(var o=e[t],d=0,r=o.length,n;d<r;++d)if(n=o[d],n)return n;return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,a=0,o=t.length;a<o;++a)for(var d=t[a],r=0,c=d.length,n;r<c;++r)(n=d[r])&&e.call(n,n.__data__,r,d);return this},attr:function(e,t){var n=Wi(e);if(2>arguments.length){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((null==t?n.local?ar:nr:"function"==typeof t?n.local?rr:ir:n.local?dr:or)(n,t))},style:function(e,t,n){return 1<arguments.length?this.each((null==t?lr:"function"==typeof t?fr:sr)(e,t,null==n?"":n)):pr(this.node(),e)},property:function(e,t){return 1<arguments.length?this.each((null==t?ur:"function"==typeof t?br:hr)(e,t)):this.node()[e]},classed:function(e,t){var a=gr(e+"");if(2>arguments.length){for(var o=yr(this.node()),d=-1,r=a.length;++d<r;)if(!o.contains(a[d]))return!1;return!0}return this.each(("function"==typeof t?wr:t?vr:kr)(a,t))},text:function(e){return arguments.length?this.each(null==e?jr:("function"==typeof e?Tr:Sr)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Cr:("function"==typeof e?Er:Ar)(e)):this.node().innerHTML},raise:function(){return this.each(Or)},lower:function(){return this.each(Nr)},append:function(e){var t="function"==typeof e?e:Fi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:Fi(e),a=null==t?Pr:"function"==typeof t?t:Hi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})},remove:function(){return this.each(Mr)},clone:function(e){return this.select(e?Rr:Ir)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,a,d){var r=Br(e+""),c=r.length,n,l;if(2>arguments.length){var s=this.node().__on;if(s)for(var f=0,p=s.length,u;f<p;++f)for(n=0,u=s[f];n<c;++n)if((l=r[n]).type===u.type&&l.name===u.name)return u.value;return}for(s=a?Wr:Dr,null==d&&(d=!1),n=0;n<c;++n)this.each(s(r[n],a,d));return this},dispatch:function(e,t){return this.each(("function"==typeof t?Fr:Yr)(e,t))}};var gw=.7,yw=1/gw,_w="\\s*([+-]?\\d+)\\s*",mw="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xw="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vw=/^#([0-9a-f]{3})$/,kw=/^#([0-9a-f]{6})$/,ww=new RegExp("^rgb\\("+[_w,_w,_w]+"\\)$"),jw=new RegExp("^rgb\\("+[xw,xw,xw]+"\\)$"),Sw=new RegExp("^rgba\\("+[_w,_w,_w,mw]+"\\)$"),Tw=new RegExp("^rgba\\("+[xw,xw,xw,mw]+"\\)$"),Cw=new RegExp("^hsl\\("+[mw,xw,xw]+"\\)$"),Aw=new RegExp("^hsla\\("+[mw,xw,xw,mw]+"\\)$"),Ew={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gr($r,Kr,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Gr(nc,tc,Zr($r,{brighter:function(e){return e=null==e?yw:Mh(yw,e),new nc(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?gw:Mh(gw,e),new nc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},hex:function(){return"#"+ac(this.r)+ac(this.g)+ac(this.b)},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Uh(0,Nh(1,e)),(1===e?"rgb(":"rgba(")+Uh(0,Nh(255,Eh(this.r)||0))+", "+Uh(0,Nh(255,Eh(this.g)||0))+", "+Uh(0,Nh(255,Eh(this.b)||0))+(1===e?")":", "+e+")")}})),Gr(ic,function(e,t,n,a){return 1===arguments.length?dc(e):new ic(e,t,n,null==a?1:a)},Zr($r,{brighter:function(e){return e=null==e?yw:Mh(yw,e),new ic(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?gw:Mh(gw,e),new ic(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(0>this.h),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(.5>n?n:1-n)*t,o=2*n-a;return new nc(rc(240<=e?e-240:e+120,o,a),rc(e,o,a),rc(120>e?e+240:e-120,o,a),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var Ow=kh/180,Nw=180/kh,Pw=18,K=.96422,Xn=.82521,Zn=4/29,Mw=6/29,Iw=3*Mw*Mw,Rw=Mw*Mw*Mw;Gr(lc,function(e,t,n,a){return 1===arguments.length?cc(e):new lc(e,t,n,null==a?1:a)},Zr($r,{brighter:function(e){return new lc(this.l+Pw*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new lc(this.l-Pw*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=K*fc(t),e=1*fc(e),n=Xn*fc(n),new nc(pc(3.1338561*t-1.6168667*e-.4906146*n),pc(-.9787684*t+1.9161415*e+.033454*n),pc(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Gr(bc,function(e,t,n,a){return 1===arguments.length?hc(e):new bc(e,t,n,null==a?1:a)},Zr($r,{brighter:function(e){return new bc(this.h,this.c,this.l+Pw*(null==e?1:e),this.opacity)},darker:function(e){return new bc(this.h,this.c,this.l-Pw*(null==e?1:e),this.opacity)},rgb:function(){return cc(this).rgb()}}));var Uw=-.14861,A=+1.78277,B=-.29227,C=-.90649,D=+1.97294,E=D*C,zw=D*A,Bw=A*B-C*Uw;Gr(_c,yc,Zr($r,{brighter:function(e){return e=null==e?yw:Mh(yw,e),new _c(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?gw:Mh(gw,e),new _c(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Ow,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Ah(e),o=Ch(e);return new nc(255*(t+n*(Uw*a+A*o)),255*(t+n*(B*a+C*o)),255*(t+n*(D*a)),this.opacity)}}));var Dw=function e(t){function n(e,t){var n=a((e=tc(e)).r,(t=tc(t)).r),o=a(e.g,t.g),d=a(e.b,t.b),i=jc(e.opacity,t.opacity);return function(a){return e.r=n(a),e.g=o(a),e.b=d(a),e.opacity=i(a),e+""}}var a=wc(t);return n.gamma=e,n}(1),Ww=function(e){return function(t){var a=t.length,n=Array(a),o=Array(a),d=Array(a),c,l;for(c=0;c<a;++c)l=tc(t[c]),n[c]=l.r||0,o[c]=l.g||0,d[c]=l.b||0;return n=e(n),o=e(o),d=e(d),l.opacity=1,function(e){return l.r=n(e),l.g=o(e),l.b=d(e),l+""}}}(function(e){var a=e.length-1;return function(n){var o=0>=n?n=0:1<=n?(n=1,a-1):zh(n*a),d=e[o],i=e[o+1],r=0<o?e[o-1]:2*d-i,c=o<a-1?e[o+2]:2*i-d;return mc((n-o/a)*a,r,d,i,c)}}),Lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yw=new RegExp(Lw.source,"g"),Fw=180/kh,qw={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Hw=zc(Rc,"px, ","px)","deg)"),Vw=zc(Uc,", ",")",")"),Xw=Math.SQRT2,Gw,Zw,$w,Kw;Bc(function(e,t){var n=t-e;return n?vc(e,180<n||-180>n?n-360*Eh(n/360):n):xc(isNaN(e)?t:e)});var Jw=Bc(jc),Qw=0,ej=0,tj=0,nj=0,aj=0,oj=0,dj="object"==typeof performance&&performance.now?performance:Date,ij="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)},rj,cj;Lc.prototype=Yc.prototype={constructor:Lc,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Dc():+n)+(null==t?0:+t),this._next||cj===this||(cj?cj._next=this:rj=this,cj=this),this._call=e,this._time=n,Xc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xc())}};var lj=e("start","end","cancel","interrupt"),sj=[],fj=Hr.prototype.constructor,pj=0,uj=Hr.prototype;Dl.prototype=function(e){return Hr().transition(e)}.prototype={constructor:Dl,select:Al,selectAll:El,filter:function(e){"function"!=typeof e&&(e=Zi(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=[],l=0,s;l<c;++l)(s=r[l])&&e.call(s,s.__data__,l,r)&&n.push(s);return new Dl(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,a=e._groups,o=t.length,d=a.length,r=Nh(o,d),c=Array(o),l=0;l<r;++l)for(var s=t[l],f=a[l],p=s.length,n=c[l]=Array(p),u=0,h;u<p;++u)(h=s[u]||f[u])&&(n[u]=h);for(;l<o;++l)c[l]=t[l];return new Dl(c,this._parents,this._name,this._id)},selection:function(){return new fj(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,a=Wl(),o=this._groups,d=o.length,r=0;r<d;++r)for(var c=o[r],l=c.length,n=0,s;n<l;++n)if(s=c[n]){var f=Jc(s,t);Zc(s,e,a,n,c,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Dl(o,this._parents,e,a)},call:uj.call,nodes:uj.nodes,node:uj.node,size:uj.size,empty:uj.empty,each:uj.each,on:Tl,attr:function(e,t){var n=Wi(e),a="transform"===n?Vw:dl;return this.attrTween(e,"function"==typeof t?(n.local?fl:sl)(n,a,ol(this,"attr."+e,t)):null==t?(n.local?rl:il)(n):(n.local?ll:cl)(n,a,t))},attrTween:function(e,t){var n="attr."+e;if(2>arguments.length)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var a=Wi(e);return this.tween(n,(a.local?hl:bl)(a,t))},style:function(e,t,n){var a="transform"==(e+="")?Hw:dl;return null==t?this.styleTween(e,Ol(e,a)).on("end.style."+e,Nl(e)):"function"==typeof t?this.styleTween(e,Ml(e,a,ol(this,"style."+e,t))).each(Il(this._id,e)):this.styleTween(e,Pl(e,a,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var a="style."+(e+="");if(2>arguments.length)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!=typeof t)throw new Error;return this.tween(a,Ul(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?Bl(ol(this,"text",e)):zl(null==e?"":e+""))},remove:function(){return this.on("end.remove",Cl(this._id))},tween:al,delay:_l,duration:vl,ease:wl,end:function(){var e=this,t=e._id,n=e.size(),a,o;return new Promise(function(d,i){var r={value:i},c={value:function(){0==--n&&d()}};e.each(function(){var e=Kc(this,t),n=e.on;n!==a&&(o=(a=n).copy(),o._.cancel.push(r),o._.interrupt.push(r),o._.end.push(c)),e.on=o})})}};var hj={time:null,delay:0,duration:250,ease:function(e){return(1>=(e*=2)?e*e*e:(e-=2)*e*e+2)/2}};Hr.prototype.interrupt=function(e){return this.each(function(){el(this,e)})},Hr.prototype.transition=Yl;var bj="$";Fl.prototype=ql.prototype={constructor:Fl,has:function(e){return bj+e in this},get:function(e){return this[bj+e]},set:function(e,t){return this[bj+e]=t,this},remove:function(e){var t=bj+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===bj&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===bj&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===bj&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===bj&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===bj&&++e;return e},empty:function(){for(var e in this)if(e[0]===bj)return!1;return!0},each:function(e){for(var t in this)t[0]===bj&&e(this[t],t.slice(1),this)}};var gj=ql.prototype;Hl.prototype=function(e,t){var a=new Hl;if(e instanceof Hl)e.each(function(e){a.add(e)});else if(e){var o=-1,d=e.length;if(null==t)for(;++o<d;)a.add(e[o]);else for(;++o<d;)a.add(t(e[o],o,e))}return a}.prototype={constructor:Hl,has:gj.has,add:function(e){return e+="",this[bj+e]=e,this},remove:gj.remove,clear:gj.clear,values:gj.keys,size:gj.size,empty:gj.empty,each:gj.each};var yj=function(e,t,n){var a=new ns(null==t?es:t,null==n?ts:n,NaN,NaN,NaN,NaN);return null==e?a:a.addAll(e)}.prototype=ns.prototype;yj.copy=function(){var e=new ns(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,a;if(!t)return e;if(!t.length)return e._root=as(t),e;for(n=[{source:t,target:e._root=[,,,,]}];t=n.pop();)for(var o=0;4>o;++o)(a=t.source[o])&&(a.length?n.push({source:a,target:t.target[o]=[,,,,]}):t.target[o]=as(a));return e},yj.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Vl(this.cover(t,n),t,n,e)},yj.addAll=Xl,yj.cover=Gl,yj.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},yj.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},yj.find=$l,yj.remove=Kl,yj.removeAll=function(e){for(var t=0,a=e.length;t<a;++t)this.remove(e[t]);return this},yj.root=function(){return this._root},yj.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},yj.visit=Jl,yj.visitAfter=Ql,yj.x=function(e){return arguments.length?(this._x=e,this):this._x},yj.y=function(e){return arguments.length?(this._y=e,this):this._y};var _j=kh*(3-Oh(5)),mj=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;cs.prototype=ls.prototype,ls.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Uh(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Uh(0,0|this.precision))+(this.trim?"~":"")+this.type};var re={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Eh(e).toString(2)},c:function(e){return e+""},d:function(e){return Eh(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Eh(e).toString(8)},p:function(e,t){return fs(100*e,t)},r:fs,s:function(e,t){var a=os(e,t);if(!a)return e+"";var o=a[0],d=a[1],r=d-(vj=3*Uh(-8,Nh(8,zh(d/3))))+1,i=o.length;return r===i?o:r>i?o+Array(r-i+1).join("0"):0<r?o.slice(0,r)+"."+o.slice(r):"0."+Array(1-r).join("0")+os(e,Uh(0,t+r-1))[0]},X:function(e){return Eh(e).toString(16).toUpperCase()},x:function(e){return Eh(e).toString(16)}},xj=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],vj,kj,wj,jj;hs({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Sj=Array.prototype,Tj=Sj.map,Cj=Sj.slice,Aj=[0,1],Ej=new Date,Oj=new Date,Nj=Ms(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Nj.every=function(e){return e=zh(e),isFinite(e)&&0<e?1<e?Ms(function(t){t.setTime(zh(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Nj:null};var Pj=Nj.range,Mj=1e3,Ij=6e4,Rj=36e5,Uj=864e5,zj=Ms(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Mj)},function(e,t){return(t-e)/Mj},function(e){return e.getUTCSeconds()}),Bj=zj.range,Dj=Ms(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mj)},function(e,t){e.setTime(+e+t*Ij)},function(e,t){return(t-e)/Ij},function(e){return e.getMinutes()}),Wj=Dj.range,Lj=Ms(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mj-e.getMinutes()*Ij)},function(e,t){e.setTime(+e+t*Rj)},function(e,t){return(t-e)/Rj},function(e){return e.getHours()}),Yj=Lj.range,Fj=Ms(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ij)/Uj},function(e){return e.getDate()-1}),qj=Fj.range,Hj=Is(0),Vj=Is(1),Xj=Is(2),Gj=Is(3),Zj=Is(4),$j=Is(5),Kj=Is(6),Jj=Hj.range,Qj=Vj.range,eS=Zj.range,tS=Ms(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),nS=tS.range,aS=Ms(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});aS.every=function(e){return isFinite(e=zh(e))&&0<e?Ms(function(t){t.setFullYear(zh(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var oS=aS.range,dS=Ms(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Ij)},function(e,t){return(t-e)/Ij},function(e){return e.getUTCMinutes()}),iS=dS.range,rS=Ms(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*Rj)},function(e,t){return(t-e)/Rj},function(e){return e.getUTCHours()}),cS=rS.range,lS=Ms(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Uj},function(e){return e.getUTCDate()-1}),sS=lS.range,fS=Rs(0),pS=Rs(1),uS=Rs(2),hS=Rs(3),bS=Rs(4),gS=Rs(5),yS=Rs(6),_S=fS.range,mS=pS.range,xS=bS.range,vS=Ms(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),kS=vS.range,wS=Ms(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});wS.every=function(e){return isFinite(e=zh(e))&&0<e?Ms(function(t){t.setUTCFullYear(zh(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var jS=wS.range,SS={"-":"",_:" ",0:"0"},TS=/^\s*\d+/,CS=/^%/,AS=/[\\^$*+?|[\]().{}]/g,ES,OS,NS,PS,MS;Xf({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var IS=Date.prototype.toISOString?function(e){return e.toISOString()}:PS("%Y-%m-%dT%H:%M:%S.%LZ"),RS=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:MS("%Y-%m-%dT%H:%M:%S.%LZ");Gf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Gf("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Gf("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Gf("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Gf("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Gf("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Gf("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Gf("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Gf("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var US=[,,,].concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Gf);Zf(US);var zS=[,,,].concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Gf);Zf(zS);var BS=[,,,].concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Gf);Zf(BS);var DS=[,,,].concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Gf);Zf(DS);var WS=[,,,].concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Gf);Zf(WS);var LS=[,,,].concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Gf);Zf(LS);var YS=[,,,].concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Gf);Zf(YS);var FS=[,,,].concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Gf);Zf(FS);var qS=[,,,].concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Gf);Zf(qS);var HS=[,,,].concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Gf);Zf(HS);var VS=[,,,].concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Gf);Zf(VS);var XS=[,,,].concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Gf);Zf(XS);var GS=[,,,].concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Gf);Zf(GS);var ZS=[,,,].concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Gf);Zf(ZS);var $S=[,,,].concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Gf);Zf($S);var KS=[,,,].concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Gf);Zf(KS);var JS=[,,,].concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Gf);Zf(JS);var QS=[,,,].concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Gf);Zf(QS);var eT=[,,,].concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Gf);Zf(eT);var tT=[,,,].concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Gf);Zf(tT);var nT=[,,,].concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Gf);Zf(nT);var aT=[,,,].concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Gf);Zf(aT);var oT=[,,,].concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Gf);Zf(oT);var dT=[,,,].concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Gf);Zf(dT);var iT=[,,,].concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Gf);Zf(iT);var rT=[,,,].concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Gf);Zf(rT);var cT=[,,,].concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Gf);Zf(cT),Jw(yc(300,.5,0),yc(-240,.5,1));var lT=Jw(yc(-100,.75,.35),yc(80,1.5,.8)),sT=Jw(yc(260,.75,.35),yc(80,1.5,.8)),fT=yc(),c=tc();$f(Gf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var pT=$f(Gf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),uT=$f(Gf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hT=$f(Gf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ep(this,this._t0,Qf(this,this._t0));}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ep(this,Qf(this,n=Jf(this,e,t)),n);break;default:ep(this,this._t0,n=Jf(this,e,t));}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(function(e){this._context=new np(e)}.prototype=Object.create(tp.prototype)).point=function(e,t){tp.prototype.point.call(this,t,e)},np.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,o,d){this._context.bezierCurveTo(t,e,a,n,d,o)}},ap.prototype={constructor:ap,scale:function(e){return 1===e?this:new ap(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ap(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bT=new ap(1,0,0),gT={cocktail:{dim:{height:16,label:{xOffset:30,yOffset:15},margin:4,subtitleOffset:8,titleOffset:26,width:16},keys:["CAT_4","CAT_3","CAT_2","CAT_1","NO_TEST"],labels:{CAT_1:"Nenhum agrotóxico",CAT_2:"De 1 a 13",CAT_3:"De 14 a 26",CAT_4:"Todos os 27 testados",NO_TEST:"Testes não foram feitos"}},limits:{dim:{height:16,label:{xOffset:30,yOffset:15},margin:4,subtitleOffset:8,titleOffset:26,width:16},keys:["SUP_BR","SUP_EU","BELOW","NO_TEST"],labels:{BELOW:"Todos os agrotóxicos dentro dos limites",NO_TEST:"Sem dados",SUP_BR:"Pelo menos um acima do limite brasileiro",SUP_EU:"Pelo menos um acima do limite europeu"}},max:27},yT={MultiPolygon:function(e,t){for(var n=e.coordinates,a=-1,o=n.length;++a<o;)if(_s(n[a][0],t))return!0;return!1},Polygon:function(e,t){return _s(e.coordinates[0],t)}},_T={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},mT=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var xT=document.documentElement;if(!xT.matches){var vT=xT.webkitMatchesSelector||xT.msMatchesSelector||xT.mozMatchesSelector||xT.oMatchesSelector;mT=function(e){return function(){return vT.call(this,e)}}}}var kT=mT,wT={},jT=null;if("undefined"!=typeof document){var ST=document.documentElement;"onmouseenter"in ST||(wT={mouseenter:"mouseover",mouseleave:"mouseout"})}Ep.prototype={constructor:Ep,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};Zp.prototype={add:function(e){var t=this._names.indexOf(e);0>t&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return 0<=this._names.indexOf(e)}};var TT=[null];hu.prototype=function(){return new hu([[document.documentElement]],TT)}.prototype={constructor:hu,select:Sp,selectAll:function(e){"function"!=typeof e&&(e=Cp(e));for(var t=this._groups,a=t.length,o=[],d=[],r=0;r<a;++r)for(var c=t[r],l=c.length,n=0,s;n<l;++n)(s=c[n])&&(o.push(e.call(s,s.__data__,n,c)),d.push(s));return new hu(o,d)},filter:function(e){"function"!=typeof e&&(e=kT(e));for(var t=this._groups,a=t.length,o=Array(a),d=0;d<a;++d)for(var r=t[d],c=r.length,n=o[d]=[],l=0,s;l<c;++l)(s=r[l])&&e.call(s,s.__data__,l,r)&&n.push(s);return new hu(o,this._parents)},data:function(e,t){if(!e)return u=Array(this.size()),l=-1,this.each(function(e){u[++l]=e}),u;var n=t?Pp:Np,a=this._parents,o=this._groups;"function"!=typeof e&&(e=Op(e));for(var d=o.length,i=Array(d),r=Array(d),c=Array(d),l=0;l<d;++l){var s=a[l],f=o[l],p=f.length,u=e.call(s,s&&s.__data__,l,a),h=u.length,b=r[l]=Array(h),g=i[l]=Array(h),y=c[l]=Array(p);n(s,f,b,g,y,u,t);for(var _=0,m=0,x,v;_<h;++_)if(x=b[_]){for(_>=m&&(m=_+1);!(v=g[m])&&++m<h;);x._next=v||null}}return i=new hu(i,a),i._enter=r,i._exit=c,i},enter:function(){return new hu(this._enter||this._groups.map(Ap),this._parents)},exit:function(){return new hu(this._exit||this._groups.map(Ap),this._parents)},merge:function(e){for(var t=this._groups,a=e._groups,o=t.length,d=a.length,r=Nh(o,d),c=Array(o),l=0;l<r;++l)for(var s=t[l],f=a[l],p=s.length,n=c[l]=Array(p),u=0,h;u<p;++u)(h=s[u]||f[u])&&(n[u]=h);for(;l<o;++l)c[l]=t[l];return new hu(c,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a=e[t],o=a.length-1,d=a[o],r;0<=--o;)(r=a[o])&&(d&&d!==r.nextSibling&&d.parentNode.insertBefore(r,d),d=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Mp);for(var a=this._groups,o=a.length,d=Array(o),r=0;r<o;++r){for(var c=a[r],l=c.length,n=d[r]=Array(l),s=0,f;s<l;++s)(f=c[s])&&(n[s]=f);n.sort(t)}return new hu(d,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,a=e.length;t<a;++t)for(var o=e[t],d=0,r=o.length,n;d<r;++d)if(n=o[d],n)return n;return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,a=0,o=t.length;a<o;++a)for(var d=t[a],r=0,c=d.length,n;r<c;++r)(n=d[r])&&e.call(n,n.__data__,r,d);return this},attr:function(e,t){var n=sp(e);if(2>arguments.length){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((null==t?n.local?Rp:Ip:"function"==typeof t?n.local?Dp:Bp:n.local?zp:Up)(n,t))},style:function(e,t,n){var a;return 1<arguments.length?this.each((null==t?Lp:"function"==typeof t?Fp:Yp)(e,t,null==n?"":n)):Wp(a=this.node()).getComputedStyle(a,null).getPropertyValue(e)},property:function(e,t){return 1<arguments.length?this.each((null==t?qp:"function"==typeof t?Vp:Hp)(e,t)):this.node()[e]},classed:function(e,t){var a=Xp(e+"");if(2>arguments.length){for(var o=Gp(this.node()),d=-1,r=a.length;++d<r;)if(!o.contains(a[d]))return!1;return!0}return this.each(("function"==typeof t?eu:t?Jp:Qp)(a,t))},text:function(e){return arguments.length?this.each(null==e?tu:("function"==typeof e?au:nu)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ou:("function"==typeof e?iu:du)(e)):this.node().innerHTML},raise:function(){return this.each(ru)},lower:function(){return this.each(cu)},append:function(e){var t="function"==typeof e?e:up(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:up(e),a=null==t?lu:"function"==typeof t?t:jp(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})},remove:function(){return this.each(su)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,a,d){var r=gp(e+""),c=r.length,n,l;if(2>arguments.length){var s=this.node().__on;if(s)for(var f=0,p=s.length,u;f<p;++f)for(n=0,u=s[f];n<c;++n)if((l=r[n]).type===u.type&&l.name===u.name)return u.value;return}for(s=a?_p:yp,null==d&&(d=!1),n=0;n<c;++n)this.each(s(r[n],a,d));return this},dispatch:function(e,t){return this.each(("function"==typeof t?uu:pu)(e,t))}};var CT={value:function(){}};_u.prototype=yu.prototype={constructor:_u,on:function(e,a){var o=this._,d=mu(e+"",o),r=-1,c=d.length,n;if(2>arguments.length){for(;++r<c;)if((n=(e=d[r]).type)&&(n=xu(o[n],e.name)))return n;return}if(null!=a&&"function"!=typeof a)throw new Error("invalid callback: "+a);for(;++r<c;)if(n=(e=d[r]).type)o[n]=vu(o[n],e.name,a);else if(null==a)for(n in o)o[n]=vu(o[n],e.name,null);return this},copy:function(){var e={},n=this._;for(var a in n)e[a]=n[a].slice();return new _u(e)},call:function(e,a){if(0<(r=arguments.length-2))for(var o=Array(r),d=0,r,c;d<r;++d)o[d]=arguments[d+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],d=0,r=c.length;d<r;++d)c[d].value.apply(a,o)},apply:function(e,a,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var d=this._[e],t=0,r=d.length;t<r;++t)d[t].value.apply(a,o)}},Cu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var AT=1e-12,ET=kh,OT=ET/2,NT=2*ET;Yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);}}},Vu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Hu(this,this._x1,this._y1);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Hu(this,e,t);}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},Gu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Oh(this._l23_2a=Mh(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Xu(this,e,t);}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var PT=function e(t){function n(e){return t?new Gu(e,t):new Vu(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);Qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ju(this,this._t0,Ku(this,this._t0));}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ju(this,Ku(this,n=$u(this,e,t)),n);break;default:Ju(this,this._t0,n=$u(this,e,t));}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(function(e){this._context=new eh(e)}.prototype=Object.create(Qu.prototype)).point=function(e,t){Qu.prototype.point.call(this,t,e)},eh.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,o,d){this._context.bezierCurveTo(t,e,a,n,d,o)}};var MT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IT=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},RT=function(){function e(e,t){for(var n=0,a;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),UT=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},zT=function e(t,n,a){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(o===void 0){var d=Object.getPrototypeOf(t);return null===d?void 0:e(d,n,a)}if("value"in o)return o.value;var i=o.get;return void 0===i?void 0:i.call(a)},BT=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},DT=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e},WT=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},LT=function(){function e(t){var n=t.x,a=void 0===n?0:n,o=t.y,d=void 0===o?0:o,i=t.nx,r=t.ny,c=t.dy,l=void 0===c?0:c,s=t.dx,f=void 0===s?0:s,p=t.color,u=void 0===p?"grey":p,h=t.data,b=t.type,g=t.subject,y=t.connector,_=t.note,m=t.disable,x=t.id,v=t.className;IT(this,e),this._dx=void 0===i?f:i-a,this._dy=void 0===r?l:r-d,this._x=a,this._y=d,this._color=u,this.id=x,this._className=v||"",this._type=b||"",this.data=h,this.note=_||{},this.connector=y||{},this.subject=g||{},this.disable=m||[]}return RT(e,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(e){this._className=e,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(e){this._type=e,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(e){this._x=e,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(e){this._dx=e,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(e){this._dy=e,this.updateOffset()}},{key:"nx",set:function(e){this._dx=e-this._x,this.updateOffset()}},{key:"ny",set:function(e){this._dy=e-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(e){var t=e.x,n=e.y;this._dx=t,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(e){var t=e.x,n=e.y;this._x=t,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var e={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&0<Object.keys(this.data).length&&(e.data=this.data),this.type&&(e.type=this.type),this._className&&(e.className=this._className),0<Object.keys(this.connector).length&&(e.connector=this.connector),0<Object.keys(this.subject).length&&(e.subject=this.subject),0<Object.keys(this.note).length&&(e.note=this.note),e}}]),e}(),YT=function(){function e(t){var n=t.annotations,a=t.accessors,o=t.accessorsInverse;IT(this,e),this.accessors=a,this.accessorsInverse=o,this.annotations=n}return RT(e,[{key:"clearTypes",value:function(e){this.annotations.forEach(function(t){t.type=void 0,t.subject=e&&e.subject||t.subject,t.connector=e&&e.connector||t.connector,t.note=e&&e.note||t.note})}},{key:"setPositionWithAccessors",value:function(){var e=this;this.annotations.forEach(function(t){t.type.setPositionWithAccessors(e.accessors)})}},{key:"editMode",value:function(e){this.annotations.forEach(function(t){t.type&&(t.type.editMode=e,t.type.updateEditMode())})}},{key:"updateDisable",value:function(e){this.annotations.forEach(function(t){t.disable=e,t.type&&e.forEach(function(e){t.type[e]&&(t.type[e].remove&&t.type[e].remove(),t.type[e]=void 0)})})}},{key:"updateTextWrap",value:function(e){this.annotations.forEach(function(t){t.type&&t.type.updateTextWrap&&t.type.updateTextWrap(e)})}},{key:"updateText",value:function(){this.annotations.forEach(function(e){e.type&&e.type.drawText&&e.type.drawText()})}},{key:"updateNotePadding",value:function(e){this.annotations.forEach(function(t){t.type&&(t.type.notePadding=e)})}},{key:"json",get:function(){var e=this;return this.annotations.map(function(t){var n=t.json;return e.accessorsInverse&&t.data&&(n.data={},Object.keys(e.accessorsInverse).forEach(function(a){n.data[a]=e.accessorsInverse[a]({x:t.x,y:t.y})})),n})}},{key:"noteNodes",get:function(){return this.annotations.map(function(e){return UT({},e.type.getNoteBBoxOffset(),{positionX:e.x,positionY:e.y})})}}]),e}(),FT=function(e){var t=e.cx,n=t===void 0?0:t,a=e.cy,o=a===void 0?0:a;return{move:{x:n,y:o}}},qT=function(e){var t=e.cx,n=void 0===t?0:t,a=e.cy,o=void 0===a?0:a,d=e.r1,i=e.r2,r=e.padding,c={move:{x:n,y:o}};return void 0!==d&&(c.r1={x:n+d/Oh(2),y:o+d/Oh(2)}),void 0!==i&&(c.r2={x:n+i/Oh(2),y:o+i/Oh(2)}),void 0!==r&&(c.padding={x:n+d+r,y:o}),c},HT=function(e){var t=e.group,n=e.handles,a=e.r,o=a===void 0?10:a,d=t.selectAll("circle.handle").data(n);d.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(Nu().container(bu("g.annotations").node()).on("start",function(e){return e.start&&e.start(e)}).on("drag",function(e){return e.drag&&e.drag(e)}).on("end",function(e){return e.end&&e.end(e)})),t.selectAll("circle.handle").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("r",function(e){return e.r||o}).attr("class",function(e){return"handle "+(e.className||"")}),d.exit().remove()},VT=function(e,t){return("dynamic"===e||"left"===e||"right"===e)&&(0>t?e="top":e="bottom"),e},XT=function(e,t){return("dynamic"===e||"top"===e||"bottom"===e)&&(0>t?e="right":e="left"),e},GT=["topBottom","top","bottom"],ZT=["leftRight","left","right"],$T=function(e){var t=e.padding,n=void 0===t?0:t,a=e.bbox,o=void 0===a?{x:0,y:0,width:0,height:0}:a,d=e.align,i=e.orientation,r=e.offset,c=void 0===r?{x:0,y:0}:r,l=-o.x,s=0;return-1===GT.indexOf(i)?-1!==ZT.indexOf(i)&&(d=VT(d,c.y),0>c.x&&"leftRight"===i||"left"===i?l-=o.width+n:l+=n,"middle"===d?s-=o.height/2:"top"===d&&(s-=o.height)):(d=XT(d,c.x),0>c.y&&"topBottom"===i||"top"===i?s-=o.height+n:s+=n,"middle"===d?l-=o.width/2:"right"===d&&(l-=o.width)),{x:l,y:s}},KT=function(e){var t=e.data,n=e.curve,a=void 0===n?Fu:n,o=e.canvasContext,d=e.className,i=e.classID,r=y().curve(a),c={type:"path",className:d,classID:i,data:t};return o?(r.context(o),c.pathMethods=r):c.attrs={d:r(t)},c},JT=function(e){var t=e.data,n=e.canvasContext,a=e.className,o=e.classID,d={type:"path",className:a,classID:o,data:t},i=Lu().innerRadius(t.innerRadius||0).outerRadius(t.outerRadius||t.radius||2).startAngle(t.startAngle||0).endAngle(t.endAngle||2*kh);return n?(i.context(n),d.pathMethods=lineGen):d.attrs={d:i()},d},QT=function(e){var t=e.align,n=e.x,a=n===void 0?0:n,o=e.y,d=o===void 0?0:o,i=e.bbox,r=e.offset;t=VT(t,r.y),"top"===t?d-=i.height:"middle"===t&&(d-=i.height/2);var c=[[a,d],[a,d+i.height]];return{components:[KT({data:c,className:"note-line"})]}},eC=function(e){var t=e.align,n=e.x,a=n===void 0?0:n,o=e.y,d=o===void 0?0:o,i=e.offset,r=e.bbox;t=XT(t,i.x),"right"===t?a-=r.width:"middle"===t&&(a-=r.width/2);var c=[[a,d],[a+r.width,d]];return{components:[KT({data:c,className:"note-line"})]}},tC=function(e){var t=e.type,n=e.subjectType,a=t.annotation,o=a.position,d=a.x-o.x,i=d+a.dx,c=a.y-o.y,l=c+a.dy,s=a.subject;if("circle"===n&&(s.outerRadius||s.radius)){var f=Oh((d-i)*(d-i)+(c-l)*(c-l)),p=jh(-l/f),u=s.outerRadius||s.radius+(s.radiusPadding||0);d=Ph(Ah(p)*u)*(0>i?-1:1),c=Ph(Ch(p)*u)*(0>l?-1:1)}if("rect"===n){var r=s.width,h=s.height;(0<r&&0<a.dx||0>r&&0>a.dx)&&(Ph(r)>Ph(a.dx)?d=r/2:d=r),(0<h&&0<a.dy||0>h&&0>a.dy)&&(Ph(h)>Ph(a.dy)?c=h/2:c=h),d===r/2&&c===h/2&&(d=i,c=l)}return[[d,c],[i,l]]},nC=function(e){var t=tC(e);return{components:[KT({data:t,className:"connector"})]}},aC=function(e){var t=e.type,n=e.subjectType,a=t.annotation,o=a.position,d=a.x-o.x,i=d+a.dx,c=a.y-o.y,l=c+a.dy,s=a.subject;if("rect"===n){var f=s.width,p=s.height;(0<f&&0<a.dx||0>f&&0>a.dx)&&(Ph(f)>Ph(a.dx)?d=f/2:d=f),(0<p&&0<a.dy||0>p&&0>a.dy)&&(Ph(p)>Ph(a.dy)?c=p/2:c=p),d===f/2&&c===p/2&&(d=i,c=l)}var u=[[d,c],[i,l]],h=l-c,b=i-d,g=i,y=l,_=l<c&&i>d||i<d&&l>c?-1:1;if(Ph(b)<Ph(h)?(g=i,y=c+b*_):(y=l,g=d+h*_),"circle"===n&&(s.outerRadius||s.radius)){var m=(s.outerRadius||s.radius)+(s.radiusPadding||0),r=m/Oh(2);if(Ph(b)>r&&Ph(h)>r)d=r*(0>i?-1:1),c=r*(0>l?-1:1),u=[[d,c],[g,y],[i,l]];else if(Ph(b)>Ph(h)){var x=jh(-l/m);d=Ph(Ah(x)*m)*(0>i?-1:1),u=[[d,l],[i,l]]}else{var v=wh(i/m);c=Ph(Ch(v)*m)*(0>l?-1:1),u=[[i,c],[i,l]]}}else u=[[d,c],[g,y],[i,l]];return{components:[KT({data:u,className:"connector"})]}},oC=function(e){var t=e.type,n=e.connectorData,a=e.subjectType;n||(n={}),n.points&&"number"!=typeof n.points||(n.points=dC(t.annotation.offset,n.points)),n.curve||(n.curve=PT);var o=[];if(t.editMode){var d=n.points.map(function(e,t){return UT({},FT({cx:e[0],cy:e[1]}),{index:t})}),i=function(e){n.points[e][0]+=jT.dx,n.points[e][1]+=jT.dy,t.redrawConnector()};o=t.mapHandles(d.map(function(e){return UT({},e.move,{drag:i.bind(t,e.index)})}))}var r=tC({type:t,subjectType:a});r=[r[0]].concat(WT(n.points),[r[1]]);var c=[KT({data:r,curve:n.curve,className:"connector"})];return{components:c,handles:o}},dC=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n={x:e.x/(t+1),y:e.y/(t+1)},a=[],o=1;o<=t;o++)a.push([n.x*o+20*(o%2),n.y*o-20*(o%2)]);return a},iC=function(e){var t=e.annotation,n=e.start,a=e.end,o=e.scale,d=o===void 0?1:o,i=t.position;n=n?[-a[0]+n[0],-a[1]+n[1]]:[t.dx,t.dy],a||(a=[t.x-i.x,t.y-i.y]);var r=a[0],c=a[1],l=n[0],s=n[1],f=10*d,p=16/180*kh,u=Sh(s/l);0>l&&(u+=kh);var h=[[r,c],[Ah(u+p)*f+r,Ch(u+p)*f+c],[Ah(u-p)*f+r,Ch(u-p)*f+c],[r,c]];return{components:[KT({data:h,className:"connector-end connector-arrow",classID:"connector-end"})]}},rC=function(e){var t=e.line,n=e.scale,a=void 0===n?1:n,o=JT({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Oh(a)}});return o.attrs.transform="translate("+t.data[0][0]+", "+t.data[0][1]+")",{components:[o]}},cC=function(e){var t=e.subjectData,n=e.type;t.radius||t.outerRadius||(t.radius=20);var a=[],o=JT({data:t,className:"subject"});if(n.editMode){var d=qT({r1:o.data.outerRadius||o.data.radius,r2:o.data.innerRadius,padding:t.radiusPadding}),i=function(e){var a=t[e]+jT.dx*Oh(2);t[e]=a,n.redrawSubject(),n.redrawConnector()},r=[UT({},d.r1,{drag:i.bind(n,void 0===t.outerRadius?"radius":"outerRadius")})];t.innerRadius&&r.push(UT({},d.r2,{drag:i.bind(n,"innerRadius")})),a=n.mapHandles(r)}return o.attrs["fill-opacity"]=0,{components:[o],handles:a}},lC=function(e){var t=e.subjectData,n=e.type;t.width||(t.width=100),t.height||(t.height=100);var a=[],o=t.width,d=t.height,i=KT({data:[[0,0],[o,0],[o,d],[0,d],[0,0]],className:"subject"});if(n.editMode){var r=function(){t.width=jT.x,n.redrawSubject(),n.redrawConnector()},c=function(){t.height=jT.y,n.redrawSubject(),n.redrawConnector()},l=[{x:o,y:d/2,drag:r.bind(n)},{x:o/2,y:d,drag:c.bind(n)}];a=n.mapHandles(l)}return i.attrs["fill-opacity"]=.1,{components:[i],handles:a}},sC=function(e){var t=e.subjectData,n=e.type,a=n.annotation.position,o=(t.x1===void 0?a.x:t.x1)-a.x,d=(t.x2===void 0?a.x:t.x2)-a.x,i=(t.y1===void 0?a.y:t.y1)-a.y,r=(t.y2===void 0?a.y:t.y2)-a.y;return{components:[KT({data:[[o,i],[d,r]],className:"subject"})]}},fC=function(e){var t=e.subjectData,n=void 0===t?{}:t,a=e.type,o=void 0===a?{}:a,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=o.typeSettings&&o.typeSettings.subject;n.radius||(i&&i.radius?n.radius=i.radius:n.radius=14),!n.x&&i&&i.x&&(n.x=i.x),!n.y&&i&&i.y&&(n.y=i.y);var r=[],c=[],l=n.radius,s=0,f=0,p=Oh(2)*l,u={xleftcorner:-l,xrightcorner:l,ytopcorner:-l,ybottomcorner:l,xleft:-p,xright:p,ytop:-p,ybottom:p};n.x&&!n.y?s=u["x"+n.x]:n.y&&!n.x?f=u["y"+n.y]:n.x&&n.y&&(s=u["x"+n.x+"corner"],f=u["y"+n.y+"corner"]);var h="translate("+s+", "+f+")",b=JT({className:"subject",data:{radius:l}});b.attrs.transform=h,b.attrs.fill=d.color,b.attrs["stroke-linecap"]="round",b.attrs["stroke-width"]="3px";var g=JT({className:"subject-ring",data:{outerRadius:l,innerRadius:.7*l}});g.attrs.transform=h,g.attrs["stroke-width"]="3px",g.attrs.fill="white";var _;if(s&&f||!s&&!f)_=KT({className:"subject-pointer",data:[[0,0],[s||0,0],[0,f||0],[0,0]]});else if(s||f){var m=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return e&&e/Oh(2)/Oh(2)||t*l/Oh(2)};_=KT({className:"subject-pointer",data:[[0,0],[m(s),m(f)],[m(s,-1),m(f,-1)],[0,0]]})}if(_&&(_.attrs.fill=d.color,_.attrs["stroke-linecap"]="round",_.attrs["stroke-width"]="3px",c.push(_)),o.editMode){var v=function(){n.x=jT.x<2*-l?"left":jT.x>2*l?"right":void 0,n.y=jT.y<2*-l?"top":jT.y>2*l?"bottom":void 0,o.redrawSubject()},k={x:2*s,y:2*f,drag:v.bind(o)};k.x||k.y||(k.y=-l),r=o.mapHandles([k])}var w;return n.text&&(w={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:n.text,"text-anchor":"middle",dy:".25em",x:s,y:f}}),c.push(b),c.push(g),c.push(w),{components:c,handles:r}},pC=function(){function e(t){var n=t.a,a=t.annotation,o=t.editMode,d=t.dispatcher,i=t.notePadding,r=t.accessors;if(IT(this,e),this.a=n,this.note=-1===a.disable.indexOf("note")&&n.select("g.annotation-note"),this.noteContent=this.note&&n.select("g.annotation-note-content"),this.connector=-1===a.disable.indexOf("connector")&&n.select("g.annotation-connector"),this.subject=-1===a.disable.indexOf("subject")&&n.select("g.annotation-subject"),this.dispatcher=d,d){var c=SC.bind(null,d,a);c({component:this.note,name:"note"}),c({component:this.connector,name:"connector"}),c({component:this.subject,name:"subject"})}this.annotation=a,this.editMode=a.editMode||o,this.notePadding=void 0===i?3:i,this.offsetCornerX=0,this.offsetCornerY=0,r&&a.data&&this.init(r)}return RT(e,[{key:"init",value:function(e){this.annotation.x||this.mapX(e),this.annotation.y||this.mapY(e)}},{key:"mapY",value:function(e){e.y&&(this.annotation.y=e.y(this.annotation.data))}},{key:"mapX",value:function(e){e.x&&(this.annotation.x=e.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(e,t){var n=this;Array.isArray(t)||(t=[t]),t.filter(function(e){return e}).forEach(function(t){var a=t.type,o=t.className,d=t.attrs,r=t.handles,c=t.classID;if("handle"===a)HT({group:e,r:d&&d.r,handles:r});else{jC(e,[n.annotation],a,o,c);for(var l=e.select(a+"."+(c||o)),s=Object.keys(d),f=[],p=l.node().attributes,u=p.length-1,h;0<=u;u--)h=p[u].name,-1===s.indexOf(h)&&"class"!==h&&f.push(h);s.forEach(function(e){"text"===e?l.text(d[e]):l.attr(e,d[e])}),f.forEach(function(e){return l.attr(e,null)})}})}},{key:"getNoteBBox",value:function(){return CC(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var e=CC(this.note,".annotation-note-content"),t=this.noteContent.attr("transform").split(/\(|\,|\)/g);return e.offsetCornerX=parseFloat(t[1])+this.annotation.dx,e.offsetCornerY=parseFloat(t[2])+this.annotation.dy,e.offsetX=this.annotation.dx,e.offsetY=this.annotation.dy,e}},{key:"drawSubject",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.subject,a=t.type,o={type:this,subjectData:n},d={};"circle"===a?d=cC(o):"rect"===a?d=lC(o):"threshold"===a?d=sC(o):"badge"===a&&(d=fC(o,this.annotation));var i=d,r=i.components,c=void 0===r?[]:r,l=i.handles,s=void 0===l?[]:l;return c.forEach(function(t){t&&t.attrs&&!t.attrs.stroke&&(t.attrs.stroke=e.annotation.color)}),this.editMode&&(s=s.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),c.push({type:"handle",handles:s})),c}},{key:"drawConnector",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=this.annotation.connector,o=a.type||n.type,d={type:this,connectorData:a};d.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var i={};i="curve"===o?oC(d):"elbow"===o?aC(d):nC(d);var r=i,c=r.components,l=void 0===c?[]:c,f=r.handles,p=void 0===f?[]:f,u=l[0];u&&(u.attrs.stroke=this.annotation.color,u.attrs.fill="none");var h=a.end||n.end,b={};if("arrow"===h){var g=u.data[1],y=u.data[0],e=Oh(Mh(g[0]-y[0],2)+Mh(g[1]-y[1],2));5>e&&u.data[2]&&(g=u.data[2]),b=iC({annotation:this.annotation,start:g,end:y,scale:a.endScale})}else"dot"===h?b=rC({line:u,scale:a.endScale}):(!h||"none"===h)&&this.connector&&this.connector.select(".connector-end").remove();return b.components&&(b.components.forEach(function(e){e.attrs.fill=t.annotation.color,e.attrs.stroke=t.annotation.color}),l=l.concat(b.components)),this.editMode&&0!==p.length&&l.push({type:"handle",handles:p}),l}},{key:"drawNote",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.note,a=n.align||t.align||"dynamic",o={bbox:t.bbox,align:a,offset:this.annotation.offset},d=n.lineType||t.lineType,i={};"vertical"===d?i=QT(o):"horizontal"===d&&(i=eC(o));var r=i,c=r.components,l=void 0===c?[]:c,s=r.handles,f=void 0===s?[]:s;if(l.forEach(function(t){t.attrs.stroke=e.annotation.color}),this.editMode){f=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),l.push({type:"handle",handles:f});var p=this.dragNote.bind(this),u=this.dragstarted.bind(this),h=this.dragended.bind(this);this.note.call(Nu().container(bu("g.annotations").node()).on("start",function(e){return u(e)}).on("drag",function(e){return p(e)}).on("end",function(e){return h(e)}))}else this.note.on("mousedown.drag",null);return l}},{key:"drawNoteContent",value:function(e){var t=this.annotation.note,n=void 0===t.padding?this.notePadding:t.padding,a=t.orientation||e.orientation||"topBottom",o=t.lineType||e.lineType,d=t.align||e.align||"dynamic";"vertical"===o?a="leftRight":"horizontal"===o&&(a="topBottom");var i={padding:n,bbox:e.bbox,offset:this.annotation.offset,orientation:a,align:d},r=$T(i),c=r.x,l=r.y;return this.offsetCornerX=c+this.annotation.dx,this.offsetCornerY=l+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+c+", "+l+")"),[]}},{key:"drawOnScreen",value:function(e,t){return this.drawOnSVG(e,t)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:e})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:e}))}},{key:"setPosition",value:function(){var e=this.annotation.position;this.a.attr("transform","translate("+e.x+", "+e.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var e=this.annotation.offset;this.note.attr("transform","translate("+e.x+", "+e.y+")")}}},{key:"setPositionWithAccessors",value:function(e){e&&this.annotation.data&&(this.mapX(e),this.mapY(e)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){jT.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var e=this.annotation.position;e.x+=jT.dx,e.y+=jT.dy,this.annotation.position=e}},{key:"dragNote",value:function(){var e=this.annotation.offset;e.x+=jT.dx,e.y+=jT.dy,this.annotation.offset=e}},{key:"mapHandles",value:function(e){var t=this;return e.map(function(e){return UT({},e,{start:t.dragstarted.bind(t),end:t.dragended.bind(t)})})}}]),e}(),uC=function(e,t,n){return function(e){function a(e){IT(this,a);var n=DT(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return n.typeSettings=t,t.disable&&t.disable.forEach(function(e){n[e]&&n[e].remove(),n[e]=void 0,"note"===e&&(n.noteContent=void 0)}),n}return BT(a,e),RT(a,[{key:"className",value:function(){return""+(t.className||zT(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"className",this)&&zT(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(e){return this.typeSettings.subject=UT({},t.subject,this.typeSettings.subject),zT(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawSubject",this).call(this,UT({},e,this.typeSettings.subject))}},{key:"drawConnector",value:function(e){return this.typeSettings.connector=UT({},t.connector,this.typeSettings.connector),zT(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawConnector",this).call(this,UT({},e,t.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(e){return this.typeSettings.note=UT({},t.note,this.typeSettings.note),zT(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawNote",this).call(this,UT({},e,t.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(e){return zT(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawNoteContent",this).call(this,UT({},e,t.note,this.typeSettings.note))}}],[{key:"init",value:function(e,t){return zT(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,e,t),n&&(e=n(e,t)),e}}]),a}(e)},hC=function(e){function t(e){IT(this,t);var n=DT(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.textWrap=e.textWrap||120,n.drawText(),n}return BT(t,e),RT(t,[{key:"updateTextWrap",value:function(e){this.textWrap=e,this.drawText()}},{key:"drawText",value:function(){if(this.note){jC(this.note,[this.annotation],"g","annotation-note-content");var e=this.note.select("g.annotation-note-content");jC(e,[this.annotation],"rect","annotation-note-bg"),jC(e,[this.annotation],"text","annotation-note-label"),jC(e,[this.annotation],"text","annotation-note-title");var t={height:0},n=this.a.select("text.annotation-note-label"),a=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,o=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,d=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,i={top:0,bottom:0,left:0,right:0};if("number"==typeof d?i={top:d,bottom:d,left:d,right:d}:d&&"object"===("undefined"==typeof d?"undefined":MT(d))&&(i=UT(i,d)),this.annotation.note.title){var r=this.a.select("text.annotation-note-title");r.text(this.annotation.note.title),r.attr("fill",this.annotation.color),r.attr("font-weight","bold"),r.call(TC,a,o),t=r.node().getBBox()}n.text(this.annotation.note.label).attr("dx","0"),n.call(TC,a,o),n.attr("y",1.1*t.height||0),n.attr("fill",this.annotation.color);var c=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",c.width+i.left+i.right).attr("height",c.height+i.top+i.bottom).attr("x",c.x-i.left).attr("y",-i.top).attr("fill","white").attr("fill-opacity",0)}}}]),t}(pC),bC=uC(hC,{className:"label",note:{align:"middle"}}),gC=uC(hC,{className:"callout",note:{lineType:"horizontal"}}),yC=uC(gC,{className:"callout elbow",connector:{type:"elbow"}}),_C=uC(gC,{className:"callout curve",connector:{type:"curve"}}),mC=uC(pC,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),xC=uC(hC,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),vC=uC(hC,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),kC=function(e){function t(){return IT(this,t),DT(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return BT(t,e),RT(t,[{key:"mapY",value:function(e){zT(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mapY",this).call(this,e);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&e.y&&(n.y=e.y(n.data)),(n.subject.x1||n.subject.x2)&&!n.x&&(n.x=n.subject.x1||n.subject.x2)}},{key:"mapX",value:function(e){zT(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mapX",this).call(this,e);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&e.x&&(n.x=e.x(n.data)),(n.subject.y1||n.subject.y2)&&!n.y&&(n.y=n.subject.y1||n.subject.y2)}}]),t}(gC),wC=uC(kC,{className:"callout xythreshold",subject:{type:"threshold"}}),jC=function(e,t,n,a,o){var d=e.selectAll(n+"."+(o||a)).data(t);return d.enter().append(n).merge(d).attr("class",a),d.exit().remove(),e},SC=function(e,t,n){var a=n.component,o=n.name;a&&a.on("mouseover.annotations",function(){e.call(o+"over",a,t)}).on("mouseout.annotations",function(){return e.call(o+"out",a,t)}).on("click.annotations",function(){return e.call(o+"click",a,t)})},TC=function(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1.2;e.each(function(){for(var e=bu(this),o=e.text().split(n||/[ \t\r\n]+/).reverse().filter(function(e){return""!==e}),d=void 0,i=[],r=e.text(null).append("tspan").attr("x",0).attr("dy","0.8em");d=o.pop();)i.push(d),r.text(i.join(" ")),r.node().getComputedTextLength()>t&&1<i.length&&(i.pop(),r.text(i.join(" ")),i=[d],r=e.append("tspan").attr("x",0).attr("dy",a+"em").text(d))})},CC=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:":not(.handle)";return e?e.selectAll(t).nodes().reduce(function(e,t){var n=t.getBBox();e.x=Nh(e.x,n.x),e.y=Nh(e.y,n.y),e.width=Uh(e.width,n.width);var a=t&&t.attributes&&t.attributes.y;return e.height=Uh(e.height,(a&&parseFloat(a.value)||0)+n.height),e},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}},AC={nx:220,ny:700,radius:{min:20,padding:5}},EC=["Nunca testado","Todas as substâncias abaixo dos limites brasileiro e europeu","Agrotóxico(s) detectado(s) acima do limite europeu","Agrotóxico(s) detectado(s) acima do limite brasileiro"],OC={data:{height:960,width:960},drawing:{scale:1.5},svg:{height:960,margin:200,width:960},zoom:{scale:{max:16,min:1},selectedMun:4}},NC=e("data-loaded","breadcrumb-click-brazil","to-brazil-view","to-mun-view","search-results-updated","search-selected","make-app-cocktail","make-app-limits","make-app-substances","mun-click","mun-mouseover","mun-mouseout","substance-selected","zoomed");(function(e){var t=this,n=[v(nw.tests.url,{integrity:nw.tests.integrityHash}),Vh(nw.substances.url,{integrity:nw.substances.integrityHash}),v(nw.topojson.url,{integrity:nw.topojson.integrityHash}),Vh(nw.values.url,{integrity:nw.values.integrityHash},function(e){return{category:{atrAvgCat:e.atrazine_average_category,atrMaxCat:e.atrazine_category,simAvgCat:e.simazine_average_category,simMaxCat:e.simazine_category},ibgeCode:e.ibge_code,number:{detected:+e.detected,eqBr:+e.eq_br,supBr:+e.sup_br,supEu:+e.sup_eu}}})];return Promise.all(n).then(function(n){function a(e){e=e.sort(function(e,t){return e-t});var t=e.length/2;return 0==t%1?(e[t-1]+e[t])/2:e[zh(t)]}var o=n[1].map(function(e){return{code:e.code,isHhce:"true"===e.hhce,limit:+e.limit,name:e.name,shortName:e.shortName,url:"https://portrasdoalimento.info/2019/04/12/conheca-os-27-agrotoxicos-encontrados-na-agua-que-abastasse-as-cidades-do-brasil/#"+e.urlFragment}}),d=o.reduce(function(e,t){return e[t.code]=t,e},{}),i=n[0],r=n[2],c=n[3].reduce(function(e,t){return e[t.ibgeCode]=t,e},{}),l=ni(r,"municipalities");l.features=l.features.map(function(e){return e.properties.ibgeCode in c&&(e.properties.category=c[e.properties.ibgeCode].category,e.properties.number=c[e.properties.ibgeCode].number),e.properties.ibgeCode in i?(e.properties.tests=ai(i[e.properties.ibgeCode],d),e.properties.map1Number=e.properties.tests.filter(function(e){return 0<e.max}).length,e.properties.map1Category=0===e.properties.map1Number?ew.CATEGORY.CAT_1:e.properties.map1Number<ew.CUT_14?ew.CATEGORY.CAT_2:e.properties.map1Number<ew.CUT_27?ew.CATEGORY.CAT_3:ew.CATEGORY.CAT_4,e.properties.map2Category=e.properties.tests.reduce(function(e,t){return t.map2Category>e&&(e=t.map2Category),e},tw.CATEGORY.BELOW)):(e.properties.map1Number=NaN,e.properties.map1Category=ew.CATEGORY.NO_TEST,e.properties.map2Category=tw.CATEGORY.NO_TEST),e.properties.deburredName=Mt(e.properties.name),e.properties.fuName=aw[e.properties.fu],e});var s=o.map(function(e){var t=l.features.filter(function(t){return!!("tests"in t.properties)&&1===t.properties.tests.filter(function(t){return t.substance.code===e.code}).length}),n=t.filter(function(t){var n=t.properties.tests.filter(function(t){return t.substance.code===e.code})[0];return 0<n.max}),o=a(t.map(function(t){var n=t.properties.tests.filter(function(t){return t.substance.code===e.code})[0];return n.max}));return{code:e.code,detectedIn:n.length,limit:e.limit,medianConcentration:o,name:e.name,shortName:e.shortName,testedIn:t.length}}),f=s.reduce(function(e,t){return e[t.code]=t,e},{}),p=ni(r,"republic");p.features[0].properties.tests=s.map(function(e){return{max:e.medianConcentration,substance:e}});var u={brazil:p,fu:ni(r,"federative-units"),internalFu:ni(r,"internal-federative-units"),mun:l,substancesLut:f};e.call("data-loaded",t,u)}).catch(function(e){console.log(e)})})(NC),NC.on("data-loaded.main",function(e){var t={data:e};fh(NC,t),uh(Vr("section#search"),NC,t),ch(Vr("section#map"),NC,e),NC.call("make-app-cocktail",null,t)}),NC.on("make-app-cocktail.main",function(e){vh("cocktail"),di(Vr("nav#breadcrumb"),NC,e),_i(Vr("section#details"),NC,"cocktail",e)}),NC.on("make-app-limits.main",function(e){vh("limits"),di(Vr("nav#breadcrumb"),NC,e),_i(Vr("section#details"),NC,"limits",e)}),NC.on("mun-click.main search-selected.main",function(e){NC.call("to-mun-view",null,e)}),NC.on("breadcrumb-click-brazil.main",function(){NC.call("to-brazil-view")})})();
